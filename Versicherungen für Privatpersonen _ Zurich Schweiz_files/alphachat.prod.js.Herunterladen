!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=t(n((function(e){function t(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=e.apply(n,r);function s(e){t(o,a,i,s,c,"next",e)}function c(e){t(o,a,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),a=n((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new A(a||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function f(){}function d(){}var g={};c(g,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(x([])));m&&m!==t&&n.call(m,i)&&(g=m);var y=d.prototype=p.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=d,r(y,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:f,configurable:!0}),f.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),c(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,s,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));
/**
	@license @nocompile
	Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/
(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},a="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function i(){i=function(){},a.Symbol||(a.Symbol=c)}function o(e,t){this.a=e,r(this,"description",{configurable:!0,writable:!0,value:t})}o.prototype.toString=function(){return this.a};var s,c=function(){var e=0;return function t(n){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(n||"")+"_"+e++,n)}}();function l(){i();var e=a.Symbol.iterator;e||(e=a.Symbol.iterator=a.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&r(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return function(e){return l(),(e={next:e})[a.Symbol.iterator]=function(){return this},e}(n(this))}}),l=function(){}}function u(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function h(e){if(!(e instanceof Array)){e=u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}if("function"==typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{var p;e:{var f={};try{f.__proto__={Pa:!0},p=f.Pa;break e}catch(Yt){}p=!1}s=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=s;function g(){this.l=!1,this.b=null,this.Ea=void 0,this.a=1,this.Y=0,this.c=null}function v(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function m(e,t){e.c={Sa:t,Wa:!0},e.a=e.Y}function y(e,t){return e.a=3,{value:t}}function b(e){this.a=new g,this.b=e}function _(e,t,n,r){try{var a=t.call(e.a.b,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.a.l=!1,a;var i=a.value}catch(t){return e.a.b=null,m(e.a,t),w(e)}return e.a.b=null,r.call(e.a,i),w(e)}function w(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.l=!1,{value:t.value,done:!1}}catch(t){e.a.Ea=void 0,m(e.a,t)}if(e.a.l=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Wa)throw t.Sa;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return v(e.a),e.a.b?t=_(e,e.a.b.next,t,e.a.J):(e.a.J(t),t=w(e)),t},this.throw=function(t){return v(e.a),e.a.b?t=_(e,e.a.b.throw,t,e.a.J):(m(e.a,t),t=w(e)),t},this.return=function(t){return function(e,t){v(e.a);var n=e.a.b;return n?_(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),w(e))}(e,t)},l(),this[Symbol.iterator]=function(){return this}}function E(e,t){return t=new k(new b(t)),d&&d(t,e.prototype),t}g.prototype.J=function(e){this.Ea=e},g.prototype.return=function(e){this.c={return:e},this.a=this.Y},Array.from||(Array.from=function(e){return[].slice.call(e)}),Object.assign||(Object.assign=function(e){for(var t,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(t=n[r])for(var a=e,i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];a[s]=t[s]}return e});var S=setTimeout;function A(){}function x(e){if(!(this instanceof x))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this.I=0,this.za=!1,this.C=void 0,this.W=[],M(e,this)}function C(e,t){for(;3===e.I;)e=e.C;0===e.I?e.W.push(t):(e.za=!0,R((function(){var n=1===e.I?t.Ya:t.Za;if(null===n)(1===e.I?O:T)(t.va,e.C);else{try{var r=n(e.C)}catch(e){return void T(t.va,e)}O(t.va,r)}})))}function O(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof x)return e.I=3,e.C=t,void N(e);if("function"==typeof n)return void M(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e.I=1,e.C=t,N(e)}catch(t){T(e,t)}}function T(e,t){e.I=2,e.C=t,N(e)}function N(e){2===e.I&&0===e.W.length&&R((function(){e.za||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e.C)}));for(var t=0,n=e.W.length;t<n;t++)C(e,e.W[t]);e.W=null}function P(e,t,n){this.Ya="function"==typeof e?e:null,this.Za="function"==typeof t?t:null,this.va=n}function M(e,t){var n=!1;try{e((function(e){n||(n=!0,O(t,e))}),(function(e){n||(n=!0,T(t,e))}))}catch(e){n||(n=!0,T(t,e))}}function j(e){return e&&"object"==typeof e&&e.constructor===x?e:new x((function(t){t(e)}))}x.prototype.catch=function(e){return this.then(null,e)},x.prototype.then=function(e,t){var n=new this.constructor(A);return C(this,new P(e,t,n)),n},x.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};var R="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){S(e,0)};if(!window.Promise){window.Promise=x,x.prototype.then=x.prototype.then,x.all=function(e){return new x((function(t,n){function r(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){r(e,t)}),n)}a[e]=o,0==--i&&t(a)}catch(e){n(e)}}if(!e||void 0===e.length)return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var i=a.length,o=0;o<a.length;o++)r(o,a[o])}))},x.race=function(e){return new x((function(t,n){if(!e||void 0===e.length)return n(new TypeError("Promise.race accepts an array"));for(var r=0,a=e.length;r<a;r++)j(e[r]).then(t,n)}))},x.resolve=j,x.reject=function(e){return new x((function(t,n){n(e)}))};var D=document.createTextNode(""),I=[];new MutationObserver((function(){for(var e=I.length,t=0;t<e;t++)I[t]();I.splice(0,e)})).observe(D,{characterData:!0}),R=function(e){I.push(e),D.textContent=0<D.textContent.length?"":"a"}}!function(t,n){if(!(n in t)){var r=typeof e==typeof r?window:e,a=0,i=""+Math.random(),o="__symbol@@"+i,s=t.getOwnPropertyNames,c=t.getOwnPropertyDescriptor,l=t.create,u=t.keys,h=t.freeze||t,p=t.defineProperty,f=t.defineProperties,d=c(t,"getOwnPropertyNames"),g=t.prototype,v=g.hasOwnProperty,m=g.propertyIsEnumerable,y=g.toString,b=function(e,t,n){v.call(e,o)||p(e,o,{enumerable:!1,configurable:!1,writable:!1,value:{}}),e[o]["@@"+t]=n},_=function(e,t){var n=l(e);return s(t).forEach((function(e){S.call(t,e)&&N(n,e,t[e])})),n},w=function(){},k=function(e){return e!=o&&!v.call(C,e)},E=function(e){return e!=o&&v.call(C,e)},S=function(e){var t=""+e;return E(t)?v.call(this,t)&&this[o]["@@"+t]:m.call(this,e)},A=function(e){return p(g,e,{enumerable:!1,configurable:!0,get:w,set:function(t){M(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),b(this,e,!0)}}),h(C[e]=p(t(e),"constructor",O))},x=function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return A("__symbol:".concat(t||"",i,++a))},C=l(null),O={value:x},T=function(e){return C[e]},N=function(e,t,n){var r=""+t;if(E(r)){if(t=M,n.enumerable){var a=l(n);a.enumerable=!1}else a=n;t(e,r,a),b(e,r,!!n.enumerable)}else p(e,t,n);return e},P=function(e){return s(e).filter(E).map(T)};d.value=N,p(t,"defineProperty",d),d.value=P,p(t,n,d),d.value=function(e){return s(e).filter(k)},p(t,"getOwnPropertyNames",d),d.value=function(e,t){var n=P(t);return n.length?u(t).concat(n).forEach((function(n){S.call(t,n)&&N(e,n,t[n])})):f(e,t),e},p(t,"defineProperties",d),d.value=S,p(g,"propertyIsEnumerable",d),d.value=x,p(r,"Symbol",d),d.value=function(e){return(e="__symbol:".concat("__symbol:",e,i))in g?C[e]:A(e)},p(x,"for",d),d.value=function(e){if(k(e))throw new TypeError(e+" is not a symbol");if(v.call(C,e)&&("__symbol:"===(e=e.slice(10)).slice(0,10)&&(e=e.slice(10))!==i))return 0<(e=e.slice(0,e.length-i.length)).length?e:void 0},p(x,"keyFor",d),d.value=function(e,t){var n=c(e,t);return n&&E(t)&&(n.enumerable=S.call(e,t)),n},p(t,"getOwnPropertyDescriptor",d),d.value=function(e,t){return 1===arguments.length||void 0===t?l(e):_(e,t)},p(t,"create",d),d.value=function(){var e=y.call(this);return"[object String]"===e&&E(this)?"[object Symbol]":e},p(g,"toString",d);try{if(!0!==l(p({},"__symbol:",{get:function(){return p(this,"__symbol:",{value:!0})["__symbol:"]}}))["__symbol:"])throw"IE11";var M=p}catch(e){M=function(e,t,n){var r=c(g,t);delete g[t],p(e,t,n),p(g,t,r)}}}}(Object,"getOwnPropertySymbols"),function(e,t){var n,r=e.defineProperty,a=e.prototype,i=a.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach((function(o){if(!(o in t))switch(r(t,o,{value:t(o)}),o){case"toStringTag":(n=e.getOwnPropertyDescriptor(a,"toString")).value=function(){var e=i.call(this),n=null!=this?this[t.toStringTag]:this;return null==n?e:"[object "+n+"]"},r(a,"toString",n)}}))}(Object,Symbol),function(e,t,n){function r(){return this}t[e]||(t[e]=function(){var t=0,n=this,a={next:function(){var e=n.length<=t;return e?{done:e}:{done:e,value:n[t++]}}};return a[e]=r,a}),n[e]||(n[e]=function(){var t=String.fromCodePoint,n=this,a=0,i=n.length,o={next:function(){var e=i<=a,r=e?"":t(n.codePointAt(a));return a+=r.length,e?{done:e}:{done:e,value:r}}};return o[e]=r,o})}(Symbol.iterator,Array.prototype,String.prototype);var L=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":L.call(this)},Object.keys=function(e){return Object.getOwnPropertyNames(e).filter((function(t){return(t=Object.getOwnPropertyDescriptor(e,t))&&t.enumerable}))},i(),l(),String.prototype[Symbol.iterator]&&String.prototype.codePointAt||(i(),l(),String.prototype[Symbol.iterator]=function e(){var t,n=this;return E(e,(function(e){if(1==e.a&&(t=0),3!=e.a)return t<n.length?e=y(e,n[t]):(e.a=0,e=void 0),e;t++,e.a=2}))}),i(),l(),Set.prototype[Symbol.iterator]||(i(),l(),Set.prototype[Symbol.iterator]=function e(){var t,n,r=this;return E(e,(function(e){if(1==e.a&&(t=[],r.forEach((function(e){t.push(e)})),n=0),3!=e.a)return n<t.length?e=y(e,t[n]):(e.a=0,e=void 0),e;n++,e.a=2}))}),i(),l(),Map.prototype[Symbol.iterator]||(i(),l(),Map.prototype[Symbol.iterator]=function e(){var t,n,r=this;return E(e,(function(e){if(1==e.a&&(t=[],r.forEach((function(e,n){t.push([n,e])})),n=0),3!=e.a)return n<t.length?e=y(e,t[n]):(e.a=0,e=void 0),e;n++,e.a=2}))});var F=document.createEvent("Event");if(F.initEvent("foo",!0,!0),F.preventDefault(),!F.defaultPrevented){var H=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(H.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var U=/Trident/.test(navigator.userAgent);if(!window.Event||U&&"function"!=typeof window.Event){var B=window.Event;if(window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,!!t.bubbles,!!t.cancelable),n},B){for(var q in B)window.Event[q]=B[q];window.Event.prototype=B.prototype}}if((!window.CustomEvent||U&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||U&&"function"!=typeof window.MouseEvent){var V=window.MouseEvent;if(window.MouseEvent=function(e,t){t=t||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,!!t.bubbles,!!t.cancelable,t.view||window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n},V)for(var W in V)window.MouseEvent[W]=V[W];window.MouseEvent.prototype=V.prototype}Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var e=(this.ownerDocument||this).querySelector("base[href]");return e&&e.href||window.location.href},configurable:!0,enumerable:!0});var z,$,G=Element.prototype,J=null!==(z=Object.getOwnPropertyDescriptor(G,"attributes"))&&void 0!==z?z:Object.getOwnPropertyDescriptor(Node.prototype,"attributes"),K=null!==($=null==J?void 0:J.get)&&void 0!==$?$:function(){return this.attributes},Q=Array.prototype.map;G.hasOwnProperty("getAttributeNames")||(G.getAttributeNames=function(){return Q.call(K.call(this),(function(e){return e.name}))});var Y,X=Element.prototype;X.hasOwnProperty("matches")||(X.matches=null!==(Y=X.webkitMatchesSelector)&&void 0!==Y?Y:X.msMatchesSelector);var Z=Node.prototype.appendChild;function ee(e){(e=e.prototype).hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(n=(t=u(t)).next();!n.done;n=t.next())n=n.value,Z.call(this,"string"==typeof n?document.createTextNode(n):n)}})}ee(Document),ee(DocumentFragment),ee(Element);var te,ne,re=Node.prototype.insertBefore,ae=null!==(ne=null===(te=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===te?void 0:te.get)&&void 0!==ne?ne:function(){return this.firstChild};function ie(e){(e=e.prototype).hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];n=ae.call(this);for(var r=(t=u(t)).next();!r.done;r=t.next())r=r.value,re.call(this,"string"==typeof r?document.createTextNode(r):r,n)}})}ie(Document),ie(DocumentFragment),ie(Element);var oe,se,ce=Node.prototype.appendChild,le=Node.prototype.removeChild,ue=null!==(se=null===(oe=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===oe?void 0:oe.get)&&void 0!==se?se:function(){return this.firstChild};function he(e){(e=e.prototype).hasOwnProperty("replaceChildren")||Object.defineProperty(e,"replaceChildren",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(;null!==(n=ue.call(this));)le.call(this,n);for(n=(t=u(t)).next();!n.done;n=t.next())n=n.value,ce.call(this,"string"==typeof n?document.createTextNode(n):n)}})}he(Document),he(DocumentFragment),he(Element);var pe,fe,de,ge,ve=Node.prototype.insertBefore,me=null!==(fe=null===(pe=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===pe?void 0:pe.get)&&void 0!==fe?fe:function(){return this.parentNode},ye=null!==(ge=null===(de=Object.getOwnPropertyDescriptor(Node.prototype,"nextSibling"))||void 0===de?void 0:de.get)&&void 0!==ge?ge:function(){return this.nextSibling};function be(e){(e=e.prototype).hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(null!==(n=me.call(this)))for(var r=ye.call(this),a=(t=u(t)).next();!a.done;a=t.next())a=a.value,ve.call(n,"string"==typeof a?document.createTextNode(a):a,r)}})}be(CharacterData),be(Element);var _e,we,ke=Node.prototype.insertBefore,Ee=null!==(we=null===(_e=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===_e?void 0:_e.get)&&void 0!==we?we:function(){return this.parentNode};function Se(e){(e=e.prototype).hasOwnProperty("before")||Object.defineProperty(e,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(null!==(n=Ee.call(this)))for(var r=(t=u(t)).next();!r.done;r=t.next())r=r.value,ke.call(n,"string"==typeof r?document.createTextNode(r):r,this)}})}Se(CharacterData),Se(Element);var Ae,xe,Ce=Node.prototype.removeChild,Oe=null!==(xe=null===(Ae=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===Ae?void 0:Ae.get)&&void 0!==xe?xe:function(){return this.parentNode};function Te(e){(e=e.prototype).hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Oe.call(this);e&&Ce.call(e,this)}})}Te(CharacterData),Te(Element);var Ne,Pe,Me=Node.prototype.insertBefore,je=Node.prototype.removeChild,Re=null!==(Pe=null===(Ne=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===Ne?void 0:Ne.get)&&void 0!==Pe?Pe:function(){return this.parentNode};function De(e){(e=e.prototype).hasOwnProperty("replaceWith")||Object.defineProperty(e,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(null!==(n=Re.call(this))){for(var r=(t=u(t)).next();!r.done;r=t.next())r=r.value,Me.call(n,"string"==typeof r?document.createTextNode(r):r,this);je.call(n,this)}}})}De(CharacterData),De(Element);var Ie=window.Element.prototype,Le=window.HTMLElement.prototype,Fe=window.SVGElement.prototype;!Le.hasOwnProperty("classList")||Ie.hasOwnProperty("classList")||Fe.hasOwnProperty("classList")||Object.defineProperty(Ie,"classList",Object.getOwnPropertyDescriptor(Le,"classList"));var He=document.createElement("style");He.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Ue=document.querySelector("head");Ue.insertBefore(He,Ue.firstChild);var Be=window;Be.WebComponents=Be.WebComponents||{flags:{}};var qe=document.querySelector('script[src*="webcomponents-bundle"]'),Ve=/wc-(.+)/,We={};if(!We.noOpts){if(location.search.slice(1).split("&").forEach((function(e){var t;(e=e.split("="))[0]&&(t=e[0].match(Ve))&&(We[t[1]]=e[1]||!0)})),qe)for(var ze=0,$e=void 0;$e=qe.attributes[ze];ze++)"src"!==$e.name&&(We[$e.name]=$e.value||!0);var Ge={};We.log&&We.log.split&&We.log.split(",").forEach((function(e){Ge[e]=!0})),We.log=Ge}Be.WebComponents.flags=We;var Je=We.shadydom;if(Je){Be.ShadyDOM=Be.ShadyDOM||{},Be.ShadyDOM.force=Je;var Ke=We.noPatch;Be.ShadyDOM.noPatch="true"===Ke||Ke}var Qe=We.register||We.ce;function Ye(){}function Xe(e){return e.__shady||(e.__shady=new Ye),e.__shady}function Ze(e){return e&&e.__shady}Qe&&window.customElements&&(Be.customElements.forcePolyfill=Qe),function(){function e(){}function t(e,t){if(!e.childNodes.length)return[];switch(e.nodeType){case Node.DOCUMENT_NODE:return g.call(e,t);case Node.DOCUMENT_FRAGMENT_NODE:return v.call(e,t);default:return d.call(e,t)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),a=!1;/Trident/.test(navigator.userAgent)&&function(){function e(e,t){if(e instanceof DocumentFragment)for(var r;r=e.firstChild;)n.call(this,r,t);else n.call(this,e,t);return e}a=!0;var t=Node.prototype.cloneNode;Node.prototype.cloneNode=function(e){return e=t.call(this,e),this instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=e;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(t){return t instanceof DocumentFragment?e.call(this,t,null):r.call(this,t),t};var i=Node.prototype.removeChild,o=Node.prototype.replaceChild;Node.prototype.replaceChild=function(t,n){return t instanceof DocumentFragment?(e.call(this,t,n),i.call(this,n)):o.call(this,t,n),n},Document.prototype.createDocumentFragment=function(){var e=this.createElement("df");return e.__proto__=DocumentFragment.prototype,e};var s=Document.prototype.importNode;Document.prototype.importNode=function(e,t){return t=s.call(this,e,t||!1),e instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t}}();var i=Node.prototype.cloneNode,o=Document.prototype.createElement,s=Document.prototype.importNode,c=Node.prototype.removeChild,l=Node.prototype.appendChild,u=Node.prototype.replaceChild,h=DOMParser.prototype.parseFromString,p=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}},f=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},d=Element.prototype.querySelectorAll,g=Document.prototype.querySelectorAll,v=DocumentFragment.prototype.querySelectorAll,m=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");return t.content.appendChild(document.createElement("div")),e.content.appendChild(t),0===(e=e.cloneNode(!0)).content.childNodes.length||0===e.content.firstChild.content.childNodes.length||r}}();if(n){var y=document.implementation.createHTMLDocument("template"),b=!0,_=document.createElement("style");_.textContent="template{display:none;}";var w=document.head;w.insertBefore(_,w.firstElementChild),e.prototype=Object.create(HTMLElement.prototype);var k=!document.createElement("div").hasOwnProperty("innerHTML");e.U=function(t){if(!t.content&&t.namespaceURI===document.documentElement.namespaceURI){t.content=y.createDocumentFragment();for(var n;n=t.firstChild;)l.call(t.content,n);if(k)t.__proto__=e.prototype;else if(t.cloneNode=function(t){return e.b(this,t)},b)try{S(t),A(t)}catch(e){b=!1}e.a(t.content)}};var E={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},S=function(t){Object.defineProperty(t,"innerHTML",{get:function(){return P(this)},set:function(t){var n=E[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(t)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)t="<"+n[r]+">"+t+"</"+n[r]+">";for(y.body.innerHTML=t,e.a(y);this.content.firstChild;)c.call(this.content,this.content.firstChild);if(t=y.body,n)for(r=0;r<n.length;r++)t=t.lastChild;for(;t.firstChild;)l.call(this.content,t.firstChild)},configurable:!0})},A=function(e){Object.defineProperty(e,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(e){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(y.body.innerHTML=e,e=this.ownerDocument.createDocumentFragment();y.body.firstChild;)l.call(e,y.body.firstChild);u.call(this.parentNode,e,this)},configurable:!0})};S(e.prototype),A(e.prototype),e.a=function(n){for(var r,a=0,i=(n=t(n,"template")).length;a<i&&(r=n[a]);a++)e.U(r)},document.addEventListener("DOMContentLoaded",(function(){e.a(document)})),Document.prototype.createElement=function(){var t=o.apply(this,arguments);return"template"===t.localName&&e.U(t),t},DOMParser.prototype.parseFromString=function(){var t=h.apply(this,arguments);return e.a(t),t},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return P(this)},set:function(t){p.set.call(this,t),e.a(this)},configurable:!0,enumerable:!0});var x=/[&\u00A0"]/g,C=/[&\u00A0<>]/g,O=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}},T=(_=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),N=_("style script xmp iframe noembed noframes plaintext noscript".split(" ")),P=function(e,t){"template"===e.localName&&(e=e.content);for(var n,r="",a=t?t(e):f.get.call(e),i=0,o=a.length;i<o&&(n=a[i]);i++){e:{var s=n,c=e,l=t;switch(s.nodeType){case Node.ELEMENT_NODE:for(var u=s.localName,h="<"+u,p=s.attributes,d=0;c=p[d];d++)h+=" "+c.name+'="'+c.value.replace(x,O)+'"';h+=">",s=T[u]?h:h+P(s,l)+"</"+u+">";break e;case Node.TEXT_NODE:s=s.data,s=c&&N[c.localName]?s:s.replace(C,O);break e;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break e;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}}if(n||m){e.b=function(e,t){var n=i.call(e,!1);return this.U&&this.U(n),t&&(l.call(n.content,i.call(e.content,!0)),M(n.content,e.content)),n};var M=function(n,r){if(r.querySelectorAll&&0!==(r=t(r,"template")).length)for(var a,i,o=0,s=(n=t(n,"template")).length;o<s;o++)i=r[o],a=n[o],e&&e.U&&e.U(i),u.call(a.parentNode,j.call(i,!0),a)},j=Node.prototype.cloneNode=function(t){if(!a&&r&&this instanceof DocumentFragment){if(!t)return this.ownerDocument.createDocumentFragment();var n=R.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?e.b(this,t):i.call(this,t);return t&&M(n,this),n},R=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return e.b(n,r);var a=s.call(this,n,r);if(r){M(a,n),n=t(a,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var i,c=0;c<n.length;c++){i=n[c],(r=o.call(document,"script")).textContent=i.textContent;for(var l,h=i.attributes,p=0;p<h.length;p++)l=h[p],r.setAttribute(l.name,l.value);u.call(i.parentNode,r,i)}}return a}}n&&(window.HTMLTemplateElement=e)}(),Ye.prototype.toJSON=function(){return{}};var et=window.ShadyDOM||{};et.Ua=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var tt=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function nt(e){return(e=Ze(e))&&void 0!==e.firstChild}function rt(e){return e instanceof ShadowRoot}function at(e){return(e=(e=Ze(e))&&e.root)&&Hr(e)}et.B=!!(tt&&tt.configurable&&tt.get),et.sa=et.force||!et.Ua,et.D=et.noPatch||!1,et.aa=et.preferPerformance,et.ua="on-demand"===et.D,et.Ia=navigator.userAgent.match("Trident");var it=Element.prototype,ot=it.matches||it.matchesSelector||it.mozMatchesSelector||it.msMatchesSelector||it.oMatchesSelector||it.webkitMatchesSelector,st=document.createTextNode(""),ct=0,lt=[];function ut(e){lt.push(e),st.textContent=ct++}new MutationObserver((function(){for(;lt.length;)try{lt.shift()()}catch(e){throw st.textContent=ct++,e}})).observe(st,{characterData:!0});var ht=document.contains?function(e,t){return e.__shady_native_contains(t)}:function(e,t){return e===t||e.documentElement&&e.documentElement.__shady_native_contains(t)};function pt(e,t){for(;t;){if(t==e)return!0;t=t.__shady_parentNode}return!1}function ft(e){for(var t=e.length-1;0<=t;t--){var n=e[t],r=n.getAttribute("id")||n.getAttribute("name");r&&"length"!==r&&isNaN(r)&&(e[r]=n)}return e.item=function(t){return e[t]},e.namedItem=function(t){if("length"!==t&&isNaN(t)&&e[t])return e[t];for(var n=u(e),r=n.next();!r.done;r=n.next())if(((r=r.value).getAttribute("id")||r.getAttribute("name"))==t)return r;return null},e}function dt(e){var t=[];for(e=e.__shady_native_firstChild;e;e=e.__shady_native_nextSibling)t.push(e);return t}function gt(e){var t=[];for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling)t.push(e);return t}function vt(e,t,n){if(n.configurable=!0,n.value)e[t]=n.value;else try{Object.defineProperty(e,t,n)}catch(e){}}function mt(e,t,n,r){for(var a in n=void 0===n?"":n,t)r&&0<=r.indexOf(a)||vt(e,n+a,t[a])}function yt(e,t){for(var n in t)n in e&&vt(e,n,t[n])}function bt(e){var t={};return Object.getOwnPropertyNames(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t}function _t(e,t){for(var n,r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++)e[n=r[a]]=t[n]}function wt(e){return e instanceof Node?e:document.createTextNode(""+e)}function kt(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(1===t.length)return wt(t[0]);n=document.createDocumentFragment();for(var r=(t=u(t)).next();!r.done;r=t.next())n.appendChild(wt(r.value));return n}var Et,St=[];function At(e){Et||(Et=!0,ut(xt)),St.push(e)}function xt(){Et=!1;for(var e=!!St.length;St.length;)St.shift()();return e}function Ct(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ja=new Set}xt.list=St,Ct.prototype.flush=function(){if(this.a){this.a=!1;var e=this.takeRecords();e.length&&this.ja.forEach((function(t){t(e)}))}},Ct.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var e=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],e}return[]};var Ot=/[&\u00A0"]/g,Tt=/[&\u00A0<>]/g;function Nt(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function Pt(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var Mt=Pt("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),jt=Pt("style script xmp iframe noembed noframes plaintext noscript".split(" "));function Rt(e,t){"template"===e.localName&&(e=e.content);for(var n="",r=t?t(e):e.childNodes,a=0,i=r.length,o=void 0;a<i&&(o=r[a]);a++){e:{var s=o,c=e,l=t;switch(s.nodeType){case Node.ELEMENT_NODE:for(var u,h="<"+(c=s.localName),p=s.attributes,f=0;u=p[f];f++)h+=" "+u.name+'="'+u.value.replace(Ot,Nt)+'"';h+=">",s=Mt[c]?h:h+Rt(s,l)+"</"+c+">";break e;case Node.TEXT_NODE:s=s.data,s=c&&jt[c.localName]?s:s.replace(Tt,Nt);break e;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break e;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var Dt=et.B,It={querySelector:function(e){return this.__shady_native_querySelector(e)},querySelectorAll:function(e){return this.__shady_native_querySelectorAll(e)}},Lt={};function Ft(e){Lt[e]=function(t){return t["__shady_native_"+e]}}function Ht(e,t){for(var n in mt(e,t,"__shady_native_"),t)Ft(n)}function Ut(e,t){t=void 0===t?[]:t;for(var n=0;n<t.length;n++){var r=t[n],a=Object.getOwnPropertyDescriptor(e,r);a&&(Object.defineProperty(e,"__shady_native_"+r,a),a.value?It[r]||(It[r]=a.value):Ft(r))}}var Bt=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),qt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Vt=document.implementation.createHTMLDocument("inert");function Wt(e){for(var t;t=e.__shady_native_firstChild;)e.__shady_native_removeChild(t)}var zt=["firstElementChild","lastElementChild","children","childElementCount"],$t=["querySelector","querySelectorAll","append","prepend","replaceChildren"];var Gt=bt({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),Jt=bt({get textContent(){return this.__shady_textContent},set textContent(e){this.__shady_textContent=e},get innerHTML(){return this.__shady_innerHTML},set innerHTML(e){return this.__shady_innerHTML=e}}),Kt=bt({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(e){return this.__shady_className=e}});function Qt(e){for(var t in e){var n=e[t];n&&(n.enumerable=!1)}}Qt(Gt),Qt(Jt),Qt(Kt);var Yt,Xt=et.B||!0===et.D,Zt=Xt?function(){}:function(e){var t=Xe(e);t.Ka||(t.Ka=!0,yt(e,Kt))},en=Xt?function(){}:function(e){var t=Xe(e);t.Ja||(t.Ja=!0,yt(e,Gt),window.customElements&&window.customElements.polyfillWrapFlushCallback&&!et.D||yt(e,Jt))},tn="__eventWrappers"+Date.now(),nn=(Yt=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(e){return Yt.get.call(e)}:null,rn=function(){function e(){}var t=!1,n={get capture(){return t=!0,!1}};return window.addEventListener("test",e,n),window.removeEventListener("test",e,n),t}();function an(e){if(e&&"object"==typeof e)var t=!!e.capture,n=!!e.once,r=!!e.passive,a=e.O;else t=!!e,r=n=!1;return{Ga:a,capture:t,once:n,passive:r,Fa:rn?e:t}}var on={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},sn={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function cn(e){return e instanceof Node?e.__shady_getRootNode():e}function ln(e,t){var n=[],r=e;for(e=cn(e);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(t||r!==e)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function un(e,t){if(!rt)return e;e=ln(e,!0);for(var n,r,a=0,i=void 0,o=void 0;a<t.length;a++)if((r=cn(n=t[a]))!==i&&(o=e.indexOf(r),i=r),!rt(r)||-1<o)return n}function hn(e){function t(t,n){return(t=new e(t,n)).__composed=n&&!!n.composed,t}return t.__proto__=e,t.prototype=e.prototype,t}var pn={focus:!0,blur:!0};function fn(e){return e.__target!==e.target||e.__relatedTarget!==e.relatedTarget}function dn(e,t,n){if(n=t.__handlers&&t.__handlers[e.type]&&t.__handlers[e.type][n])for(var r,a=0;(r=n[a])&&(!fn(e)||e.target!==e.relatedTarget)&&(r.call(t,e),!e.__immediatePropagationStopped);a++);}function gn(e){var t=e.composedPath(),n=t.map((function(e){return un(e,t)})),r=e.bubbles;Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:function(){return o}});var a=Event.CAPTURING_PHASE;Object.defineProperty(e,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return a}});for(var i=t.length-1;0<=i;i--){var o=t[i];if(a=o===n[i]?Event.AT_TARGET:Event.CAPTURING_PHASE,dn(e,o,"capture"),e.ma)return}for(i=0;i<t.length;i++){var s=(o=t[i])===n[i];if((s||r)&&(a=s?Event.AT_TARGET:Event.BUBBLING_PHASE,dn(e,o,"bubble"),e.ma))return}a=0,o=null}function vn(e,t,n,r,a,i){for(var o=0;o<e.length;o++){var s=e[o],c=s.type,l=s.capture,u=s.once,h=s.passive;if(t===s.node&&n===c&&r===l&&a===u&&i===h)return o}return-1}function mn(e){return xt(),!et.aa&&this instanceof Node&&!ht(document,this)?(e.__target||wn(e,this),gn(e)):this.__shady_native_dispatchEvent(e)}function yn(e,t,n){var r=an(n),a=r.capture,i=r.once,o=r.passive,s=r.Ga;if(r=r.Fa,t){var c=typeof t;if(("function"===c||"object"===c)&&("object"!==c||t.handleEvent&&"function"==typeof t.handleEvent)){if(sn[e])return this.__shady_native_addEventListener(e,t,r);var l=s||this;if(s=t[tn]){if(-1<vn(s,l,e,a,i,o))return}else t[tn]=[];s=function(r){if(i&&this.__shady_removeEventListener(e,t,n),r.__target||wn(r),l!==this){var o=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return l},configurable:!0});var s=Object.getOwnPropertyDescriptor(r,"eventPhase");Object.defineProperty(r,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return a?Event.CAPTURING_PHASE:Event.BUBBLING_PHASE}})}if(r.__previousCurrentTarget=r.currentTarget,(!rt(l)&&"slot"!==l.localName||-1!=r.composedPath().indexOf(l))&&(r.composed||-1<r.composedPath().indexOf(l)))if(fn(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===l||l instanceof Window){var u="function"===c?t.call(l,r):t.handleEvent&&t.handleEvent(r);return l!==this&&(o?(Object.defineProperty(r,"currentTarget",o),o=null):delete r.currentTarget,s?(Object.defineProperty(r,"eventPhase",s),s=null):delete r.eventPhase),u}},t[tn].push({node:l,type:e,capture:a,once:i,passive:o,lb:s}),this.__handlers=this.__handlers||{},this.__handlers[e]=this.__handlers[e]||{capture:[],bubble:[]},this.__handlers[e][a?"capture":"bubble"].push(s),pn[e]||this.__shady_native_addEventListener(e,s,r)}}}function bn(e,t,n){if(t){var r=an(n);n=r.capture;var a=r.once,i=r.passive,o=r.Ga;if(r=r.Fa,sn[e])return this.__shady_native_removeEventListener(e,t,r);var s=o||this;o=void 0;var c=null;try{c=t[tn]}catch(e){}c&&(-1<(a=vn(c,s,e,n,a,i))&&(o=c.splice(a,1)[0].lb,c.length||(t[tn]=void 0))),this.__shady_native_removeEventListener(e,o||t,r),o&&this.__handlers&&this.__handlers[e]&&(-1<(t=(e=this.__handlers[e][n?"capture":"bubble"]).indexOf(o))&&e.splice(t,1))}}var _n=bt({get composed(){return void 0===this.__composed&&(nn?this.__composed="focusin"===this.type||"focusout"===this.type||nn(this):!1!==this.isTrusted&&(this.__composed=on[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=ln(this.__target,this.composed)),this.__composedPath},get target(){return un(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ln(this.__relatedTarget,!0)),un(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ma=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ma=this.__immediatePropagationStopped=!0}});function wn(e,t){if(t=void 0===t?e.target:t,e.__target=t,e.__relatedTarget=e.relatedTarget,et.B){if(!(t=Object.getPrototypeOf(e)).hasOwnProperty("__shady_patchedProto")){var n=Object.create(t);n.__shady_sourceProto=t,mt(n,_n),t.__shady_patchedProto=n}e.__proto__=t.__shady_patchedProto}else mt(e,_n)}var kn=hn(Event),En=hn(CustomEvent),Sn=hn(MouseEvent);var An=Object.getOwnPropertyNames(Element.prototype).filter((function(e){return"on"===e.substring(0,2)})),xn=Object.getOwnPropertyNames(HTMLElement.prototype).filter((function(e){return"on"===e.substring(0,2)}));function Cn(e){return{set:function(t){var n=Xe(this),r=e.substring(2);n.N||(n.N={}),n.N[e]&&this.removeEventListener(r,n.N[e]),this.__shady_addEventListener(r,t),n.N[e]=t},get:function(){var t=Ze(this);return t&&t.N&&t.N[e]},configurable:!0}}function On(e,t){return{index:e,ba:[],ia:t}}function Tn(e,t,n,r){var a=0,i=0,o=0,s=0,c=Math.min(t-a,r-i);if(0==a&&0==i)e:{for(o=0;o<c;o++)if(e[o]!==n[o])break e;o=c}if(t==e.length&&r==n.length){s=e.length;for(var l=n.length,u=0;u<c-o&&Nn(e[--s],n[--l]);)u++;s=u}if(i+=o,r-=s,0==(t-=s)-(a+=o)&&0==r-i)return[];if(a==t){for(t=On(a,0);i<r;)t.ba.push(n[i++]);return[t]}if(i==r)return[On(a,t-a)];for(r=r-(o=i)+1,s=t-(c=a)+1,t=Array(r),l=0;l<r;l++)t[l]=Array(s),t[l][0]=l;for(l=0;l<s;l++)t[0][l]=l;for(l=1;l<r;l++)for(u=1;u<s;u++)if(e[c+u-1]===n[o+l-1])t[l][u]=t[l-1][u-1];else{var h=t[l-1][u]+1,p=t[l][u-1]+1;t[l][u]=h<p?h:p}for(c=t.length-1,o=t[0].length-1,r=t[c][o],e=[];0<c||0<o;)0==c?(e.push(2),o--):0==o?(e.push(3),c--):(s=t[c-1][o-1],(h=(l=t[c-1][o])<(u=t[c][o-1])?l<s?l:s:u<s?u:s)==s?(s==r?e.push(0):(e.push(1),r=s),c--,o--):h==l?(e.push(3),c--,r=l):(e.push(2),o--,r=u));for(e.reverse(),t=void 0,c=[],o=0;o<e.length;o++)switch(e[o]){case 0:t&&(c.push(t),t=void 0),a++,i++;break;case 1:t||(t=On(a,0)),t.ia++,a++,t.ba.push(n[i]),i++;break;case 2:t||(t=On(a,0)),t.ia++,a++;break;case 3:t||(t=On(a,0)),t.ba.push(n[i]),i++}return t&&c.push(t),c}function Nn(e,t){return e===t}var Pn=bt({dispatchEvent:mn,addEventListener:yn,removeEventListener:bn}),Mn=null;function jn(){return Mn||(Mn=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Mn||null}function Rn(e,t,n){var r=jn();return!(!r||"class"!==t)&&(r.setElementClass(e,n),!0)}function Dn(e,t){var n=jn();n&&n.unscopeNode(e,t)}function In(e){if(e.nodeType!==Node.ELEMENT_NODE)return"";var t=jn();return t?t.currentScopeForNode(e):""}function Ln(e,t){if(e)for(e.nodeType===Node.ELEMENT_NODE&&t(e),e=e.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType===Node.ELEMENT_NODE&&Ln(e,t)}var Fn=window.document,Hn=et.aa,Un=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Bn=Un&&Un.get;function qn(e){for(var t;t=e.__shady_firstChild;)e.__shady_removeChild(t)}function Vn(e,t,n){if(e=(e=Ze(e))&&e.Z){if(t)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,a=t.childNodes.length;r<a;r++)e.addedNodes.push(t.childNodes[r]);else e.addedNodes.push(t);n&&e.removedNodes.push(n),function(e){e.a||(e.a=!0,ut((function(){e.flush()})))}(e)}}var Wn=bt({get parentNode(){var e=Ze(this);return void 0!==(e=e&&e.parentNode)?e:this.__shady_native_parentNode},get firstChild(){var e=Ze(this);return void 0!==(e=e&&e.firstChild)?e:this.__shady_native_firstChild},get lastChild(){var e=Ze(this);return void 0!==(e=e&&e.lastChild)?e:this.__shady_native_lastChild},get nextSibling(){var e=Ze(this);return void 0!==(e=e&&e.nextSibling)?e:this.__shady_native_nextSibling},get previousSibling(){var e=Ze(this);return void 0!==(e=e&&e.previousSibling)?e:this.__shady_native_previousSibling},get childNodes(){if(nt(this)){var e=Ze(this);if(!e.childNodes){e.childNodes=[];for(var t=this.__shady_firstChild;t;t=t.__shady_nextSibling)e.childNodes.push(t)}var n=e.childNodes}else n=this.__shady_native_childNodes;return n.item=function(e){return n[e]},n},get parentElement(){var e=Ze(this);return(e=e&&e.parentNode)&&e.nodeType!==Node.ELEMENT_NODE&&(e=null),void 0!==e?e:this.__shady_native_parentElement},get isConnected(){if(Bn&&Bn.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var e=this.ownerDocument;if(null===e||ht(e,this))return!0;for(e=this;e&&!(e instanceof Document);)e=e.__shady_parentNode||(rt(e)?e.host:void 0);return!!(e&&e instanceof Document)},get textContent(){if(nt(this)){for(var e=[],t=this.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.__shady_textContent);return e.join("")}return this.__shady_native_textContent},set textContent(e){switch(null==e&&(e=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!nt(this)&&et.B){var t=this.__shady_firstChild;(t!=this.__shady_lastChild||t&&t.nodeType!=Node.TEXT_NODE)&&qn(this),this.__shady_native_textContent=e}else qn(this),(0<e.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(e));break;default:this.nodeValue=e}},insertBefore:function(e,t){if(this.ownerDocument!==Fn&&e.ownerDocument!==Fn)return this.__shady_native_insertBefore(e,t),e;if(e===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(t){var n=Ze(t);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&t.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(t===e)return e;Vn(this,e);var r=[],a=(n=Vr(this))?n.host.localName:In(this),i=e.__shady_parentNode;if(i){var o=In(e),s=!!n||!Vr(e)||Hn&&void 0!==this.__noInsertionPoint;i.__shady_removeChild(e,s)}i=!0;var c=(!Hn||void 0===e.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function e(t,n){var r=jn();if(!r)return!0;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(r=!0,t=t.__shady_firstChild;t;t=t.__shady_nextSibling)r=r&&e(t,n);return r}return t.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(t)===n}(e,a),l=n&&!e.__noInsertionPoint&&(!Hn||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(l||c)&&(c&&(o=o||In(e)),Ln(e,(function(e){if(l&&"slot"===e.localName&&r.push(e),c){var t=o;jn()&&(t&&Dn(e,t),(t=jn())&&t.scopeNode(e,a))}}))),r.length&&(Dr(n),n.c.push.apply(n.c,h(r)),Nr(n)),nt(this)&&(function(e,t,n){br(t,2);var r=Xe(t);if(void 0!==r.firstChild&&(r.childNodes=null),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(e=e.__shady_native_firstChild;e;e=e.__shady_native_nextSibling)_r(e,t,r,n);else _r(e,t,r,n)}(e,this,t),(s=Ze(this)).root?(i=!1,at(this)&&Nr(s.root)):n&&"slot"===this.localName&&(i=!1,Nr(n))),i?(n=rt(this)?this.host:this,t?(t=function e(t){var n=t;if(t&&"slot"===t.localName){var r=Ze(t);(r=r&&r.V)&&(n=r.length?r[0]:e(t.__shady_nextSibling))}return n}(t),n.__shady_native_insertBefore(e,t)):n.__shady_native_appendChild(e)):e.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(e),e},appendChild:function(e){if(this!=e||!rt(e))return this.__shady_insertBefore(e)},removeChild:function(e,t){if(t=void 0!==t&&t,this.ownerDocument!==Fn)return this.__shady_native_removeChild(e);if(e.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+e);Vn(this,null,e);var n=Vr(e),r=n&&function(e,t){if(e.a){Ir(e);var n,r=e.b;for(n in r)for(var a=r[n],i=0;i<a.length;i++){var o=a[i];if(pt(t,o)){a.splice(i,1);var s=e.a.indexOf(o);if(0<=s&&(e.a.splice(s,1),(s=Ze(o.__shady_parentNode))&&s.da&&s.da--),i--,o=Ze(o),s=o.V)for(var c=0;c<s.length;c++){var l=s[c],u=l.__shady_native_parentNode;u&&u.__shady_native_removeChild(l)}o.V=[],o.assignedNodes=[],s=!0}}return s}}(n,e),a=Ze(this);if(nt(this)&&(function(e,t){var n=Xe(e);t=Xe(t),e===t.firstChild&&(t.firstChild=n.nextSibling),e===t.lastChild&&(t.lastChild=n.previousSibling),e=n.previousSibling;var r=n.nextSibling;e&&(Xe(e).nextSibling=r),r&&(Xe(r).previousSibling=e),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==t.childNodes&&(t.childNodes=null)}(e,this),at(this))){Nr(a.root);var i=!0}if(jn()&&!t&&n&&e.nodeType!==Node.TEXT_NODE){var o=In(e);Ln(e,(function(e){Dn(e,o)}))}return function e(t){var n=Ze(t);if(n&&void 0!==n.la)for(n=t.__shady_firstChild;n;n=n.__shady_nextSibling)e(n);(t=Ze(t))&&(t.la=void 0)}(e),n&&((t="slot"===this.localName)&&(i=!0),(r||t)&&Nr(n)),i||(i=rt(this)?this.host:this,(!a.root&&"slot"!==e.localName||i===e.__shady_native_parentNode)&&i.__shady_native_removeChild(e)),e},replaceChild:function(e,t){return this.__shady_insertBefore(e,t),this.__shady_removeChild(t),e},cloneNode:function(e){if("template"==this.localName)return this.__shady_native_cloneNode(e);var t=this.__shady_native_cloneNode(!1);if(e&&t.nodeType!==Node.ATTRIBUTE_NODE){e=this.__shady_firstChild;for(var n;e;e=e.__shady_nextSibling)n=e.__shady_cloneNode(!0),t.__shady_appendChild(n)}return t},getRootNode:function(e){if(this&&this.nodeType){var t=Xe(this),n=t.la;return void 0===n&&(rt(this)?(n=this,t.la=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(e):this,document.documentElement.__shady_native_contains(this)&&(t.la=n))),n}},contains:function(e){return pt(this,e)}}),zn=bt({get assignedSlot(){var e=this.__shady_parentNode;return(e=e&&e.__shady_shadowRoot)&&Pr(e),(e=Ze(this))&&e.assignedSlot||null}});function $n(e,t,n){var r=[];return function e(t,n,r,a){for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling){var i;if(i=t.nodeType===Node.ELEMENT_NODE){var o=n,s=r,c=a,l=o(i=t);l&&c.push(i),s&&s(l)?i=l:(e(i,o,s,c),i=void 0)}if(i)break}}(e,t,n,r),r}var Gn={get firstElementChild(){var e=Ze(this);if(e&&void 0!==e.firstChild){for(e=this.__shady_firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.__shady_nextSibling;return e}return this.__shady_native_firstElementChild},get lastElementChild(){var e=Ze(this);if(e&&void 0!==e.lastChild){for(e=this.__shady_lastChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.__shady_previousSibling;return e}return this.__shady_native_lastElementChild},get children(){return nt(this)?ft(Array.prototype.filter.call(gt(this),(function(e){return e.nodeType===Node.ELEMENT_NODE}))):this.__shady_native_children},get childElementCount(){var e=this.__shady_children;return e?e.length:0}},Jn=bt((Gn.append=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];this.__shady_insertBefore(kt.apply(null,h(t)),null)},Gn.prepend=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];this.__shady_insertBefore(kt.apply(null,h(t)),this.__shady_firstChild)},Gn.replaceChildren=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(;null!==(n=this.__shady_firstChild);)this.__shady_removeChild(n);this.__shady_insertBefore(kt.apply(null,h(t)),null)},Gn)),Kn=bt({querySelector:function(e){return $n(this,(function(t){return ot.call(t,e)}),(function(e){return!!e}))[0]||null},querySelectorAll:function(e,t){if(t){t=Array.prototype.slice.call(this.__shady_native_querySelectorAll(e));var n=this.__shady_getRootNode();return ft(t.filter((function(e){return e.__shady_getRootNode()==n})))}return ft($n(this,(function(t){return ot.call(t,e)})))}}),Qn=et.aa&&!et.D?_t({},Jn):Jn;_t(Jn,Kn);var Yn=bt({after:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(null!==(n=this.__shady_parentNode)){var r=this.__shady_nextSibling;n.__shady_insertBefore(kt.apply(null,h(t)),r)}},before:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];null!==(n=this.__shady_parentNode)&&n.__shady_insertBefore(kt.apply(null,h(t)),this)},remove:function(){var e=this.__shady_parentNode;null!==e&&e.__shady_removeChild(this)},replaceWith:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(null!==(n=this.__shady_parentNode)){var r=this.__shady_nextSibling;n.__shady_removeChild(this),n.__shady_insertBefore(kt.apply(null,h(t)),r)}}}),Xn=window.document;function Zn(e,t){if("slot"===t)at(e=e.__shady_parentNode)&&Nr(Ze(e).root);else if("slot"===e.localName&&"name"===t&&(t=Vr(e))){if(t.a){Ir(t);var n=e.La,r=Lr(e);if(r!==n){var a=(n=t.b[n]).indexOf(e);0<=a&&n.splice(a,1),(n=t.b[r]||(t.b[r]=[])).push(e),1<n.length&&(t.b[r]=Fr(n))}}Nr(t)}}var er=bt({get previousElementSibling(){var e=Ze(this);if(e&&void 0!==e.previousSibling){for(e=this.__shady_previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.__shady_previousSibling;return e}return this.__shady_native_previousElementSibling},get nextElementSibling(){var e=Ze(this);if(e&&void 0!==e.nextSibling){for(e=this.__shady_nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.__shady_nextSibling;return e}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(e){this.__shady_setAttribute("slot",e)},get className(){return this.getAttribute("class")||""},set className(e){this.__shady_setAttribute("class",e)},setAttribute:function(e,t){this.ownerDocument!==Xn?this.__shady_native_setAttribute(e,t):Rn(this,e,t)||(this.__shady_native_setAttribute(e,t),Zn(this,e))},removeAttribute:function(e){this.ownerDocument!==Xn?this.__shady_native_removeAttribute(e):Rn(this,e,"")?""===this.getAttribute(e)&&this.__shady_native_removeAttribute(e):(this.__shady_native_removeAttribute(e),Zn(this,e))}});et.aa||An.forEach((function(e){er[e]=Cn(e)}));var tr=bt({attachShadow:function(e){if(!this)throw Error("Must provide a host.");if(!e)throw Error("Not enough arguments.");if(e.shadyUpgradeFragment&&!et.Ia){var t=e.shadyUpgradeFragment;if(t.__proto__=ShadowRoot.prototype,Tr(t,this,e),wr(t,t),e=t.__noInsertionPoint?null:t.querySelectorAll("slot"),t.__noInsertionPoint=void 0,e&&e.length){var n=t;Dr(n),n.c.push.apply(n.c,h(e)),Nr(t)}t.host.__shady_native_appendChild(t)}else t=new Or(Ar,this,e);return this.__CE_shadowRoot=t},get shadowRoot(){var e=Ze(this);return e&&e.bb||null}});_t(er,tr);var nr=document.implementation.createHTMLDocument("inert"),rr=bt({get innerHTML(){return nt(this)?Rt("template"===this.localName?this.content:this,gt):this.__shady_native_innerHTML},set innerHTML(e){if("template"===this.localName)this.__shady_native_innerHTML=e;else{qn(this);var t=this.localName||"div";for(t=this.namespaceURI&&this.namespaceURI!==nr.namespaceURI?nr.createElementNS(this.namespaceURI,t):nr.createElement(t),et.B?t.__shady_native_innerHTML=e:t.innerHTML=e;e=t.__shady_firstChild;)this.__shady_insertBefore(e)}}}),ar=bt({blur:function(){var e=Ze(this);(e=(e=e&&e.root)&&e.activeElement)?e.__shady_blur():this.__shady_native_blur()}});et.aa||xn.forEach((function(e){ar[e]=Cn(e)}));var ir=bt({assignedNodes:function(e){if("slot"===this.localName){var t=this.__shady_getRootNode();return t&&rt(t)&&Pr(t),(t=Ze(this))&&(e&&e.flatten?t.V:t.assignedNodes)||[]}},addEventListener:function(e,t,n){if("slot"!==this.localName||"slotchange"===e)yn.call(this,e,t,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_addEventListener(e,t,n)}},removeEventListener:function(e,t,n){if("slot"!==this.localName||"slotchange"===e)bn.call(this,e,t,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_removeEventListener(e,t,n)}}}),or=bt({getElementById:function(e){return""===e?null:$n(this,(function(t){return t.id==e}),(function(e){return!!e}))[0]||null}}),sr=bt({get activeElement(){var e=et.B?document.__shady_native_activeElement:document.activeElement;if(!e||!e.nodeType)return null;var t=!!rt(this);if(!(this===document||t&&this.host!==e&&this.host.__shady_native_contains(e)))return null;for(t=Vr(e);t&&t!==this;)t=Vr(e=t.host);return this===document?t?null:e:t===this?e:null}}),cr=window.document,lr=bt({importNode:function(e,t){if(e.ownerDocument!==cr||"template"===e.localName)return this.__shady_native_importNode(e,t);var n=this.__shady_native_importNode(e,!1);if(t)for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling)t=this.__shady_importNode(e,!0),n.__shady_appendChild(t);return n}}),ur=bt({dispatchEvent:mn,addEventListener:yn.bind(window),removeEventListener:bn.bind(window)}),hr={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(hr.parentElement=Wn.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(hr.contains=Wn.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(hr.children=Jn.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(hr.innerHTML=rr.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(hr.className=er.className);var pr={EventTarget:[Pn],Node:[Wn,window.EventTarget?null:Pn],Text:[zn],Comment:[zn],CDATASection:[zn],ProcessingInstruction:[zn],Element:[er,Jn,Yn,zn,!et.B||"innerHTML"in Element.prototype?rr:null,window.HTMLSlotElement?null:ir],HTMLElement:[ar,hr],HTMLSlotElement:[ir],DocumentFragment:[Qn,or],Document:[lr,Qn,or,sr],Window:[ur],CharacterData:[Yn]},fr=et.B?null:["innerHTML","textContent"];function dr(e,t,n,r){t.forEach((function(t){return e&&t&&mt(e,t,n,r)}))}function gr(e){var t,n=e?null:fr;for(t in pr)dr(window[t]&&window[t].prototype,pr[t],e,n)}function vr(e){return e.__shady_protoIsPatched=!0,dr(e,pr.EventTarget),dr(e,pr.Node),dr(e,pr.Element),dr(e,pr.HTMLElement),dr(e,pr.HTMLSlotElement),e}["Text","Comment","CDATASection","ProcessingInstruction"].forEach((function(e){var t=window[e],n=Object.create(t.prototype);n.__shady_protoIsPatched=!0,dr(n,pr.EventTarget),dr(n,pr.Node),pr[e]&&dr(n,pr[e]),t.prototype.__shady_patchedProto=n}));var mr=et.ua,yr=et.B;function br(e,t){if(mr&&!e.__shady_protoIsPatched&&!rt(e)){var n=Object.getPrototypeOf(e),r=n.hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto;r||(vr(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(e,r)}yr||(1===t?Zt(e):2===t&&en(e))}function _r(e,t,n,r){br(e,1),r=r||null;var a=Xe(e),i=r?Xe(r):null;a.previousSibling=r?i.previousSibling:t.__shady_lastChild,(i=Ze(a.previousSibling))&&(i.nextSibling=e),(i=Ze(a.nextSibling=r))&&(i.previousSibling=e),a.parentNode=t,r?r===n.firstChild&&(n.firstChild=e):(n.lastChild=e,n.firstChild||(n.firstChild=e)),n.childNodes=null}function wr(e,t){var n=Xe(e);if(t||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=e.__shady_native_firstChild;for(n.lastChild=e.__shady_native_lastChild,br(e,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var a=Xe(n);a.parentNode=t||e,a.nextSibling=n.__shady_native_nextSibling,a.previousSibling=r||null,r=n,br(n,1)}}}var kr=bt({addEventListener:function(e,t,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(e,t,n)},removeEventListener:function(e,t,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(e,t,n)}});function Er(e,t){mt(e,kr,t),mt(e,sr,t),mt(e,rr,t),mt(e,Jn,t),et.D&&!t?(mt(e,Wn,t),mt(e,or,t)):et.B||(mt(e,Kt),mt(e,Gt),mt(e,Jt))}var Sr,Ar={},xr=et.deferConnectionCallbacks&&"loading"===document.readyState;function Cr(e){var t=[];do{t.unshift(e)}while(e=e.__shady_parentNode);return t}function Or(e,t,n){if(e!==Ar)throw new TypeError("Illegal constructor");this.a=null,Tr(this,t,n)}function Tr(e,t,n){if(e.host=t,e.mode=n&&n.mode,wr(e.host),(t=Xe(e.host)).root=e,t.bb="closed"!==e.mode?e:null,(t=Xe(e)).firstChild=t.lastChild=t.parentNode=t.nextSibling=t.previousSibling=null,et.preferPerformance)for(;t=e.host.__shady_native_firstChild;)e.host.__shady_native_removeChild(t);else Nr(e)}function Nr(e){e.T||(e.T=!0,At((function(){return Pr(e)})))}function Pr(e){var t;if(t=e.T){for(var n;e;)e.T&&(n=e),rt(e=(t=e).host.__shady_getRootNode())&&(t=Ze(t.host))&&0<t.da||(e=void 0);t=n}(n=t)&&n._renderSelf()}function Mr(e,t,n){var r=Xe(t),a=r.oa;r.oa=null,n||(n=(e=e.b[t.__shady_slot||"__catchall"])&&e[0]),n?(Xe(n).assignedNodes.push(t),r.assignedSlot=n):r.assignedSlot=void 0,a!==r.assignedSlot&&r.assignedSlot&&(Xe(r.assignedSlot).ra=!0)}function jr(e,t,n){for(var r=0,a=void 0;r<n.length&&(a=n[r]);r++)if("slot"==a.localName){var i=Ze(a).assignedNodes;i&&i.length&&jr(e,t,i)}else t.push(n[r])}function Rr(e,t){t.__shady_native_dispatchEvent(new Event("slotchange")),(t=Ze(t)).assignedSlot&&Rr(e,t.assignedSlot)}function Dr(e){e.c=e.c||[],e.a=e.a||[],e.b=e.b||{}}function Ir(e){if(e.c&&e.c.length){for(var t,n=e.c,r=0;r<n.length;r++){var a=n[r];wr(a);var i=a.__shady_parentNode;wr(i),(i=Ze(i)).da=(i.da||0)+1,i=Lr(a),e.b[i]?((t=t||{})[i]=!0,e.b[i].push(a)):e.b[i]=[a],e.a.push(a)}if(t)for(var o in t)e.b[o]=Fr(e.b[o]);e.c=[]}}function Lr(e){var t=e.name||e.getAttribute("name")||"__catchall";return e.La=t}function Fr(e){return e.sort((function(e,t){e=Cr(e);for(var n=Cr(t),r=0;r<e.length;r++){t=e[r];var a=n[r];if(t!==a)return(e=gt(t.__shady_parentNode)).indexOf(t)-e.indexOf(a)}}))}function Hr(e){return Ir(e),!(!e.a||!e.a.length)}if(Or.prototype._renderSelf=function(){var e=xr;if(xr=!0,this.T=!1,this.a){Ir(this);for(var t,n=0;n<this.a.length;n++){var r=Ze(t=this.a[n]),a=r.assignedNodes;if(r.assignedNodes=[],r.V=[],r.Ba=a)for(r=0;r<a.length;r++){var i=Ze(a[r]);i.oa=i.assignedSlot,i.assignedSlot===t&&(i.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)Mr(this,n);for(n=0;n<this.a.length;n++){if(!(a=Ze(t=this.a[n])).assignedNodes.length)for(r=t.__shady_firstChild;r;r=r.__shady_nextSibling)Mr(this,r,t);if((r=(r=Ze(t.__shady_parentNode))&&r.root)&&(Hr(r)||r.T)&&r._renderSelf(),jr(this,a.V,a.assignedNodes),r=a.Ba){for(i=0;i<r.length;i++)Ze(r[i]).oa=null;a.Ba=null,r.length>a.assignedNodes.length&&(a.ra=!0)}a.ra&&(a.ra=!1,Rr(this,t))}for(t=this.a,n=[],a=0;a<t.length;a++)(i=Ze(r=t[a].__shady_parentNode))&&i.root||!(0>n.indexOf(r))||n.push(r);for(t=0;t<n.length;t++){for(a=(i=n[t])===this?this.host:i,r=[],i=i.__shady_firstChild;i;i=i.__shady_nextSibling)if("slot"==i.localName)for(var o=Ze(i).V,s=0;s<o.length;s++)r.push(o[s]);else r.push(i);i=dt(a),o=Tn(r,r.length,i,i.length);for(var c=s=0,l=void 0;s<o.length&&(l=o[s]);s++){for(var u=0,h=void 0;u<l.ba.length&&(h=l.ba[u]);u++)h.__shady_native_parentNode===a&&a.__shady_native_removeChild(h),i.splice(l.index+c,1);c-=l.ia}for(c=0,l=void 0;c<o.length&&(l=o[c]);c++)for(s=i[l.index],u=l.index;u<l.index+l.ia;u++)h=r[u],a.__shady_native_insertBefore(h,s),i.splice(u,0,h)}}if(!et.preferPerformance&&!this.Aa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)t=Ze(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&t.assignedSlot||this.host.__shady_native_removeChild(n);this.Aa=!0,xr=e,Sr&&Sr()},function(e){e.__proto__=DocumentFragment.prototype,Er(e,"__shady_"),Er(e),Object.defineProperties(e,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(t){Object.defineProperty(e,t,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(t){Object.defineProperty(e,t,{get:function(){return this.host[t]},configurable:!0})}))}(Or.prototype),window.customElements&&window.customElements.define&&et.sa&&!et.preferPerformance){var Ur=new Map;Sr=function(){var e=[];Ur.forEach((function(t,n){e.push([n,t])})),Ur.clear();for(var t=0;t<e.length;t++){var n=e[t][0];e[t][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},xr&&document.addEventListener("readystatechange",(function(){xr=!1,Sr()}),{once:!0});var Br=window.customElements.define,qr=function(e,t){var n=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;Br.call(window.customElements,e,function(e,t,n){var r=0,a="__isConnected"+r++;return(t||n)&&(e.prototype.connectedCallback=e.prototype.__shadydom_connectedCallback=function(){xr?Ur.set(this,!0):this[a]||(this[a]=!0,t&&t.call(this))},e.prototype.disconnectedCallback=e.prototype.__shadydom_disconnectedCallback=function(){xr?this.isConnected||Ur.set(this,!1):this[a]&&(this[a]=!1,n&&n.call(this))}),e}(t,n,r)),t.prototype.connectedCallback=n,t.prototype.disconnectedCallback=r};window.customElements.define=qr,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:qr,configurable:!0})}function Vr(e){if(rt(e=e.__shady_getRootNode()))return e}function Wr(e){this.node=e}function zr(e){Object.defineProperty(Wr.prototype,e,{get:function(){return this.node["__shady_"+e]},set:function(t){this.node["__shady_"+e]=t},configurable:!0})}(t=Wr.prototype).addEventListener=function(e,t,n){return this.node.__shady_addEventListener(e,t,n)},t.removeEventListener=function(e,t,n){return this.node.__shady_removeEventListener(e,t,n)},t.appendChild=function(e){return this.node.__shady_appendChild(e)},t.insertBefore=function(e,t){return this.node.__shady_insertBefore(e,t)},t.removeChild=function(e){return this.node.__shady_removeChild(e)},t.replaceChild=function(e,t){return this.node.__shady_replaceChild(e,t)},t.cloneNode=function(e){return this.node.__shady_cloneNode(e)},t.getRootNode=function(e){return this.node.__shady_getRootNode(e)},t.contains=function(e){return this.node.__shady_contains(e)},t.dispatchEvent=function(e){return this.node.__shady_dispatchEvent(e)},t.setAttribute=function(e,t){this.node.__shady_setAttribute(e,t)},t.getAttribute=function(e){return this.node.__shady_native_getAttribute(e)},t.hasAttribute=function(e){return this.node.__shady_native_hasAttribute(e)},t.removeAttribute=function(e){this.node.__shady_removeAttribute(e)},t.attachShadow=function(e){return this.node.__shady_attachShadow(e)},t.focus=function(){this.node.__shady_native_focus()},t.blur=function(){this.node.__shady_blur()},t.importNode=function(e,t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(e,t)},t.getElementById=function(e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(e)},t.querySelector=function(e){return this.node.__shady_querySelector(e)},t.querySelectorAll=function(e,t){return this.node.__shady_querySelectorAll(e,t)},t.assignedNodes=function(e){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(e)},t.append=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.node.__shady_append.apply(this.node,h(t))},t.prepend=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.node.__shady_prepend.apply(this.node,h(t))},t.after=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.node.__shady_after.apply(this.node,h(t))},t.before=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.node.__shady_before.apply(this.node,h(t))},t.remove=function(){return this.node.__shady_remove()},t.replaceWith=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.node.__shady_replaceWith.apply(this.node,h(t))},a.Object.defineProperties(Wr.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(rt(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(rt(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(e){this.node.__shady_innerHTML=e}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(e){this.node.__shady_textContent=e}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(e){this.node.__shady_slot=e}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(e){return this.node.__shady_className=e}}}),An.forEach((function(e){return zr(e)})),xn.forEach((function(e){return zr(e)}));var $r=new WeakMap;function Gr(e){if(rt(e)||e instanceof Wr)return e;var t=$r.get(e);return t||(t=new Wr(e),$r.set(e,t)),t}if(et.sa){var Jr=et.B?function(e){return e}:function(e){return en(e),Zt(e),e},Kr={inUse:et.sa,patch:Jr,isShadyRoot:rt,enqueue:At,flush:xt,flushInitial:function(e){!e.Aa&&e.T&&Pr(e)},settings:et,filterMutations:function(e,t){var n=t.getRootNode();return e.map((function(e){var t=n===e.target.getRootNode();if(t&&e.addedNodes){if((t=[].slice.call(e.addedNodes).filter((function(e){return n===e.getRootNode()}))).length)return e=Object.create(e),Object.defineProperty(e,"addedNodes",{value:t,configurable:!0}),e}else if(t)return e})).filter((function(e){return e}))},observeChildren:function(e,t){var n=Xe(e);n.Z||(n.Z=new Ct),n.Z.ja.add(t);var r=n.Z;return{Ma:t,S:r,Na:e,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(e){var t=e&&e.S;t&&(t.ja.delete(e.Ma),t.ja.size||(Xe(e.Na).Z=null))},deferConnectionCallbacks:et.deferConnectionCallbacks,preferPerformance:et.preferPerformance,handlesDynamicScoping:!0,wrap:et.D?Gr:Jr,wrapIfNeeded:!0===et.D?Gr:function(e){return e},Wrapper:Wr,composedPath:function(e){return e.__composedPath||(e.__composedPath=ln(e.target,!0)),e.__composedPath},noPatch:et.D,patchOnDemand:et.ua,nativeMethods:It,nativeTree:Lt,patchElementProto:vr};window.ShadyDOM=Kr,function(){var e=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?Ut(window.EventTarget.prototype,e):(Ut(Node.prototype,e),Ut(Window.prototype,e)),Dt?Ut(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Ht(Node.prototype,{parentNode:{get:function(){return Bt.currentNode=this,Bt.parentNode()}},firstChild:{get:function(){return Bt.currentNode=this,Bt.firstChild()}},lastChild:{get:function(){return Bt.currentNode=this,Bt.lastChild()}},previousSibling:{get:function(){return Bt.currentNode=this,Bt.previousSibling()}},nextSibling:{get:function(){return Bt.currentNode=this,Bt.nextSibling()}},childNodes:{get:function(){var e=[];Bt.currentNode=this;for(var t=Bt.firstChild();t;)e.push(t),t=Bt.nextSibling();return e}},parentElement:{get:function(){return qt.currentNode=this,qt.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var e,t=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";e=t.nextNode();)n+=e.nodeValue;return n;default:return this.nodeValue}},set:function(e){switch(null==e&&(e=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Wt(this),(0<e.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(e),void 0);break;default:this.nodeValue=e}}}}),Ut(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Ut(HTMLElement.prototype,["parentElement","contains"]),e={firstElementChild:{get:function(){return qt.currentNode=this,qt.firstChild()}},lastElementChild:{get:function(){return qt.currentNode=this,qt.lastChild()}},children:{get:function(){var e=[];qt.currentNode=this;for(var t=qt.firstChild();t;)e.push(t),t=qt.nextSibling();return ft(e)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},Dt?(Ut(Element.prototype,zt),Ut(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Ut(HTMLElement.prototype,["children","innerHTML","className"])):(Ht(Element.prototype,e),Ht(Element.prototype,{previousElementSibling:{get:function(){return qt.currentNode=this,qt.previousSibling()}},nextElementSibling:{get:function(){return qt.currentNode=this,qt.nextSibling()}},innerHTML:{get:function(){return Rt(this,dt)},set:function(e){var t="template"===this.localName?this.content:this;Wt(t);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==Vt.namespaceURI?Vt.createElementNS(this.namespaceURI,n):Vt.createElement(n)).innerHTML=e,e="template"===this.localName?n.content:n;n=e.__shady_native_firstChild;)t.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)}}})),Ut(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Ut(Element.prototype,$t),Ut(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Ut(window.HTMLTemplateElement.prototype,["innerHTML"]),Dt?Ut(DocumentFragment.prototype,zt):Ht(DocumentFragment.prototype,e),Ut(DocumentFragment.prototype,$t),Dt?(Ut(Document.prototype,zt),Ut(Document.prototype,["activeElement"])):Ht(Document.prototype,e),Ut(Document.prototype,["importNode","getElementById"]),Ut(Document.prototype,$t)}(),gr("__shady_"),Object.defineProperty(document,"_activeElement",sr.activeElement),mt(Window.prototype,ur,"__shady_"),et.D?et.ua&&mt(Element.prototype,tr):(gr(),function(){if(!nn&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var e=function(){var e=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(e)};Element.prototype.click?Element.prototype.click=e:HTMLElement.prototype.click&&(HTMLElement.prototype.click=e)}}()),function(){for(var e in pn)window.__shady_native_addEventListener(e,(function(e){e.__target||(wn(e),gn(e))}),!0)}(),window.Event=kn,window.CustomEvent=En,window.MouseEvent=Sn,window.ShadowRoot=Or}var Qr=window.Document.prototype.createElement,Yr=window.Document.prototype.createElementNS,Xr=window.Document.prototype.importNode,Zr=window.Document.prototype.prepend,ea=window.Document.prototype.append,ta=window.DocumentFragment.prototype.prepend,na=window.DocumentFragment.prototype.append,ra=window.Node.prototype.cloneNode,aa=window.Node.prototype.appendChild,ia=window.Node.prototype.insertBefore,oa=window.Node.prototype.removeChild,sa=window.Node.prototype.replaceChild,ca=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),la=window.Element.prototype.attachShadow,ua=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),ha=window.Element.prototype.getAttribute,pa=window.Element.prototype.setAttribute,fa=window.Element.prototype.removeAttribute,da=window.Element.prototype.getAttributeNS,ga=window.Element.prototype.setAttributeNS,va=window.Element.prototype.removeAttributeNS,ma=window.Element.prototype.insertAdjacentElement,ya=window.Element.prototype.insertAdjacentHTML,ba=window.Element.prototype.prepend,_a=window.Element.prototype.append,wa=window.Element.prototype.before,ka=window.Element.prototype.after,Ea=window.Element.prototype.replaceWith,Sa=window.Element.prototype.remove,Aa=window.HTMLElement,xa=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Ca=window.HTMLElement.prototype.insertAdjacentElement,Oa=window.HTMLElement.prototype.insertAdjacentHTML,Ta=new Set;function Na(e){var t=Ta.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return Ta.add(e)}));var Pa=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function Ma(e){var t=e.isConnected;if(void 0!==t)return t;if(Pa(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function ja(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function Ra(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function Da(){var e=!(null==ni||!ni.noDocumentConstructionObserver),t=!(null==ni||!ni.shadyDomFastWalk);this.X=[],this.a=[],this.R=!1,this.shadyDomFastWalk=t,this.jb=!e}function Ia(e,t,n,r){var a=window.ShadyDom;if(e.shadyDomFastWalk&&a&&a.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=a.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else!function e(t,n,r){for(var a=t;a;){if(a.nodeType===Node.ELEMENT_NODE){var i=a;n(i);var o=i.localName;if("link"===o&&"import"===i.getAttribute("rel")){if(a=i.import,void 0===r&&(r=new Set),a instanceof Node&&!r.has(a))for(r.add(a),a=a.firstChild;a;a=a.nextSibling)e(a,n,r);a=Ra(t,i);continue}if("template"===o){a=Ra(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)e(i,n,r)}a=a.firstChild?a.firstChild:Ra(t,a)}}(t,n,r)}function La(e,t){e.R&&Ia(e,t,(function(t){return Fa(e,t)}))}function Fa(e,t){if(e.R&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.X.length;n++)e.X[n](t);for(n=0;n<e.a.length;n++)e.a[n](t)}}function Ha(e,t){var n=[];for(Ia(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):qa(e,r)}}function Ua(e,t){var n=[];for(Ia(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function Ba(e,t,n){var r=(n=void 0===n?{}:n).kb,a=n.upgrade||function(t){return qa(e,t)},i=[];for(Ia(e,t,(function(t){if(e.R&&Fa(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(e){return i.add(e)})),i.delete(n)),Ba(e,n,{kb:i,upgrade:a})}}))}else i.push(t)}),r),t=0;t<i.length;t++)a(i[t])}function qa(e,t){try{var n=t.ownerDocument,r=n.__CE_registry,a=r&&(n.defaultView||n.__CE_isImportDocument)?Xa(r,t.localName):void 0;if(a&&void 0===t.__CE_state){a.constructionStack.push(t);try{try{if(new a.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{a.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=a,a.attributeChangedCallback&&t.hasAttributes()){var i=a.observedAttributes;for(a=0;a<i.length;a++){var o=i[a],s=t.getAttribute(o);null!==s&&e.attributeChangedCallback(t,o,null,s,null)}}Ma(t)&&e.connectedCallback(t)}}catch(e){Wa(e)}}function Va(e,t,n,r){var a=t.__CE_registry;if(a&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(a=Xa(a,n)))try{var i=new a.constructorFunction;if(void 0===i.__CE_state||void 0===i.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==i.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(i.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==i.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==i.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(i.ownerDocument!==t)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(i.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return i}catch(a){return Wa(a),t=null===r?Qr.call(t,n):Yr.call(t,r,n),Object.setPrototypeOf(t,HTMLUnknownElement.prototype),t.__CE_state=2,t.__CE_definition=void 0,Fa(e,t),t}return Fa(e,t=null===r?Qr.call(t,n):Yr.call(t,r,n)),t}function Wa(e){var t=e.message,n=e.sourceURL||e.fileName||"",r=e.line||e.lineNumber||0,a=e.column||e.columnNumber||0,i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:r,colno:a,error:e}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(i),i.defaultPrevented||console.error(e)}function za(){var e=this;this.C=void 0,this.Ca=new Promise((function(t){e.a=t}))}function $a(e){var t=document;this.S=void 0,this.M=e,this.a=t,Ba(this.M,this.a),"loading"===this.a.readyState&&(this.S=new MutationObserver(this.b.bind(this)),this.S.observe(this.a,{childList:!0,subtree:!0}))}function Ga(e){e.S&&e.S.disconnect()}function Ja(e){this.fa=new Map,this.ga=new Map,this.xa=new Map,this.na=!1,this.qa=new Map,this.ea=function(e){return e()},this.P=!1,this.ha=[],this.M=e,this.ya=e.jb?new $a(e):void 0}function Ka(e,t){if(!Na(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(Xa(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.na)throw Error("A custom element is already being defined.")}function Qa(e,t,n){var r;e.na=!0;try{var a=n.prototype;if(!(a instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=function(e){var t=a[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},o=i("connectedCallback"),s=i("disconnectedCallback"),c=i("adoptedCallback"),l=(r=i("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.na=!1}return n={localName:t,constructorFunction:n,connectedCallback:o,disconnectedCallback:s,adoptedCallback:c,attributeChangedCallback:r,observedAttributes:l,constructionStack:[]},e.ga.set(t,n),e.xa.set(n.constructorFunction,n),n}function Ya(e){if(!1!==e.P){e.P=!1;for(var t=[],n=e.ha,r=new Map,a=0;a<n.length;a++)r.set(n[a],[]);for(Ba(e.M,document,{upgrade:function(n){if(void 0===n.__CE_state){var a=n.localName,i=r.get(a);i?i.push(n):e.ga.has(a)&&t.push(n)}}}),a=0;a<t.length;a++)qa(e.M,t[a]);for(a=0;a<n.length;a++){for(var i=n[a],o=r.get(i),s=0;s<o.length;s++)qa(e.M,o[s]);(i=e.qa.get(i))&&i.resolve(void 0)}n.length=0}}function Xa(e,t){var n=e.ga.get(t);if(n)return n;if(n=e.fa.get(t)){e.fa.delete(t);try{return Qa(e,t,n())}catch(e){Wa(e)}}}function Za(e,t,n){function r(t){return function(n){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];a=[];for(var i=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&Ma(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)a.push(s);else a.push(s)}for(t.apply(this,r),r=0;r<i.length;r++)Ua(e,i[r]);if(Ma(this))for(r=0;r<a.length;r++)(i=a[r])instanceof Element&&Ha(e,i)}}void 0!==n.prepend&&(t.prepend=r(n.prepend)),void 0!==n.append&&(t.append=r(n.append))}function ei(e){function t(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var r=this,a=void 0;if(Ma(this)&&(a=[],Ia(e,this,(function(e){e!==r&&a.push(e)}))),n.set.call(this,t),a)for(var i=0;i<a.length;i++){var o=a[i];1===o.__CE_state&&e.disconnectedCallback(o)}return this.ownerDocument.__CE_registry?Ba(e,this):La(e,this),t}})}function n(t,n){t.insertAdjacentElement=function(t,r){var a=Ma(r);return t=n.call(this,t,r),a&&Ua(e,r),Ma(t)&&Ha(e,r),t}}function r(t,n){function r(t,n){for(var r=[];t!==n;t=t.nextSibling)r.push(t);for(n=0;n<r.length;n++)Ba(e,r[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var a=this.previousSibling;n.call(this,e,t),r(a||this.parentNode.firstChild,this)}else if("afterbegin"===e)a=this.firstChild,n.call(this,e,t),r(this.firstChild,a);else if("beforeend"===e)a=this.lastChild,n.call(this,e,t),r(a||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");a=this.nextSibling,n.call(this,e,t),r(this.nextSibling,a)}}}la&&(Element.prototype.attachShadow=function(t){if(t=la.call(this,t),e.R&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.X.length;n++)e.X[n](t)}return this.__CE_shadowRoot=t}),ua&&ua.get?t(Element.prototype,ua):xa&&xa.get?t(HTMLElement.prototype,xa):function(e,t){e.R=!0,e.a.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return ra.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,n=t?this.content:this,r=Yr.call(document,this.namespaceURI,this.localName);for(r.innerHTML=e;0<n.childNodes.length;)oa.call(n,n.childNodes[0]);for(e=t?r.content:r;0<e.childNodes.length;)aa.call(n,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return pa.call(this,t,n);var r=ha.call(this,t);pa.call(this,t,n),n=ha.call(this,t),e.attributeChangedCallback(this,t,r,n,null)},Element.prototype.setAttributeNS=function(t,n,r){if(1!==this.__CE_state)return ga.call(this,t,n,r);var a=da.call(this,t,n);ga.call(this,t,n,r),r=da.call(this,t,n),e.attributeChangedCallback(this,n,a,r,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return fa.call(this,t);var n=ha.call(this,t);fa.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return va.call(this,t,n);var r=da.call(this,t,n);va.call(this,t,n);var a=da.call(this,t,n);r!==a&&e.attributeChangedCallback(this,n,r,a,t)},Ca?n(HTMLElement.prototype,Ca):ma&&n(Element.prototype,ma),Oa?r(HTMLElement.prototype,Oa):ya&&r(Element.prototype,ya),Za(e,Element.prototype,{prepend:ba,append:_a}),function(e){function t(t){return function(n){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];a=[];for(var i=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&Ma(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)a.push(s);else a.push(s)}for(t.apply(this,r),r=0;r<i.length;r++)Ua(e,i[r]);if(Ma(this))for(r=0;r<a.length;r++)(i=a[r])instanceof Element&&Ha(e,i)}}var n=Element.prototype;void 0!==wa&&(n.before=t(wa)),void 0!==ka&&(n.after=t(ka)),void 0!==Ea&&(n.replaceWith=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var a=[],i=0;i<n.length;i++){var o=n[i];if(o instanceof Element&&Ma(o)&&a.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)r.push(o);else r.push(o)}for(i=Ma(this),Ea.apply(this,n),n=0;n<a.length;n++)Ua(e,a[n]);if(i)for(Ua(e,this),n=0;n<r.length;n++)(a=r[n])instanceof Element&&Ha(e,a)}),void 0!==Sa&&(n.remove=function(){var t=Ma(this);Sa.call(this),t&&Ua(e,this)})}(e)}Da.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){Wa(e)}},Da.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){Wa(e)}},Da.prototype.attributeChangedCallback=function(e,t,n,r,a){var i=e.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t))try{i.attributeChangedCallback.call(e,t,n,r,a)}catch(e){Wa(e)}},za.prototype.resolve=function(e){if(this.C)throw Error("Already resolved.");this.C=e,this.a(e)},$a.prototype.b=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||Ga(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)Ba(this.M,n[r])},(t=Ja.prototype).$a=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Ka(this,e),this.fa.set(e,t),this.ha.push(e),this.P||(this.P=!0,this.ea((function(){return Ya(n)})))},t.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");Ka(this,e),Qa(this,e,t),this.ha.push(e),this.P||(this.P=!0,this.ea((function(){return Ya(n)})))},t.upgrade=function(e){Ba(this.M,e)},t.get=function(e){if(e=Xa(this,e))return e.constructorFunction},t.whenDefined=function(e){if(!Na(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.qa.get(e);if(t)return t.Ca;t=new za,this.qa.set(e,t);var n=this.ga.has(e)||this.fa.has(e);return e=-1===this.ha.indexOf(e),n&&e&&t.resolve(void 0),t.Ca},t.polyfillWrapFlushCallback=function(e){this.ya&&Ga(this.ya);var t=this.ea;this.ea=function(n){return e((function(){return t(n)}))}},window.CustomElementRegistry=Ja,Ja.prototype.define=Ja.prototype.define,Ja.prototype.upgrade=Ja.prototype.upgrade,Ja.prototype.get=Ja.prototype.get,Ja.prototype.whenDefined=Ja.prototype.whenDefined,Ja.prototype.polyfillDefineLazy=Ja.prototype.$a,Ja.prototype.polyfillWrapFlushCallback=Ja.prototype.polyfillWrapFlushCallback;var ti={};var ni=window.customElements;function ri(){var e=new Da;!function(e){function t(){var t=this.constructor,n=document.__CE_registry.xa.get(t);if(!n)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=Qr.call(document,n.localName),Object.setPrototypeOf(r,t.prototype),r.__CE_state=1,r.__CE_definition=n,Fa(e,r),r;var a=r.length-1,i=r[a];if(i===ti)throw Error("Failed to construct '"+n.localName+"': This element was already constructed.");return r[a]=ti,Object.setPrototypeOf(i,t.prototype),Fa(e,i),i}t.prototype=Aa.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:t}),window.HTMLElement=t}(e),function(e){Document.prototype.createElement=function(t){return Va(e,this,t,null)},Document.prototype.importNode=function(t,n){return t=Xr.call(this,t,!!n),this.__CE_registry?Ba(e,t):La(e,t),t},Document.prototype.createElementNS=function(t,n){return Va(e,this,n,t)},Za(e,Document.prototype,{prepend:Zr,append:ea})}(e),Za(e,DocumentFragment.prototype,{prepend:ta,append:na}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var a=this.childNodes,i=a.length;if(0<i&&Ma(this)){r=Array(i);for(var o=0;o<i;o++)r[o]=a[o]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)Ua(e,r[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var r=ja(t);if(t=ia.call(this,t,n),Ma(this))for(n=0;n<r.length;n++)Ha(e,r[n]);return t}return r=t instanceof Element&&Ma(t),n=ia.call(this,t,n),r&&Ua(e,t),Ma(this)&&Ha(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=ja(t);if(t=aa.call(this,t),Ma(this))for(var r=0;r<n.length;r++)Ha(e,n[r]);return t}return n=t instanceof Element&&Ma(t),r=aa.call(this,t),n&&Ua(e,t),Ma(this)&&Ha(e,t),r},Node.prototype.cloneNode=function(t){return t=ra.call(this,!!t),this.ownerDocument.__CE_registry?Ba(e,t):La(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&Ma(t),r=oa.call(this,t);return n&&Ua(e,t),r},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var r=ja(t);if(t=sa.call(this,t,n),Ma(this))for(Ua(e,n),n=0;n<r.length;n++)Ha(e,r[n]);return t}r=t instanceof Element&&Ma(t);var a=sa.call(this,t,n),i=Ma(this);return i&&Ua(e,n),r&&Ua(e,t),i&&Ha(e,t),a},ca&&ca.get?t(Node.prototype,ca):function(e,t){e.R=!0,e.X.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)oa.call(this,this.firstChild);null!=e&&""!==e&&aa.call(this,document.createTextNode(e))}})}))}(e),ei(e),e=new Ja(e),document.__CE_registry=e,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:e})}function ai(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function ii(e){var t=e=e.replace(pi,"").replace(fi,""),n=new ai;n.start=0,n.end=t.length;for(var r=n,a=0,i=t.length;a<i;a++)if("{"===t[a]){r.rules||(r.rules=[]);var o=r,s=o.rules[o.rules.length-1]||null;(r=new ai).start=a+1,r.parent=o,r.previous=s,o.rules.push(r)}else"}"===t[a]&&(r.end=a+1,r=r.parent||n);return function e(t,n){var r=n.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=r.trim(),t.parent&&(r=(r=(r=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(e,t){for(t=6-(e=t).length;t--;)e="0"+e;return"\\"+e}))}(r=n.substring(t.previous?t.previous.end:t.parent.start,t.start-1))).replace(bi," ")).substring(r.lastIndexOf(";")+1),r=t.parsedSelector=t.selector=r.trim(),t.atRule=0===r.indexOf("@"),t.atRule?0===r.indexOf("@media")?t.type=ui:r.match(yi)&&(t.type=li,t.keyframesName=t.selector.split(bi).pop()):t.type=0===r.indexOf("--")?hi:ci),r=t.rules)for(var a=0,i=r.length,o=void 0;a<i&&(o=r[a]);a++)e(o,n);return t}(n,e)}ni&&!ni.forcePolyfill&&"function"==typeof ni.define&&"function"==typeof ni.get||ri(),window.__CE_installPolyfill=ri;var oi,si,ci=1,li=7,ui=4,hi=1e3,pi=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,fi=/@import[^;]*;/gim,di=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,gi=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,vi=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,mi=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,yi=/^@[^\s]*keyframes/,bi=/\s+/g,_i=!(window.ShadyDOM&&window.ShadyDOM.inUse);function wi(e){oi=(!e||!e.shimcssproperties)&&(_i||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(si=window.ShadyCSS.cssBuild);var ki=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?oi=window.ShadyCSS.nativeCss:window.ShadyCSS?(wi(window.ShadyCSS),window.ShadyCSS=void 0):wi(window.WebComponents&&window.WebComponents.flags);var Ei=oi,Si=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Ai=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,xi=/(--[\w-]+)\s*([:,;)]|$)/gi,Ci=/(animation\s*:)|(animation-name\s*:)/,Oi=/@media\s(.*)/,Ti=/\{[^}]*\}/g,Ni=new Set;function Pi(e,t){return e?("string"==typeof e&&(e=ii(e)),t&&Ri(e,t),function e(t,n,r){r=void 0===r?"":r;var a="";if(t.cssText||t.rules){var i,o=t.rules;if((i=o)&&(i=!((i=o[0])&&i.selector&&0===i.selector.indexOf("--"))),i){i=0;for(var s=o.length,c=void 0;i<s&&(c=o[i]);i++)a=e(c,n,a)}else n?n=t.cssText:n=(n=(n=t.cssText).replace(di,"").replace(gi,"")).replace(vi,"").replace(mi,""),(a=n.trim())&&(a="  "+a+"\n")}return a&&(t.selector&&(r+=t.selector+" {\n"),r+=a,t.selector&&(r+="}\n\n")),r}(e,Ei)):""}function Mi(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=ii(e.textContent)),e.__cssRules||null}function ji(e){return!!e.parent&&e.parent.type===li}function Ri(e,t,n,r){if(e){var a=!1,i=e.type;if(r&&i===ui){var o=e.selector.match(Oi);o&&(window.matchMedia(o[1]).matches||(a=!0))}if(i===ci?t(e):n&&i===li?n(e):i===hi&&(a=!0),(e=e.rules)&&!a)for(a=0,i=e.length,o=void 0;a<i&&(o=e[a]);a++)Ri(o,t,n,r)}}function Di(e,t,n,r){var a=document.createElement("style");return t&&a.setAttribute("scope",t),a.textContent=e,Fi(a,n,r),a}var Ii=null;function Li(e){e=document.createComment(" Shady DOM styles for "+e+" ");var t=document.head;return t.insertBefore(e,(Ii?Ii.nextSibling:null)||t.firstChild),Ii=e}function Fi(e,t,n){(t=t||document.head).insertBefore(e,n&&n.nextSibling||t.firstChild),Ii?e.compareDocumentPosition(Ii)===Node.DOCUMENT_POSITION_PRECEDING&&(Ii=e):Ii=e}function Hi(e,t){for(var n=0,r=e.length;t<r;t++)if("("===e[t])n++;else if(")"===e[t]&&0==--n)return t;return-1}function Ui(e,t){_i?e.setAttribute("class",t):window.ShadyDOM.nativeMethods.setAttribute.call(e,"class",t)}var Bi=window.ShadyDOM&&window.ShadyDOM.wrap||function(e){return e};function qi(e){var t=e.localName,n="";return t?-1<t.indexOf("-")||(n=t,t=e.getAttribute&&e.getAttribute("is")||""):(t=e.is,n=e.extends),{is:t,ca:n}}function Vi(e){for(var t=[],n="",r=0;0<=r&&r<e.length;r++)if("("===e[r]){var a=Hi(e,r);n+=e.slice(r,a+1),r=a}else","===e[r]?(t.push(n),n=""):n+=e[r];return n&&t.push(n),t}function Wi(e){if(void 0!==si)return si;if(void 0===e.__cssBuild){var t=e.getAttribute("css-build");if(t)e.__cssBuild=t;else{if(""!==(t=(t="template"===e.localName?e.content.firstChild:e.firstChild)instanceof Comment&&"css-build"===(t=t.textContent.trim().split(":"))[0]?t[1]:"")){var n="template"===e.localName?e.content.firstChild:e.firstChild;n.parentNode.removeChild(n)}e.__cssBuild=t}}return e.__cssBuild||""}function zi(e){return!(""===(e=void 0===e?"":e)||!Ei)&&(_i?"shadow"===e:"shady"===e)}function $i(){}function Gi(e,t,n){var r;if(t.nodeType===Node.ELEMENT_NODE&&n(t),r="template"===t.localName?(t.content||t._content||t).childNodes:t.children||t.childNodes)for(t=0;t<r.length;t++)Gi(e,r[t],n)}function Ji(e,t,n){if(t)if(e.classList)n?(e.classList.remove("style-scope"),e.classList.remove(t)):(e.classList.add("style-scope"),e.classList.add(t));else if(e.getAttribute){var r=e.getAttribute("class");n?r&&Ui(e,t=r.replace("style-scope","").replace(t,"")):Ui(e,(r?r+" ":"")+"style-scope "+t)}}function Ki(e,t,n){Gi(ho,e,(function(e){Ji(e,t,!0),Ji(e,n)}))}function Qi(e,t){Gi(ho,e,(function(e){Ji(e,t||"",!0)}))}function Yi(e,t,n,r,a){var i=ho;return""===(a=void 0===a?"":a)&&(_i||"shady"===(void 0===r?"":r)?a=Pi(t,n):a=function(e,t,n,r,a){var i=Xi(n,r);return n=n?"."+n:"",Pi(t,(function(t){t.c||(t.selector=t.w=Zi(e,t,e.b,n,i),t.c=!0),a&&a(t,n,i)}))}(i,t,(e=qi(e)).is,e.ca,n)+"\n\n"),a.trim()}function Xi(e,t){return t?"[is="+e+"]":e}function Zi(e,t,n,r,a){var i=Vi(t.selector);if(!ji(t)){t=0;for(var o=i.length,s=void 0;t<o&&(s=i[t]);t++)i[t]=n.call(e,s,r,a)}return i.filter((function(e){return!!e})).join(",")}function eo(e){return e.replace(ro,(function(e,t,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+t+"("+n+")"}))}function to(e,t){e=e.split(/(\[.+?\])/);for(var n=[],r=0;r<e.length;r++)if(1==r%2)n.push(e[r]);else{var a=e[r];""===a&&r===e.length-1||((a=a.split(":"))[0]+=t,n.push(a.join(":")))}return n.join("")}function no(e){":root"===e.selector&&(e.selector="html")}$i.prototype.b=function(e,t,n){var r=!1;e=e.trim();var a=ro.test(e);a&&(e=eo(e=e.replace(ro,(function(e,t,n){return":"+t+"("+n.replace(/\s/g,"")+")"}))));var i=uo.test(e);if(i){var o=function(e){for(var t,n=[];t=e.match(uo);){var r=t.index,a=Hi(e,r);if(-1===a)throw Error(t.input+" selector missing ')'");t=e.slice(r,a+1),e=e.replace(t,""),n.push(t)}return{wa:e,matches:n}}(e);e=o.wa,o=o.matches}return e=(e=e.replace(oo,":host $1")).replace(ao,(function(e,a,i){return r||(e=function(e,t,n,r){var a=e.indexOf("::slotted");if(0<=e.indexOf(":host")?e=function(e,t){var n=e.match(so);return(n=n&&n[2].trim()||"")?n[0].match(io)?e.replace(so,(function(e,n,r){return t+r})):n.split(io)[0]===t?n:"should_not_match":e.replace(":host",t)}(e,r):0!==a&&(e=n?to(e,n):e),n=!1,0<=a&&(t="",n=!0),n){var i=!0;n&&(e=e.replace(co,(function(e,t){return" > "+t})))}return{value:e,Qa:t,stop:i}}(i,a,t,n),r=r||e.stop,a=e.Qa,i=e.value),a+i})),i&&(e=function(e,t){var n=e.split("");return t.reduce((function(e,t,r){return e+t+n[r+1]}),n[0])}(e,o)),a&&(e=eo(e)),e.replace(lo,(function(e,t,n,r){return'[dir="'+n+'"] '+t+r+", "+t+'[dir="'+n+'"]'+r}))},$i.prototype.c=function(e){return e.match(":host")?"":e.match("::slotted")?this.b(e,":not(.style-scope)"):to(e.trim(),":not(.style-scope)")},a.Object.defineProperties($i.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var ro=/:(nth[-\w]+)\(([^)]+)\)/,ao=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,io=/[[.:#*]/,oo=/^(::slotted)/,so=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,co=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,lo=/(.*):dir\((?:(ltr|rtl))\)(.*)/,uo=/:(?:matches|any|-(?:webkit|moz)-any)/,ho=new $i;function po(e,t,n,r,a){this.H=e||null,this.b=t||null,this.ta=n||[],this.F=null,this.cssBuild=a||"",this.ca=r||"",this.a=this.G=this.L=null}function fo(e){return e?e.__styleInfo:null}function go(e,t){return e.__styleInfo=t}function vo(e){var t=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return t&&t.call(this,e)}po.prototype.c=function(){return this.H},po.prototype._getStyleRules=po.prototype.c;var mo=/:host\s*>\s*/,yo=navigator.userAgent.match("Trident");function bo(){}function _o(e){if(!e.v){var t={},n={};wo(e,n)&&(t.K=n,e.rules=null),t.cssText=e.parsedCssText.replace(Ti,"").replace(Si,""),e.v=t}}function wo(e,t){var n=e.v;if(!n){n=e.parsedCssText;for(var r;e=Si.exec(n);)"inherit"===(r=(e[2]||e[3]).trim())&&"unset"===r||(t[e[1].trim()]=r),r=!0;return r}if(n.K)return Object.assign(t,n.K),!0}function ko(e,t,n){return t&&(t=0<=t.indexOf(";")?Eo(e,t,n):function e(t,n){var r=t.indexOf("var(");if(-1===r)return n(t,"","","");var a=Hi(t,r+3),i=t.substring(r+4,a);return r=t.substring(0,r),t=e(t.substring(a+1),n),-1===(a=i.indexOf(","))?n(r,i.trim(),"",t):n(r,i.substring(0,a).trim(),i.substring(a+1).trim(),t)}(t,(function(t,r,a,i){return r?((r=ko(e,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=ko(e,n[a]||a,n)||a,t+(r||"")+i):t+i}))),t&&t.trim()||""}function Eo(e,t,n){t=t.split(";");for(var r,a,i=0;i<t.length;i++)if(r=t[i]){if(Ai.lastIndex=0,a=Ai.exec(r))r=ko(e,n[a[1]],n);else if(-1!==(a=r.indexOf(":"))){var o=r.substring(a);o=ko(e,o=o.trim(),n)||o,r=r.substring(0,a)+o}t[i]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return t.join(";")}function So(e,t,n){var r={},a={};return Ri(t,(function(t){!function(e,t,n,r){if(t.v||_o(t),t.v.K){var a=qi(e);e=a.is,a=a.ca,a=e?Xi(e,a):"html";var i=t.parsedSelector,o=!!i.match(mo)||"html"===a&&-1<i.indexOf("html"),s=0===i.indexOf(":host")&&!o;"shady"===n&&(s=!(o=i===a+" > *."+a||-1!==i.indexOf("html"))&&0===i.indexOf(a)),(o||s)&&(n=a,s&&(t.w||(t.w=Zi(ho,t,ho.b,e?"."+e:"",a)),n=t.w||a),o&&"html"===a&&(n=t.w||t.J),r({wa:n,Xa:s,mb:o}))}}(e,t,n,(function(n){vo.call(e._element||e,n.wa)&&(n.Xa?wo(t,r):wo(t,a))}))}),null,!0),{cb:a,Va:r}}function Ao(e,t,n,r){var a=qi(t),i=Xi(a.is,a.ca),o=new RegExp("(?:^|[^.#[:])"+(t.extends?"\\"+i.slice(0,-1)+"\\]":i)+"($|[.:[\\s>+~])"),s=fo(t);a=s.H,s=s.cssBuild;var c=function(e,t){e=e.b;var n={};if(!_i&&e)for(var r=0,a=e[r];r<e.length;a=e[++r]){var i=a,o=t;i.l=new RegExp("\\b"+i.keyframesName+"(?!\\B|-)","g"),i.a=i.keyframesName+"-"+o,i.w=i.w||i.selector,i.selector=i.w.replace(i.keyframesName,i.a),n[a.keyframesName]=xo(a)}return n}(a,r);return Yi(t,a,(function(t){var a="";if(t.v||_o(t),t.v.cssText&&(a=Eo(e,t.v.cssText,n)),t.cssText=a,!_i&&!ji(t)&&t.cssText){var s=a=t.cssText;if(null==t.Da&&(t.Da=Ci.test(a)),t.Da)if(null==t.ka)for(var l in t.ka=[],c)a!==(s=(s=c[l])(a))&&(a=s,t.ka.push(l));else{for(l=0;l<t.ka.length;++l)a=(s=c[t.ka[l]])(a);s=a}t.cssText=s,t.w=t.w||t.selector,a="."+r,s=0;for(var u=(l=Vi(t.w)).length,h=void 0;s<u&&(h=l[s]);s++)l[s]=h.match(o)?h.replace(i,a):a+" "+h;t.selector=l.join(",")}}),s)}function xo(e){return function(t){return t.replace(e.l,e.a)}}function Co(e,t){var n=Oo,r=Mi(e);e.textContent=Pi(r,(function(e){var r=e.cssText=e.parsedCssText;e.v&&e.v.cssText&&(r=r.replace(di,"").replace(gi,""),e.cssText=Eo(n,r,t))}))}a.Object.defineProperties(bo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Oo=new bo,To={},No=window.customElements;if(No&&!_i&&!ki){var Po=No.define;No.define=function(e,t,n){To[e]||(To[e]=Li(e)),Po.call(No,e,t,n)}}function Mo(){this.cache={}}function jo(){}Mo.prototype.store=function(e,t,n,r){var a=this.cache[e]||[];a.push({K:t,styleElement:n,G:r}),100<a.length&&a.shift(),this.cache[e]=a};var Ro=new RegExp(ho.a+"\\s*([^\\s]*)");function Do(e){return(e=(e.classList&&e.classList.value?e.classList.value:e.getAttribute("class")||"").match(Ro))?e[1]:""}function Io(e){var t=Bi(e).getRootNode();return t===e||t===e.ownerDocument?"":(e=t.host)?qi(e).is:""}function Lo(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var a=n.addedNodes[r];if(a.nodeType===Node.ELEMENT_NODE){var i=a.getRootNode(),o=Do(a);if(o&&i===a.ownerDocument&&("style"!==a.localName&&"template"!==a.localName||""===Wi(a)))Qi(a,o);else if(i instanceof ShadowRoot)for((i=Io(a))!==o&&Ki(a,o,i),a=window.ShadyDOM.nativeMethods.querySelectorAll.call(a,":not(."+ho.a+")"),o=0;o<a.length;o++){var s=Io(i=a[o]);s&&Ji(i,s)}}}}}if(!(_i||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Fo=new MutationObserver(Lo),Ho=function(e){Fo.observe(e,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Ho(document);else{var Uo=function(){Ho(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Uo):requestAnimationFrame((function(){if("loading"===document.readyState){var e=function(){Uo(),document.removeEventListener("readystatechange",e)};document.addEventListener("readystatechange",e)}else Uo()}))}jo=function(){Lo(Fo.takeRecords())}}var Bo={},qo=Promise.resolve();function Vo(e){(e=Bo[e])&&(e._applyShimCurrentVersion=e._applyShimCurrentVersion||0,e._applyShimValidatingVersion=e._applyShimValidatingVersion||0,e._applyShimNextVersion=(e._applyShimNextVersion||0)+1)}function Wo(e){return e._applyShimCurrentVersion===e._applyShimNextVersion}var zo={},$o=new Mo;function Go(){this.Y={},this.c=document.documentElement;var e=new ai;e.rules=[],this.l=go(this.c,new po(e)),this.J=!1,this.a=this.b=null}function Jo(e){var t=qi(e),n=t.is;t=t.ca;var r=To[n]||null,a=Bo[n];if(a)return go(e,t=new po(n=a._styleAst,r,a.a,t,a=Wi(a))),t}function Ko(e){if(!e.b&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){e.b=window.ShadyCSS.ApplyShim,e.b.invalidCallback=Vo;var t=!0}else t=!1;return function(e){!e.a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.a=window.ShadyCSS.CustomStyleInterface,e.a.transformCallback=function(t){e.Ha(t)},e.a.validateCallback=function(){requestAnimationFrame((function(){(e.a.enqueued||e.J)&&e.flushCustomStyles()}))})}(e),t}function Qo(e,t,n){var r=qi(t).is;if(n.F){var a,i=n.F;for(a in i)null===a?t.style.removeProperty(a):t.style.setProperty(a,i[a])}!(i=Bo[r])&&t!==e.c||i&&""!==Wi(i)||!i||!i._style||Wo(i)||((Wo(i)||i._applyShimValidatingVersion!==i._applyShimNextVersion)&&(Ko(e),e.b&&e.b.transformRules(i._styleAst,r),i._style.textContent=Yi(t,n.H),function(e){e._applyShimValidatingVersion=e._applyShimNextVersion,e._validating||(e._validating=!0,qo.then((function(){e._applyShimCurrentVersion=e._applyShimNextVersion,e._validating=!1})))}(i)),_i&&(e=t.shadowRoot)&&(e=e.querySelector("style"))&&(e.textContent=Yi(t,n.H)),n.H=i._styleAst)}function Yo(e,t){return(t=Bi(t).getRootNode().host)?fo(t)||Jo(t)?t:Yo(e,t):e.c}function Xo(e,t,n){var r=Yo(e,t),a=fo(r),i=a.L;for(var o in r===e.c||i||(Xo(e,r,a),i=a.L),e=Object.create(i||null),r=So(t,n.H,n.cssBuild),t=function(e,t){var n={},r=[];return Ri(e,(function(e){e.v||_o(e);var a=e.w||e.parsedSelector;t&&e.v.K&&a&&vo.call(t,a)&&(wo(e,n),e=e.index,a=parseInt(e/32,10),r[a]=(r[a]||0)|1<<e%32)}),null,!0),{K:n,key:r}}(a.H,t).K,Object.assign(e,r.Va,t,r.cb),t=n.F)((a=t[o])||0===a)&&(e[o]=a);for(o=Oo,t=Object.getOwnPropertyNames(e),a=0;a<t.length;a++)e[r=t[a]]=ko(o,e[r],e);n.L=e}(t=Go.prototype).flush=function(){jo()},t.Ta=function(e){return Mi(e)},t.hb=function(e){return Pi(e)},t.prepareTemplate=function(e,t,n){this.prepareTemplateDom(e,t),this.prepareTemplateStyles(e,t,n)},t.prepareTemplateStyles=function(e,t,n){if(!e._prepared&&!ki){_i||To[t]||(To[t]=Li(t)),e._prepared=!0,e.name=t,e.extends=n,Bo[t]=e;var r=Wi(e),a=zi(r);n={is:t,extends:n};for(var i=[],o=e.content.querySelectorAll("style"),s=0;s<o.length;s++){var c=o[s];if(c.hasAttribute("shady-unscoped")){if(!_i){var l=c.textContent;if(!Ni.has(l)){Ni.add(l);var u=document.createElement("style");u.setAttribute("shady-unscoped",""),u.textContent=l,document.head.appendChild(u)}c.parentNode.removeChild(c)}}else i.push(c.textContent),c.parentNode.removeChild(c)}i=i.join("").trim()+(zo[t]||""),Ko(this),a||((o=!r)&&(o=Ai.test(i)||Si.test(i),Ai.lastIndex=0,Si.lastIndex=0),s=ii(i),o&&Ei&&this.b&&this.b.transformRules(s,t),e._styleAst=s),o=[],Ei||(o=function(e){var t={},n=[],r=0;for(var a in Ri(e,(function(e){_o(e),e.index=r++,e=e.v.cssText;for(var n;n=xi.exec(e);){var a=n[1];":"!==n[2]&&(t[a]=!0)}}),(function(e){n.push(e)})),e.b=n,e=[],t)e.push(a);return e}(e._styleAst)),o.length&&!Ei||(s=_i?e.content:null,t=To[t]||null,r=(r=Yi(n,e._styleAst,null,r,a?i:"")).length?Di(r,n.is,s,t):null,e._style=r),e.a=o}},t.ab=function(e,t){zo[t]=e.join(" ")},t.prepareTemplateDom=function(e,t){if(!ki){var n=Wi(e);_i||"shady"===n||e._domPrepared||(e._domPrepared=!0,function(e,t){Gi(ho,e,(function(e){Ji(e,t||"")}))}(e.content,t))}},t.flushCustomStyles=function(){if(!ki){var e=Ko(this);if(this.a){var t=this.a.processStyles();if((e||this.a.enqueued)&&!zi(this.l.cssBuild)){if(Ei){if(!this.l.cssBuild)for(e=0;e<t.length;e++){var n=this.a.getStyleForCustomStyle(t[e]);if(n&&Ei&&this.b){var r=Mi(n);Ko(this),this.b.transformRules(r),n.textContent=Pi(r)}}}else{for(function(e,t){(t=t.map((function(t){return e.a.getStyleForCustomStyle(t)})).filter((function(e){return!!e}))).sort((function(e,t){return(e=t.compareDocumentPosition(e))&Node.DOCUMENT_POSITION_FOLLOWING?1:e&Node.DOCUMENT_POSITION_PRECEDING?-1:0})),e.l.H.rules=t.map((function(e){return Mi(e)}))}(this,t),Xo(this,this.c,this.l),e=0;e<t.length;e++)(n=this.a.getStyleForCustomStyle(t[e]))&&Co(n,this.l.L);this.J&&this.styleDocument()}this.a.enqueued=!1}}}},t.styleElement=function(e,t){if(ki){if(t){fo(e)||go(e,new po(null));var n=fo(e);n.F=n.F||{},Object.assign(n.F,t),Qo(this,e,n)}}else if(n=fo(e)||Jo(e))if(e!==this.c&&(this.J=!0),t&&(n.F=n.F||{},Object.assign(n.F,t)),Ei)Qo(this,e,n);else if(this.flush(),Xo(this,e,n),n.ta&&n.ta.length){var r;t=qi(e).is;e:{if(r=$o.cache[t])for(var a=r.length-1;0<=a;a--){var i=r[a];t:{for(var o=n.ta,s=0;s<o.length;s++){var c=o[s];if(i.K[c]!==n.L[c]){o=!1;break t}}o=!0}if(o){r=i;break e}}r=void 0}o=r?r.styleElement:null,a=n.G,(i=r&&r.G)||(i=t+"-"+(i=this.Y[t]=(this.Y[t]||0)+1)),n.G=i,i=n.G,s=Oo,s=o?o.textContent||"":Ao(s,e,n.L,i);var l=(c=fo(e)).a;l&&!_i&&l!==o&&(l._useCount--,0>=l._useCount&&l.parentNode&&l.parentNode.removeChild(l)),_i?c.a?(c.a.textContent=s,o=c.a):s&&(o=Di(s,i,e.shadowRoot,c.b)):o?o.parentNode||(yo&&-1<s.indexOf("@media")&&(o.textContent=s),Fi(o,null,c.b)):s&&(o=Di(s,i,null,c.b)),o&&(o._useCount=o._useCount||0,c.a!=o&&o._useCount++,c.a=o),i=o,_i||(o=n.G,c=s=e.getAttribute("class")||"",a&&(c=s.replace(new RegExp("\\s*x-scope\\s*"+a+"\\s*","g")," ")),s!==(c+=(c?" ":"")+"x-scope "+o)&&Ui(e,c)),r||$o.store(t,n.L,i,n.G)}},t.styleDocument=function(e){this.styleSubtree(this.c,e)},t.styleSubtree=function(e,t){var n=Bi(e),r=n.shadowRoot,a=e===this.c;if((r||a)&&this.styleElement(e,t),e=a?n:r)for(e=Array.from(e.querySelectorAll("*")).filter((function(e){return Bi(e).shadowRoot})),t=0;t<e.length;t++)this.styleSubtree(e[t])},t.Ha=function(e){var t=this,n=Wi(e);if(n!==this.l.cssBuild&&(this.l.cssBuild=n),!zi(n)){var r=Mi(e);Ri(r,(function(e){if(_i)no(e);else{var r=ho;e.selector=e.parsedSelector,no(e),e.selector=e.w=Zi(r,e,r.c,void 0,void 0)}Ei&&""===n&&(Ko(t),t.b&&t.b.transformRule(e))})),Ei?e.textContent=Pi(r):this.l.H.rules.push(r)}},t.getComputedStyleValue=function(e,t){var n;return Ei||(n=(fo(e)||fo(Yo(this,e))).L[t]),(n=n||window.getComputedStyle(e).getPropertyValue(t))?n.trim():""},t.gb=function(e,t){var n,r=Bi(e).getRootNode();if(n=t?("string"==typeof t?t:String(t)).split(/\s/):[],!(t=r.host&&r.host.localName)&&(r=e.getAttribute("class"))){r=r.split(/\s/);for(var a=0;a<r.length;a++)if(r[a]===ho.a){t=r[a+1];break}}t&&n.push(ho.a,t),Ei||(t=fo(e))&&t.G&&n.push(Oo.a,t.G),Ui(e,n.join(" "))},t.Oa=function(e){return fo(e)},t.fb=function(e,t){Ji(e,t)},t.ib=function(e,t){Ji(e,t,!0)},t.eb=function(e){return Io(e)},t.Ra=function(e){return Do(e)},Go.prototype.flush=Go.prototype.flush,Go.prototype.prepareTemplate=Go.prototype.prepareTemplate,Go.prototype.styleElement=Go.prototype.styleElement,Go.prototype.styleDocument=Go.prototype.styleDocument,Go.prototype.styleSubtree=Go.prototype.styleSubtree,Go.prototype.getComputedStyleValue=Go.prototype.getComputedStyleValue,Go.prototype.setElementClass=Go.prototype.gb,Go.prototype._styleInfoForNode=Go.prototype.Oa,Go.prototype.transformCustomStyleForDocument=Go.prototype.Ha,Go.prototype.getStyleAst=Go.prototype.Ta,Go.prototype.styleAstToString=Go.prototype.hb,Go.prototype.flushCustomStyles=Go.prototype.flushCustomStyles,Go.prototype.scopeNode=Go.prototype.fb,Go.prototype.unscopeNode=Go.prototype.ib,Go.prototype.scopeForNode=Go.prototype.eb,Go.prototype.currentScopeForNode=Go.prototype.Ra,Go.prototype.prepareAdoptedCssText=Go.prototype.ab,Object.defineProperties(Go.prototype,{nativeShadow:{get:function(){return _i}},nativeCss:{get:function(){return Ei}}});var Zo,es,ts=new Go;window.ShadyCSS&&(Zo=window.ShadyCSS.ApplyShim,es=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:ts,prepareTemplate:function(e,t,n){ts.flushCustomStyles(),ts.prepareTemplate(e,t,n)},prepareTemplateDom:function(e,t){ts.prepareTemplateDom(e,t)},prepareTemplateStyles:function(e,t,n){ts.flushCustomStyles(),ts.prepareTemplateStyles(e,t,n)},styleSubtree:function(e,t){ts.flushCustomStyles(),ts.styleSubtree(e,t)},styleElement:function(e){ts.flushCustomStyles(),ts.styleElement(e)},styleDocument:function(e){ts.flushCustomStyles(),ts.styleDocument(e)},flushCustomStyles:function(){ts.flushCustomStyles()},getComputedStyleValue:function(e,t){return ts.getComputedStyleValue(e,t)},nativeCss:Ei,nativeShadow:_i,cssBuild:si,disableRuntime:ki},Zo&&(window.ShadyCSS.ApplyShim=Zo),es&&(window.ShadyCSS.CustomStyleInterface=es),function(e){function t(e){return""==e&&(i.call(this),this.h=!0),e.toLowerCase()}function n(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function r(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function a(e,a,o){var s=a||"scheme start",c=0,f="",d=!1,g=!1;e:for(;(null!=e[c-1]||0==c)&&!this.h;){var v=e[c];switch(s){case"scheme start":if(!v||!h.test(v)){if(a)break e;f="",s="no scheme";continue}f+=v.toLowerCase(),s="scheme";break;case"scheme":if(v&&p.test(v))f+=v.toLowerCase();else{if(":"!=v){if(a)break e;f="",c=0,s="no scheme";continue}if(this.g=f,f="",a)break e;void 0!==l[this.g]&&(this.A=!0),s="file"==this.g?"relative":this.A&&o&&o.g==this.g?"relative or authority":this.A?"authority first slash":"scheme data"}break;case"scheme data":"?"==v?(this.o="?",s="query"):"#"==v?(this.u="#",s="fragment"):null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.pa+=n(v));break;case"no scheme":if(o&&void 0!==l[o.g]){s="relative";continue}i.call(this),this.h=!0;break;case"relative or authority":if("/"!=v||"/"!=e[c+1]){s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.A=!0,"file"!=this.g&&(this.g=o.g),null==v){this.i=o.i,this.m=o.m,this.j=o.j.slice(),this.o=o.o,this.s=o.s,this.f=o.f;break e}if("/"==v||"\\"==v)s="relative slash";else if("?"==v)this.i=o.i,this.m=o.m,this.j=o.j.slice(),this.o="?",this.s=o.s,this.f=o.f,s="query";else{if("#"!=v){s=e[c+1];var m=e[c+2];("file"!=this.g||!h.test(v)||":"!=s&&"|"!=s||null!=m&&"/"!=m&&"\\"!=m&&"?"!=m&&"#"!=m)&&(this.i=o.i,this.m=o.m,this.s=o.s,this.f=o.f,this.j=o.j.slice(),this.j.pop()),s="relative path";continue}this.i=o.i,this.m=o.m,this.j=o.j.slice(),this.o=o.o,this.u="#",this.s=o.s,this.f=o.f,s="fragment"}break;case"relative slash":if("/"!=v&&"\\"!=v){"file"!=this.g&&(this.i=o.i,this.m=o.m,this.s=o.s,this.f=o.f),s="relative path";continue}s="file"==this.g?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=v){s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"!=v)continue;break;case"authority ignore slashes":if("/"!=v&&"\\"!=v){s="authority";continue}break;case"authority":if("@"==v){for(d&&(f+="%40"),d=!0,v=0;v<f.length;v++)"\t"==(m=f[v])||"\n"==m||"\r"==m||(":"==m&&null===this.f?this.f="":(m=n(m),null!==this.f?this.f+=m:this.s+=m));f=""}else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){c-=f.length,f="",s="host";continue}f+=v}break;case"file host":if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){2!=f.length||!h.test(f[0])||":"!=f[1]&&"|"!=f[1]?(0!=f.length&&(this.i=t.call(this,f),f=""),s="relative path start"):s="relative path";continue}"\t"==v||"\n"==v||"\r"==v||(f+=v);break;case"host":case"hostname":if(":"!=v||g){if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){if(this.i=t.call(this,f),f="",s="relative path start",a)break e;continue}"\t"!=v&&"\n"!=v&&"\r"!=v&&("["==v?g=!0:"]"==v&&(g=!1),f+=v)}else if(this.i=t.call(this,f),f="",s="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(v))f+=v;else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v||a){if(""!=f&&((f=parseInt(f,10))!=l[this.g]&&(this.m=f+""),f=""),a)break e;s="relative path start";continue}"\t"==v||"\n"==v||"\r"==v||(i.call(this),this.h=!0)}break;case"relative path start":if(s="relative path","/"!=v&&"\\"!=v)continue;break;case"relative path":null!=v&&"/"!=v&&"\\"!=v&&(a||"?"!=v&&"#"!=v)?"\t"!=v&&"\n"!=v&&"\r"!=v&&(f+=n(v)):((m=u[f.toLowerCase()])&&(f=m),".."==f?(this.j.pop(),"/"!=v&&"\\"!=v&&this.j.push("")):"."==f&&"/"!=v&&"\\"!=v?this.j.push(""):"."!=f&&("file"==this.g&&0==this.j.length&&2==f.length&&h.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this.j.push(f)),f="","?"==v?(this.o="?",s="query"):"#"==v&&(this.u="#",s="fragment"));break;case"query":a||"#"!=v?null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.o+=r(v)):(this.u="#",s="fragment");break;case"fragment":null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.u+=v)}c++}}function i(){this.s=this.pa=this.g="",this.f=null,this.m=this.i="",this.j=[],this.u=this.o="",this.A=this.h=!1}function o(e,t){void 0===t||t instanceof o||(t=new o(String(t))),this.a=e,i.call(this),a.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,t)}var s=!1;try{var c=new URL("b","http://a");c.pathname="c%20d",s="http://a/c%20d"===c.href}catch(e){}if(!s){var l=Object.create(null);l.ftp=21,l.file=0,l.gopher=70,l.http=80,l.https=443,l.ws=80,l.wss=443;var u=Object.create(null);u["%2e"]=".",u[".%2e"]="..",u["%2e."]="..",u["%2e%2e"]="..";var h=/[a-zA-Z]/,p=/[a-zA-Z0-9\+\-\.]/;o.prototype={toString:function(){return this.href},get href(){if(this.h)return this.a;var e="";return""==this.s&&null==this.f||(e=this.s+(null!=this.f?":"+this.f:"")+"@"),this.protocol+(this.A?"//"+e+this.host:"")+this.pathname+this.o+this.u},set href(e){i.call(this),a.call(this,e)},get protocol(){return this.g+":"},set protocol(e){this.h||a.call(this,e+":","scheme start")},get host(){return this.h?"":this.m?this.i+":"+this.m:this.i},set host(e){!this.h&&this.A&&a.call(this,e,"host")},get hostname(){return this.i},set hostname(e){!this.h&&this.A&&a.call(this,e,"hostname")},get port(){return this.m},set port(e){!this.h&&this.A&&a.call(this,e,"port")},get pathname(){return this.h?"":this.A?"/"+this.j.join("/"):this.pa},set pathname(e){!this.h&&this.A&&(this.j=[],a.call(this,e,"relative path start"))},get search(){return this.h||!this.o||"?"==this.o?"":this.o},set search(e){!this.h&&this.A&&(this.o="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this.h||!this.u||"#"==this.u?"":this.u},set hash(e){this.h||(e?(this.u="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment")):this.u="")},get origin(){var e;if(this.h||!this.g)return"";switch(this.g){case"data":case"file":case"javascript":case"mailto":return"null"}return(e=this.host)?this.g+"://"+e:""}};var f=e.URL;f&&(o.createObjectURL=function(e){return f.createObjectURL.apply(f,arguments)},o.revokeObjectURL=function(e){f.revokeObjectURL(e)}),e.URL=o}}(window);var ns=window.customElements,rs=!1,as=null;function is(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),as&&as(),rs=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}ns.polyfillWrapFlushCallback&&ns.polyfillWrapFlushCallback((function(e){as=e,rs&&e()})),"complete"!==document.readyState?(window.addEventListener("load",is),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",is),is()}))):is()}).call(e);var i=t(n((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}))),o=t(n((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),s=n((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(s);var c=t(n((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),l=n((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),u=t(l),h=n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),p=t(h),f=t(n((function(e){var t=l.default;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(e)},e.exports.__esModule=!0,e.exports.default=e.exports}))),d=n((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),g=t(d),v=n((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports}));t(v);var m=n((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}));t(m);var y=n((function(e){function t(n,r,a){return m()?(e.exports=t=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&s(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(y);var b=t(n((function(e){function t(n){var r="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!v(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return y(e,arguments,d(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})));function _(e,t){var n=Alphachat.config.recaptcha,r=void 0===n?{}:n;if(r&&r.enabled&&r.sitekey){if(!e)return'<div id="captcha"><slot id="alphachat-captcha-slot" name="alphachat-captcha"></slot></div>';e.appendChild('<div id="captcha"></div>'.html());var a=Alphachat.client.widget.shadowRoot.querySelector("#captcha");a&&(a.hasChildNodes()||(t?t.addEventListener("input",(function(e){e.target.checkValidity()&&!Alphachat.client.widget.shadowRoot.querySelector("#alphachat-captcha-slot")&&a.appendChild('<slot id="alphachat-captcha-slot" name="alphachat-captcha"></slot>'.html())})):Alphachat.client.widget.shadowRoot.querySelector("#alphachat-captcha-slot")||a.appendChild('<slot id="alphachat-captcha-slot" name="alphachat-captcha"></slot>'.html())))}}var w=o((function e(t,n){var r=this;i(this,e),this.logfunc=n,this.header=t,this.log=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined";r.logfunc&&r.logfunc(e,r.header,t)},this.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.log(t,"debug")},this.warning=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.log(t,"warning")},this.warn=this.warning,this.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.log(t,"error")},this.info=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.log(t,"info")}})),k=new(o((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loglevel:"error",target:"console"},r=n.loglevel,a=n.target;i(this,e),this.handlers={},this.clients={},this.color_mapper={info:"color:black",warning:"color:orange",error:"color:red",debug:"color:green"},this.add_handler=function(e){var n=e.loglevel,r=e.target;n&&r&&(n in t.handlers||(t.handlers[n]={}),t.handlers[n][r]=null,t.log(['Registered target "'.concat(r,'" for loglevel "').concat(n,'"')],"Logger.add_handler","debug"))},this.io={console:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n,r){"string"==typeof e?console.log("%c"+n+" "+e,t.color_mapper[r]):(console.log("%c"+n,t.color_mapper[r]),console.log(e))}))},this.log=function(e,n,r){0!==e.length&&r in t.handlers&&Object.keys(t.handlers[r]).forEach((function(a){a in t.io&&e.forEach((function(e){t.io[a](e,"".concat(r.toUpperCase()," [").concat(n,"]"),r)}))}))},this.client=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default header";return t.clients[e]=new w(e,t.log),t.clients[e]},this.add_handler({loglevel:r,target:a})})));k.add_handler({loglevel:"warning",target:"console"}),k.add_handler({loglevel:"info",target:"console"});var E=window.location.host;function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}(E.includes("localhost")||E.includes("stage")||E.includes("viru")||E.includes("diffexp")||E.includes("-dev")||E.includes("-test")||E.includes("uat-shared")||location.hash.includes("alphachat-test")||E.includes("dev-mirdic.fleet.zone"))&&k.add_handler({loglevel:"debug",target:"console"});var A=k.client("alphachat-v2 Application/webcomponents/form.js"),x=function(e){c(n,e);var t=S(n);function n(){var e;return i(this,n),(e=t.call(this)).getConfig(),e}return o(n,[{key:"connectedCallback",value:function(){this.inputs?(this.appendChild(this.render()),this.querySelector("#alphachat-entry-form").addEventListener("submit",this.submit.bind(this),!1)):console.error("Form needs inputs object before rendering")}},{key:"getInputValue",value:function(e){return e?"checkbox"==e.getAttribute("type")?"".concat(e.checked):e.value:""}},{key:"getValues",value:function(e){var t=this,n=this.querySelector(e);return!n.checkValidity||n.checkValidity()?Object.values(n).reduce((function(e,n){if(n instanceof Element){var r=n.getAttribute("key");if(!n.name)return e;e[r]=t.getInputValue(n)}return e}),{}):null}},{key:"SetValues",value:function(e){for(var t in A.debug("{SetValues} values:",e),e){var n=this.querySelector("[key=".concat(t,"]"));n&&(n.value=e[t])}}},{key:"submit",value:function(e){e&&e.preventDefault();var t=this.getValues("#alphachat-entry-form");t||(A.warn("No form data recieved"),t={});var n=Alphachat.client.widget.captchaResponse;if(this.config.recaptcha&&Alphachat.config&&Alphachat.config.recaptcha&&Alphachat.config.recaptcha.enabled){if(!n)return;delete Alphachat.client.widget.captchaResponse,t.captcha_response=n}if(Object.keys(t).length&&(this.dispatchEvent(new CustomEvent("alphachat-form-submit",{detail:t})),Object.keys(t).forEach((function(e){t[e]&&(Alphachat.session["form_input_".concat(e)]=t[e])}))),this.scale){this.querySelector("#alphachat-entry-form-rating").submit(t&&t.message),this.querySelector("#alphachat-form-container").remove();var r=new CustomEvent("alphachat-form-button",{detail:{type:!0,name:"Hindan"}});this.dispatchEvent(r)}}},{key:"formInput",value:function(e,t,n){var r=n.oninvalid&&Alphachat.state.translations.forms[n.oninvalid];return'<div class="alphachat-form-input">\n        <'.concat(e,'\n            type="').concat(n.type,'"\n            key="').concat(n.key,'"\n            name="').concat(n.name,'"\n            placeholder="').concat(t,'"\n            ').concat(n.min&&"minlength=".concat(n.min),"\n            ").concat(n.required&&"required","\n            ").concat(n.pattern&&"pattern=".concat(n.pattern),"\n            ").concat(r&&"oninvalid=\"this.setCustomValidity('".concat(r,"')\""),"\n            ").concat(r&&"oninput=\"this.setCustomValidity('')\"",'\n            class="alphachat-form-input-value"></').concat(e,'>\n        <span class="alphablues-form-input-error" />\n    </div>')}},{key:"formCheckbox",value:function(e,t,n){var r=n.oninvalid&&Alphachat.state.translations.forms[n.oninvalid];return'<div class="alphachat-form-input-checkbox">\n         <'.concat(e,'\n            type="').concat(n.type,'"\n            key="').concat(n.key,'"\n            name="').concat(n.name,'"\n            ').concat(n.required&&"required","\n            ").concat(r&&"oninvalid=\"this.setCustomValidity('".concat(r,"')\""),"\n            ").concat(r&&"oninput=\"this.setCustomValidity('')\"",'\n            class="alphachat-form-input-checkbox-value">\n          </').concat(e,'>\n          <span class="alphachat-form-input-checkbox-span">\n            ').concat(t,'\n          </span>\n        <span class="alphablues-form-input-error" />\n      </div>')}},{key:"getConfig",value:function(){var e=this.getAttribute("name");this.config={},e&&(this.config=Alphachat.config.forms[e])}},{key:"getFooter",value:function(){return this.config.footer?'<div id="alphachat-form-footer">'.concat(config.footer,"</div>"):""}},{key:"getCaptcha",value:function(){return this.config.recaptcha?_():""}},{key:"render",value:function(){var e=this,t=this.scale?'<rating-form-element scale="'.concat(this.scale,'"></rating-form-element>'):"",n=this.config.hide_close_button||t||"chat"===Alphachat.currentAgent.type?"":'<div id="alphachat-form-header"><div id="alphachat-form-close"></div></div>',i='<section id="alphachat-form-container">\n                    '.concat(n,'\n                    <div id="alphachat-form-title">').concat(this.getAttribute("title")||"User information",'</div>\n                    <form id="alphachat-entry-form" class="form-control-group" autoComplete="off">\n                   ').concat(t,"\n                        ").concat(this.inputs&&this.inputs.map((function(t){var n="textarea"===t.type?"textarea":"input",r=Alphachat.state.translations&&Alphachat.state.translations.forms&&Alphachat.state.translations.forms[t.name],a=t.placeholder||r||"";return"checkbox"===t.type?e.formCheckbox(n,a,t):e.formInput(n,a,t)})).join(" "),"\n                        ").concat(this.getFooter(),"\n                        ").concat(this.getCaptcha(),'\n                        <button class="alphachat-form-button" id="submit-form" type="submit">\n                        ').concat(this.getAttribute("submit")||"Submit","\n                        </button>\n                    </form>\n                </section>").html(),o=i.querySelector("#alphachat-form-close");return o&&(o.onclick=r(a.mark((function e(){var t,n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Alphachat.client.widget.shadowRoot.querySelector("form-element")).dispatchEvent(new Event("alphachat-form-abort")),n=t.getAttribute("name"),delete Alphachat.client.removeForm,Alphachat.client.removeForms(),"handover"!==n||"chat"!==Alphachat.currentAgent.type||!Alphachat.bot.config.enabled){e.next=8;break}return e.next=8,Alphachat.SetAgent("bot");case 8:case"end":return e.stop()}}),e)})))),i}}]),n}(b(HTMLElement));customElements.get("form-element")||customElements.define("form-element",x)
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/;var C=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;function N(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var P=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,a=N(e),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))O.call(n,o)&&(a[o]=n[o]);if(C){r=C(n);for(var s=0;s<r.length;s++)T.call(n,r[s])&&(a[r[s]]=n[r[s]])}}return a},M="function"==typeof Symbol&&Symbol.for,j=M?Symbol.for("react.element"):60103,R=M?Symbol.for("react.portal"):60106,D=M?Symbol.for("react.fragment"):60107,I=M?Symbol.for("react.strict_mode"):60108,L=M?Symbol.for("react.profiler"):60114,F=M?Symbol.for("react.provider"):60109,H=M?Symbol.for("react.context"):60110,U=M?Symbol.for("react.forward_ref"):60112,B=M?Symbol.for("react.suspense"):60113,q=M?Symbol.for("react.memo"):60115,V=M?Symbol.for("react.lazy"):60116,W="function"==typeof Symbol&&Symbol.iterator;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G={};function J(e,t,n){this.props=e,this.context=t,this.refs=G,this.updater=n||$}function K(){}function Q(e,t,n){this.props=e,this.context=t,this.refs=G,this.updater=n||$}J.prototype.isReactComponent={},J.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(z(85));this.updater.enqueueSetState(this,e,t,"setState")},J.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},K.prototype=J.prototype;var Y=Q.prototype=new K;Y.constructor=Q,P(Y,J.prototype),Y.isPureReactComponent=!0;var X={current:null},Z=Object.prototype.hasOwnProperty,ee={key:!0,ref:!0,__self:!0,__source:!0};function te(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)Z.call(t,r)&&!ee.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:j,type:e,key:i,ref:o,props:a,_owner:X.current}}function ne(e){return"object"==typeof e&&null!==e&&e.$$typeof===j}var re=/\/+/g,ae=[];function ie(e,t,n,r){if(ae.length){var a=ae.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function oe(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>ae.length&&ae.push(e)}function se(e,t,n){return null==e?0:function e(t,n,r,a){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case j:case R:o=!0}}if(o)return r(a,t,""===n?"."+ce(t,0):n),1;if(o=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var c=n+ce(i=t[s],s);o+=e(i,c,r,a)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=W&&t[W]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),s=0;!(i=t.next()).done;)o+=e(i=i.value,c=n+ce(i,s++),r,a);else if("object"===i)throw r=""+t,Error(z(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return o}(e,"",t,n)}function ce(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function le(e,t){e.func.call(e.context,t,e.count++)}function ue(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?he(e,r,n,(function(e){return e})):null!=e&&(ne(e)&&(e=function(e,t){return{$$typeof:j,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(re,"$&/")+"/")+n)),r.push(e))}function he(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(re,"$&/")+"/"),se(e,ue,t=ie(t,i,r,a)),oe(t)}var pe={current:null};function fe(){var e=pe.current;if(null===e)throw Error(z(321));return e}var de={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return he(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;se(e,le,t=ie(null,null,t,n)),oe(t)},count:function(e){return se(e,(function(){return null}),null)},toArray:function(e){var t=[];return he(e,t,null,(function(e){return e})),t},only:function(e){if(!ne(e))throw Error(z(143));return e}},Component:J,Fragment:D,Profiler:L,PureComponent:Q,StrictMode:I,Suspense:B,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:X,IsSomeRendererActing:{current:!1},assign:P},cloneElement:function(e,t,n){if(null==e)throw Error(z(267,e));var r=P({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=X.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)Z.call(t,c)&&!ee.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:j,type:e.type,key:a,ref:i,props:r,_owner:o}},createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:H,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:F,_context:e},e.Consumer=e},createElement:te,createFactory:function(e){var t=te.bind(null,e);return t.type=e,t},createRef:function(){return{current:null}},forwardRef:function(e){return{$$typeof:U,render:e}},isValidElement:ne,lazy:function(e){return{$$typeof:V,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:q,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return fe().useCallback(e,t)},useContext:function(e,t){return fe().useContext(e,t)},useDebugValue:function(){},useEffect:function(e,t){return fe().useEffect(e,t)},useImperativeHandle:function(e,t,n){return fe().useImperativeHandle(e,t,n)},useLayoutEffect:function(e,t){return fe().useLayoutEffect(e,t)},useMemo:function(e,t){return fe().useMemo(e,t)},useReducer:function(e,t,n){return fe().useReducer(e,t,n)},useRef:function(e){return fe().useRef(e)},useState:function(e){return fe().useState(e)},version:"16.14.0"},ge=(Function.call.bind(Object.prototype.hasOwnProperty),n((function(e,t){}))),ve=(ge.Children,ge.Component,ge.Fragment,ge.Profiler,ge.PureComponent,ge.StrictMode,ge.Suspense,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge.cloneElement,ge.createContext,ge.createElement,ge.createFactory,ge.createRef,ge.forwardRef,ge.isValidElement,ge.lazy,ge.memo,ge.useCallback,ge.useContext,ge.useDebugValue,ge.useEffect,ge.useImperativeHandle,ge.useLayoutEffect,ge.useMemo,ge.useReducer,ge.useRef,ge.useState,ge.version,n((function(e){e.exports=de}))),me=(ve.Children,ve.Component),ye=ve.PureComponent,be=(ve.PropTypes,ve.createElement),_e=ve.useState,we=(ve.useEffect,ve.useMemo,ve.useRef,ve.useCallback),ke=ve.memo,Ee=(ve.useDebugValue,ve.forwardRef);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Ae=function(e){c(n,e);var t=Se(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).submit=function(e){Alphachat.SendRatingForm({rating:r.querySelector("#alphachat-entry-form-rating").key,review:e})},r}return o(n,[{key:"connectedCallback",value:function(){var e=this;this.appendChild(this.render()),this.querySelector("#like")&&this.querySelector("#dislike")&&(this.querySelector("#like").addEventListener("click",this.like.bind(this),!1),this.querySelector("#dislike").addEventListener("click",this.dislike.bind(this),!1));var t=this.querySelector("#alphachat-entry-form-rating"),n=t.querySelectorAll(".star"),r=t.querySelectorAll(".number"),a=-1,i=n.length>0?n:r,o=11===i.length?"number":"star";function s(e,t){if("number"===t)for(var n=0;n<=e;n++)i[n].classList.add("is-active");else for(var r=0;r<e;r++)i[r].classList.add("is-active")}function c(e,t){for(var n=0;n<t.length;n++)t[n].classList.remove(e)}t.addEventListener("click",(function(t){if(t.target.matches("."+o)){t.preventDefault();var n=parseInt(t.target.getAttribute("data-"+o)),r=t.target.querySelector(".screen-reader");c("is-active",i),s(n,o),function(e){for(var t=0;t<e.length;t++){var n=e[t].getAttribute("data-"+o);e[t].querySelector(".screen-reader").textContent="".concat(n," Stars")}}(i),r.textContent="".concat(n," Stars Selected"),a=n,e.querySelector("#alphachat-entry-form-rating").key=a}})),t.addEventListener("mouseover",(function(e){e.target.matches("."+o)&&(c("is-active",i),s(parseInt(e.target.getAttribute("data-"+o)),o))})),t.addEventListener("mouseleave",(function(e){c("is-active",i),s(a,o)}))}},{key:"like",value:function(){var e=this.querySelector("#like"),t=this.querySelector("#dislike");e.classList.add("is-active"),t.classList.remove("is-active"),this.querySelector("#alphachat-entry-form-rating").key="like"}},{key:"dislike",value:function(){var e=this.querySelector("#like"),t=this.querySelector("#dislike");t.classList.add("is-active"),e.classList.remove("is-active"),this.querySelector("#alphachat-entry-form-rating").key="dislike"}},{key:"getTranslations",value:function(){var e={likely:"Extremely Likely",not_likely:"Not at all Likely"};if(Alphachat&&Alphachat.state&&Alphachat.state.translations&&Alphachat.state.translations.forms&&Alphachat.state.translations.forms.rating){var t=Alphachat.state.translations.forms.rating;["likely","not_likely"].forEach((function(n){t[n]&&(e[n]=t[n])}))}return e}},{key:"render",value:function(){for(var e,t,n=this.getTranslations(),r="",a=0;a<11;a++)r+='<button type="submit" class="number" data-number= '.concat(a,">\n       ").concat(a,'\n        <span class="screen-reader">').concat(a," Stars</span>\n      </button>");return t='<span class="ratingDescription">\n          <span class="notLikely">'.concat(n.not_likely,'</span>\n          <span class="likely">').concat(n.likely,"</span>\n        </span>"),(e='<div align="center" id="alphachat-entry-form-rating"  class="rating">\n          <span id="rating-content" >'.concat(r,"</span>\n          ").concat(t,"\n      </div>").html()).submit=this.submit,e}}]),n}(b(HTMLElement));customElements.get("rating-form-element")||customElements.define("rating-form-element",Ae);var xe=n((function(e,t){var n,r,a,i,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,l=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(l,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(l,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},i=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var m=!1,y=null,b=-1,_=5,w=0;i=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,E=k.port2;k.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+_;try{y(!0,e)?E.postMessage(null):(m=!1,y=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){y=e,m||(m=!0,E.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},a=function(){d(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<C(a,t)))break e;e[r]=t,e[n]=a,n=r}}function A(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],s=i+1,c=e[s];if(void 0!==o&&0>C(o,n))void 0!==c&&0>C(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],T=[],N=1,P=null,M=3,j=!1,R=!1,D=!1;function I(e){for(var t=A(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,S(O,t)}t=A(T)}}function L(e){if(D=!1,I(e),!R)if(null!==A(O))R=!0,n(F);else{var t=A(T);null!==t&&r(L,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,a()),j=!0;var o=M;try{for(I(n),P=A(O);null!==P&&(!(P.expirationTime>n)||e&&!i());){var s=P.callback;if(null!==s){P.callback=null,M=P.priorityLevel;var c=s(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?P.callback=c:P===A(O)&&x(O),I(n)}else x(O);P=A(O)}if(null!==P)var l=!0;else{var u=A(T);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{P=null,M=o,j=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||j||(R=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return A(O)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?s+c:s,o="number"==typeof o.timeout?o.timeout:H(e)}else o=H(e),c=s;return e={id:N++,callback:i,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(e.sortIndex=c,S(T,e),null===A(O)&&e===A(T)&&(D?a():D=!0,r(L,c-s))):(e.sortIndex=o,S(O,e),R||j||(R=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();I(e);var n=A(O);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}})),Ce=(xe.unstable_now,xe.unstable_forceFrameRate,xe.unstable_IdlePriority,xe.unstable_ImmediatePriority,xe.unstable_LowPriority,xe.unstable_NormalPriority,xe.unstable_Profiling,xe.unstable_UserBlockingPriority,xe.unstable_cancelCallback,xe.unstable_continueExecution,xe.unstable_getCurrentPriorityLevel,xe.unstable_getFirstCallbackNode,xe.unstable_next,xe.unstable_pauseExecution,xe.unstable_requestPaint,xe.unstable_runWithPriority,xe.unstable_scheduleCallback,xe.unstable_shouldYield,xe.unstable_wrapCallback,n((function(e,t){}))),Oe=(Ce.unstable_now,Ce.unstable_forceFrameRate,Ce.unstable_IdlePriority,Ce.unstable_ImmediatePriority,Ce.unstable_LowPriority,Ce.unstable_NormalPriority,Ce.unstable_Profiling,Ce.unstable_UserBlockingPriority,Ce.unstable_cancelCallback,Ce.unstable_continueExecution,Ce.unstable_getCurrentPriorityLevel,Ce.unstable_getFirstCallbackNode,Ce.unstable_next,Ce.unstable_pauseExecution,Ce.unstable_requestPaint,Ce.unstable_runWithPriority,Ce.unstable_scheduleCallback,Ce.unstable_shouldYield,Ce.unstable_wrapCallback,n((function(e){e.exports=xe})));function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ve)throw Error(Te(227));function Ne(e,t,n,r,a,i,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Pe=!1,Me=null,je=!1,Re=null,De={onError:function(e){Pe=!0,Me=e}};function Ie(e,t,n,r,a,i,o,s,c){Pe=!1,Me=null,Ne.apply(De,arguments)}var Le=null,Fe=null,He=null;function Ue(e,t,n){var r=e.type||"unknown-event";e.currentTarget=He(n),function(e,t,n,r,a,i,o,s,c){if(Ie.apply(this,arguments),Pe){if(!Pe)throw Error(Te(198));var l=Me;Pe=!1,Me=null,je||(je=!0,Re=l)}}(r,t,void 0,e),e.currentTarget=null}var Be=null,qe={};function Ve(){if(Be)for(var e in qe){var t=qe[e],n=Be.indexOf(e);if(!(-1<n))throw Error(Te(96,e));if(!ze[n]){if(!t.extractEvents)throw Error(Te(97,e));for(var r in ze[n]=t,n=t.eventTypes){var a=void 0,i=n[r],o=t,s=r;if($e.hasOwnProperty(s))throw Error(Te(99,s));$e[s]=i;var c=i.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&We(c[a],o,s);a=!0}else i.registrationName?(We(i.registrationName,o,s),a=!0):a=!1;if(!a)throw Error(Te(98,r,e))}}}}function We(e,t,n){if(Ge[e])throw Error(Te(100,e));Ge[e]=t,Je[e]=t.eventTypes[n].dependencies}var ze=[],$e={},Ge={},Je={};function Ke(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!qe.hasOwnProperty(t)||qe[t]!==r){if(qe[t])throw Error(Te(102,t));qe[t]=r,n=!0}}n&&Ve()}var Qe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ye=null,Xe=null,Ze=null;function et(e){if(e=Fe(e)){if("function"!=typeof Ye)throw Error(Te(280));var t=e.stateNode;t&&(t=Le(t),Ye(e.stateNode,e.type,t))}}function tt(e){Xe?Ze?Ze.push(e):Ze=[e]:Xe=e}function nt(){if(Xe){var e=Xe,t=Ze;if(Ze=Xe=null,et(e),t)for(e=0;e<t.length;e++)et(t[e])}}function rt(e,t){return e(t)}function at(e,t,n,r,a){return e(t,n,r,a)}function it(){}var ot=rt,st=!1,ct=!1;function lt(){null===Xe&&null===Ze||(it(),nt())}function ut(e,t,n){if(ct)return e(t,n);ct=!0;try{return ot(e,t,n)}finally{ct=!1,lt()}}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pt=Object.prototype.hasOwnProperty,ft={},dt={};function gt(e,t,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){vt[e]=new gt(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];vt[t]=new gt(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){vt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){vt[e]=new gt(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){vt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){vt[e]=new gt(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){vt[e]=new gt(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){vt[e]=new gt(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){vt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1)}));var mt=/[\-:]([a-z])/g;function yt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(mt,yt);vt[t]=new gt(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(mt,yt);vt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(mt,yt);vt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){vt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1)})),vt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){vt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0)}));var bt=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _t(e,t,n,r){var a=vt.hasOwnProperty(t)?vt[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!pt.call(dt,e)||!pt.call(ft,e)&&(ht.test(e)?dt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}bt.hasOwnProperty("ReactCurrentDispatcher")||(bt.ReactCurrentDispatcher={current:null}),bt.hasOwnProperty("ReactCurrentBatchConfig")||(bt.ReactCurrentBatchConfig={suspense:null});var wt=/^(.*)[\\\/]/,kt="function"==typeof Symbol&&Symbol.for,Et=kt?Symbol.for("react.element"):60103,St=kt?Symbol.for("react.portal"):60106,At=kt?Symbol.for("react.fragment"):60107,xt=kt?Symbol.for("react.strict_mode"):60108,Ct=kt?Symbol.for("react.profiler"):60114,Ot=kt?Symbol.for("react.provider"):60109,Tt=kt?Symbol.for("react.context"):60110,Nt=kt?Symbol.for("react.concurrent_mode"):60111,Pt=kt?Symbol.for("react.forward_ref"):60112,Mt=kt?Symbol.for("react.suspense"):60113,jt=kt?Symbol.for("react.suspense_list"):60120,Rt=kt?Symbol.for("react.memo"):60115,Dt=kt?Symbol.for("react.lazy"):60116,It=kt?Symbol.for("react.block"):60121,Lt="function"==typeof Symbol&&Symbol.iterator;function Ft(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Lt&&e[Lt]||e["@@iterator"])?e:null}function Ht(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case At:return"Fragment";case St:return"Portal";case Ct:return"Profiler";case xt:return"StrictMode";case Mt:return"Suspense";case jt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Tt:return"Context.Consumer";case Ot:return"Context.Provider";case Pt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Rt:return Ht(e.type);case It:return Ht(e.render);case Dt:if(e=1===e._status?e._result:null)return Ht(e)}return null}function Ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=Ht(e.type);n=null,r&&(n=Ht(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(wt,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function Bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function qt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Vt(e){e._valueTracker||(e._valueTracker=function(e){var t=qt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Wt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function zt(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Gt(e,t){null!=(t=t.checked)&&_t(e,"checked",t,!1)}function Jt(e,t){Gt(e,t);var n=Bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Qt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qt(e,t.type,Bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Qt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Yt(e,t){return e=P({children:void 0},t),(t=function(e){var t="";return ve.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Zt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Te(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function en(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Te(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Te(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function tn(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function nn(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var rn="http://www.w3.org/1999/xhtml",an="http://www.w3.org/2000/svg";function on(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?on(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var cn,ln=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==an||"innerHTML"in e)e.innerHTML=t;else{for((cn=cn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function hn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionend:hn("Transition","TransitionEnd")},fn={},dn={};function gn(e){if(fn[e])return fn[e];if(!pn[e])return e;var t,n=pn[e];for(t in n)if(n.hasOwnProperty(t)&&t in dn)return fn[e]=n[t];return e}Qe&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);var vn=gn("animationend"),mn=gn("animationiteration"),yn=gn("animationstart"),bn=gn("transitionend"),_n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wn=new("function"==typeof WeakMap?WeakMap:Map);function kn(e){var t=wn.get(e);return void 0===t&&(t=new Map,wn.set(e,t)),t}function En(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Sn(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function An(e){if(En(e)!==e)throw Error(Te(188))}function xn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=En(e)))throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return An(a),e;if(i===r)return An(a),t;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(3!==n.tag)throw Error(Te(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Cn(e,t){if(null==t)throw Error(Te(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function On(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var Tn=null;function Nn(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)Ue(e,t[r],n[r]);else t&&Ue(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Pn(e){if(null!==e&&(Tn=Cn(Tn,e)),e=Tn,Tn=null,e){if(On(e,Nn),Tn)throw Error(Te(95));if(je)throw e=Re,je=!1,Re=null,e}}function Mn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function jn(e){if(!Qe)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Rn=[];function Dn(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Rn.length&&Rn.push(e)}function In(e,t,n,r){if(Rn.length){var a=Rn.pop();return a.topLevelType=e,a.eventSystemFlags=r,a.nativeEvent=t,a.targetInst=n,a}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function Ln(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Qr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Mn(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,c=0;c<ze.length;c++){var l=ze[c];l&&(l=l.extractEvents(r,t,i,a,o))&&(s=Cn(s,l))}Pn(s)}}function Fn(e,t,n){if(!n.has(e)){switch(e){case"scroll":yr(t,"scroll",!0);break;case"focus":case"blur":yr(t,"focus",!0),yr(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":jn(e)&&yr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===_n.indexOf(e)&&mr(e,t)}n.set(e,null)}}var Hn,Un,Bn,qn=!1,Vn=[],Wn=null,zn=null,$n=null,Gn=new Map,Jn=new Map,Kn=[],Qn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Yn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Xn(e,t,n,r,a){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:a,container:r}}function Zn(e,t){switch(e){case"focus":case"blur":Wn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(t.pointerId)}}function er(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=Xn(t,n,r,a,i),null!==t&&(null!==(t=Yr(t))&&Un(t)),e):(e.eventSystemFlags|=r,e)}function tr(e){var t=Qr(e.target);if(null!==t){var n=En(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Sn(n)))return e.blockedOn=t,void Oe.unstable_runWithPriority(e.priority,(function(){Bn(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function nr(e){if(null!==e.blockedOn)return!1;var t=kr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Yr(t);return null!==n&&Un(n),e.blockedOn=t,!1}return!0}function rr(e,t,n){nr(e)&&n.delete(t)}function ar(){for(qn=!1;0<Vn.length;){var e=Vn[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&Hn(e);break}var t=kr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Vn.shift()}null!==Wn&&nr(Wn)&&(Wn=null),null!==zn&&nr(zn)&&(zn=null),null!==$n&&nr($n)&&($n=null),Gn.forEach(rr),Jn.forEach(rr)}function ir(e,t){e.blockedOn===t&&(e.blockedOn=null,qn||(qn=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,ar)))}function or(e){function t(t){return ir(t,e)}if(0<Vn.length){ir(Vn[0],e);for(var n=1;n<Vn.length;n++){var r=Vn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Wn&&ir(Wn,e),null!==zn&&ir(zn,e),null!==$n&&ir($n,e),Gn.forEach(t),Jn.forEach(t),n=0;n<Kn.length;n++)(r=Kn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Kn.length&&null===(n=Kn[0]).blockedOn;)tr(n),null===n.blockedOn&&Kn.shift()}var sr={},cr=new Map,lr=new Map,ur=["abort","abort",vn,"animationEnd",mn,"animationIteration",yn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",bn,"transitionEnd","waiting","waiting"];function hr(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1],i="on"+(a[0].toUpperCase()+a.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},lr.set(r,t),cr.set(r,i),sr[a]=i}}hr("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),hr("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),hr(ur,2);for(var pr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),fr=0;fr<pr.length;fr++)lr.set(pr[fr],0);var dr=Oe.unstable_UserBlockingPriority,gr=Oe.unstable_runWithPriority,vr=!0;function mr(e,t){yr(t,e,!1)}function yr(e,t,n){var r=lr.get(t);switch(void 0===r?2:r){case 0:r=br.bind(null,t,1,e);break;case 1:r=_r.bind(null,t,1,e);break;default:r=wr.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function br(e,t,n,r){st||it();var a=wr,i=st;st=!0;try{at(a,e,t,n,r)}finally{(st=i)||lt()}}function _r(e,t,n,r){gr(dr,wr.bind(null,e,t,n,r))}function wr(e,t,n,r){if(vr)if(0<Vn.length&&-1<Qn.indexOf(e))e=Xn(null,e,t,n,r),Vn.push(e);else{var a=kr(e,t,n,r);if(null===a)Zn(e,r);else if(-1<Qn.indexOf(e))e=Xn(a,e,t,n,r),Vn.push(e);else if(!function(e,t,n,r,a){switch(t){case"focus":return Wn=er(Wn,e,t,n,r,a),!0;case"dragenter":return zn=er(zn,e,t,n,r,a),!0;case"mouseover":return $n=er($n,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Gn.set(i,er(Gn.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Jn.set(i,er(Jn.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r)){Zn(e,r),e=In(e,r,null,t);try{ut(Ln,e)}finally{Dn(e)}}}}function kr(e,t,n,r){if(null!==(n=Qr(n=Mn(r)))){var a=En(n);if(null===a)n=null;else{var i=a.tag;if(13===i){if(null!==(n=Sn(a)))return n;n=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}e=In(e,r,n,t);try{ut(Ln,e)}finally{Dn(e)}return null}var Er={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];function Ar(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function xr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Ar(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Er).forEach((function(e){Sr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]}))}));var Cr=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(e,t){if(t){if(Cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Te(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Te(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Te(62,""))}}function Tr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=rn;function Pr(e,t){var n=kn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Je[t];for(var r=0;r<t.length;r++)Fn(t[r],e,n)}function Mr(){}function jr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dr(e,t){var n,r=Rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rr(r)}}function Ir(){for(var e=window,t=jr();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=jr((e=t.contentWindow).document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Fr=null,Hr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Gr="__reactInternalInstance$"+$r,Jr="__reactEventHandlers$"+$r,Kr="__reactContainere$"+$r;function Qr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zr(e);null!==e;){if(n=e[Gr])return n;e=zr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[Gr]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Te(33))}function Zr(e){return e[Jr]||null}function ea(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ta(e,t){var n=e.stateNode;if(!n)return null;var r=Le(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Te(231,t,typeof n));return n}function na(e,t,n){(t=ta(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Cn(n._dispatchListeners,t),n._dispatchInstances=Cn(n._dispatchInstances,e))}function ra(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=ea(t);for(t=n.length;0<t--;)na(n[t],"captured",e);for(t=0;t<n.length;t++)na(n[t],"bubbled",e)}}function aa(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ta(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Cn(n._dispatchListeners,t),n._dispatchInstances=Cn(n._dispatchInstances,e))}function ia(e){e&&e.dispatchConfig.registrationName&&aa(e._targetInst,null,e)}function oa(e){On(e,ra)}var sa=null,ca=null,la=null;function ua(){if(la)return la;var e,t,n=ca,r=n.length,a="value"in sa?sa.value:sa.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return la=a.slice(e,1<t?1-t:void 0)}function ha(){return!0}function pa(){return!1}function fa(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ha:pa,this.isPropagationStopped=pa,this}function da(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function ga(e){if(!(e instanceof this))throw Error(Te(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function va(e){e.eventPool=[],e.getPooled=da,e.release=ga}P(fa.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){this.isPersistent=ha},isPersistent:pa,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=pa,this._dispatchInstances=this._dispatchListeners=null}}),fa.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},fa.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return P(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=P({},r.Interface,e),n.extend=r.extend,va(n),n},va(fa);var ma=fa.extend({data:null}),ya=fa.extend({data:null}),ba=[9,13,27,32],_a=Qe&&"CompositionEvent"in window,wa=null;Qe&&"documentMode"in document&&(wa=document.documentMode);var ka=Qe&&"TextEvent"in window&&!wa,Ea=Qe&&(!_a||wa&&8<wa&&11>=wa),Sa=String.fromCharCode(32),Aa={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xa=!1;function Ca(e,t){switch(e){case"keyup":return-1!==ba.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Oa(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ta=!1;var Na={eventTypes:Aa,extractEvents:function(e,t,n,r){var a;if(_a)e:{switch(e){case"compositionstart":var i=Aa.compositionStart;break e;case"compositionend":i=Aa.compositionEnd;break e;case"compositionupdate":i=Aa.compositionUpdate;break e}i=void 0}else Ta?Ca(e,n)&&(i=Aa.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Aa.compositionStart);return i?(Ea&&"ko"!==n.locale&&(Ta||i!==Aa.compositionStart?i===Aa.compositionEnd&&Ta&&(a=ua()):(ca="value"in(sa=r)?sa.value:sa.textContent,Ta=!0)),i=ma.getPooled(i,t,n,r),a?i.data=a:null!==(a=Oa(n))&&(i.data=a),oa(i),a=i):a=null,(e=ka?function(e,t){switch(e){case"compositionend":return Oa(t);case"keypress":return 32!==t.which?null:(xa=!0,Sa);case"textInput":return(e=t.data)===Sa&&xa?null:e;default:return null}}(e,n):function(e,t){if(Ta)return"compositionend"===e||!_a&&Ca(e,t)?(e=ua(),la=ca=sa=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ea&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ya.getPooled(Aa.beforeInput,t,n,r)).data=e,oa(t)):t=null,null===a?t:null===t?a:[a,t]}},Pa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pa[e.type]:"textarea"===t}var ja={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ra(e,t,n){return(e=fa.getPooled(ja.change,e,t,n)).type="change",tt(n),oa(e),e}var Da=null,Ia=null;function La(e){Pn(e)}function Fa(e){if(Wt(Xr(e)))return e}function Ha(e,t){if("change"===e)return t}var Ua=!1;function Ba(){Da&&(Da.detachEvent("onpropertychange",qa),Ia=Da=null)}function qa(e){if("value"===e.propertyName&&Fa(Ia))if(e=Ra(Ia,e,Mn(e)),st)Pn(e);else{st=!0;try{rt(La,e)}finally{st=!1,lt()}}}function Va(e,t,n){"focus"===e?(Ba(),Ia=n,(Da=t).attachEvent("onpropertychange",qa)):"blur"===e&&Ba()}function Wa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fa(Ia)}function za(e,t){if("click"===e)return Fa(t)}function $a(e,t){if("input"===e||"change"===e)return Fa(t)}Qe&&(Ua=jn("input")&&(!document.documentMode||9<document.documentMode));var Ga={eventTypes:ja,_isInputEventSupported:Ua,extractEvents:function(e,t,n,r){var a=t?Xr(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var o=Ha;else if(Ma(a))if(Ua)o=$a;else{o=Wa;var s=Va}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=za);if(o&&(o=o(e,t)))return Ra(o,n,r);s&&s(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Qt(a,"number",a.value)}},Ja=fa.extend({view:null,detail:null}),Ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ka[e])&&!!t[e]}function Ya(){return Qa}var Xa=0,Za=0,ei=!1,ti=!1,ni=Ja.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ya,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Xa;return Xa=e.screenX,ei?"mousemove"===e.type?e.screenX-t:0:(ei=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Za;return Za=e.screenY,ti?"mousemove"===e.type?e.screenY-t:0:(ti=!0,0)}}),ri=ni.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ai={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ii={eventTypes:ai,extractEvents:function(e,t,n,r,a){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&0==(32&a)&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Qr(t):null)&&(t!==En(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=ni,c=ai.mouseLeave,l=ai.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=ri,c=ai.pointerLeave,l=ai.pointerEnter,u="pointer");if(e=null==o?i:Xr(o),i=null==t?i:Xr(t),(c=s.getPooled(c,o,n,r)).type=u+"leave",c.target=e,c.relatedTarget=i,(n=s.getPooled(l,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(l=u,o=0,e=s=r;e;e=ea(e))o++;for(e=0,t=l;t;t=ea(t))e++;for(;0<o-e;)s=ea(s),o--;for(;0<e-o;)l=ea(l),e--;for(;o--;){if(s===l||s===l.alternate)break e;s=ea(s),l=ea(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)s.push(r),r=ea(r);for(r=[];u&&u!==l&&(null===(o=u.alternate)||o!==l);)r.push(u),u=ea(u);for(u=0;u<s.length;u++)aa(s[u],"bubbled",c);for(u=r.length;0<u--;)aa(r[u],"captured",n);return 0==(64&a)?[c]:[c,n]}};var oi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},si=Object.prototype.hasOwnProperty;function ci(e,t){if(oi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!si.call(t,n[r])||!oi(e[n[r]],t[n[r]]))return!1;return!0}var li=Qe&&"documentMode"in document&&11>=document.documentMode,ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},hi=null,pi=null,fi=null,di=!1;function gi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return di||null==hi||hi!==jr(n)?null:("selectionStart"in(n=hi)&&Lr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},fi&&ci(fi,n)?null:(fi=n,(e=fa.getPooled(ui.select,pi,e,t)).type="select",e.target=hi,oa(e),e))}var vi={eventTypes:ui,extractEvents:function(e,t,n,r,a,i){if(!(i=!(a=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{a=kn(a),i=Je.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?Xr(t):window,e){case"focus":(Ma(a)||"true"===a.contentEditable)&&(hi=a,pi=t,fi=null);break;case"blur":fi=pi=hi=null;break;case"mousedown":di=!0;break;case"contextmenu":case"mouseup":case"dragend":return di=!1,gi(n,r);case"selectionchange":if(li)break;case"keydown":case"keyup":return gi(n,r)}return null}},mi=fa.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yi=fa.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bi=Ja.extend({relatedTarget:null});function _i(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei=Ja.extend({key:function(e){if(e.key){var t=wi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=_i(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ki[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ya,charCode:function(e){return"keypress"===e.type?_i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?_i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Si=ni.extend({dataTransfer:null}),Ai=Ja.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ya}),xi=fa.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ci=ni.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Oi={eventTypes:sr,extractEvents:function(e,t,n,r){var a=cr.get(e);if(!a)return null;switch(e){case"keypress":if(0===_i(n))return null;case"keydown":case"keyup":e=Ei;break;case"blur":case"focus":e=bi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ai;break;case vn:case mn:case yn:e=mi;break;case bn:e=xi;break;case"scroll":e=Ja;break;case"wheel":e=Ci;break;case"copy":case"cut":case"paste":e=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ri;break;default:e=fa}return oa(t=e.getPooled(a,t,n,r)),t}};if(Be)throw Error(Te(101));Be=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Ve(),Le=Zr,Fe=Yr,He=Xr,Ke({SimpleEventPlugin:Oi,EnterLeaveEventPlugin:ii,ChangeEventPlugin:Ga,SelectEventPlugin:vi,BeforeInputEventPlugin:Na});var Ti=[],Ni=-1;function Pi(e){0>Ni||(e.current=Ti[Ni],Ti[Ni]=null,Ni--)}function Mi(e,t){Ni++,Ti[Ni]=e.current,e.current=t}var ji={},Ri={current:ji},Di={current:!1},Ii=ji;function Li(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(e){return null!=(e=e.childContextTypes)}function Hi(){Pi(Di),Pi(Ri)}function Ui(e,t,n){if(Ri.current!==ji)throw Error(Te(168));Mi(Ri,t),Mi(Di,n)}function Bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(Te(108,Ht(t)||"Unknown",a));return P({},n,{},r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ii=Ri.current,Mi(Ri,e),Mi(Di,Di.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Bi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Pi(Di),Pi(Ri),Mi(Ri,e)):Pi(Di),Mi(Di,n)}var Wi=Oe.unstable_runWithPriority,zi=Oe.unstable_scheduleCallback,$i=Oe.unstable_cancelCallback,Gi=Oe.unstable_requestPaint,Ji=Oe.unstable_now,Ki=Oe.unstable_getCurrentPriorityLevel,Qi=Oe.unstable_ImmediatePriority,Yi=Oe.unstable_UserBlockingPriority,Xi=Oe.unstable_NormalPriority,Zi=Oe.unstable_LowPriority,eo=Oe.unstable_IdlePriority,to={},no=Oe.unstable_shouldYield,ro=void 0!==Gi?Gi:function(){},ao=null,io=null,oo=!1,so=Ji(),co=1e4>so?Ji:function(){return Ji()-so};function lo(){switch(Ki()){case Qi:return 99;case Yi:return 98;case Xi:return 97;case Zi:return 96;case eo:return 95;default:throw Error(Te(332))}}function uo(e){switch(e){case 99:return Qi;case 98:return Yi;case 97:return Xi;case 96:return Zi;case 95:return eo;default:throw Error(Te(332))}}function ho(e,t){return e=uo(e),Wi(e,t)}function po(e,t,n){return e=uo(e),zi(e,t,n)}function fo(e){return null===ao?(ao=[e],io=zi(Qi,vo)):ao.push(e),to}function go(){if(null!==io){var e=io;io=null,$i(e)}vo()}function vo(){if(!oo&&null!==ao){oo=!0;var e=0;try{var t=ao;ho(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ao=null}catch(t){throw null!==ao&&(ao=ao.slice(e+1)),zi(Qi,go),t}finally{oo=!1}}}function mo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function yo(e,t){if(e&&e.defaultProps)for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var bo={current:null},_o=null,wo=null,ko=null;function Eo(){ko=wo=_o=null}function So(e){var t=bo.current;Pi(bo),e.type._context._currentValue=t}function Ao(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function xo(e,t){_o=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Zs=!0),e.firstContext=null)}function Co(e,t){if(ko!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ko=e,t=1073741823),t={context:e,observedBits:t,next:null},null===wo){if(null===_o)throw Error(Te(308));wo=t,_o.dependencies={expirationTime:0,firstContext:t,responders:null}}else wo=wo.next=t;return e._currentValue}var Oo=!1;function To(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Po(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function jo(e,t){var n=e.alternate;null!==n&&No(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Ro(e,t,n,r){var a=e.updateQueue;Oo=!1;var i=a.baseQueue,o=a.shared.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}i=o,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=o))}if(null!==i){s=i.next;var c=a.baseState,l=0,u=null,h=null,p=null;if(null!==s)for(var f=s;;){if((o=f.expirationTime)<r){var d={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(h=p=d,u=c):p=p.next=d,o>l&&(l=o)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),Ol(o,f.suspenseConfig);e:{var g=e,v=f;switch(o=t,d=n,v.tag){case 1:if("function"==typeof(g=v.payload)){c=g.call(d,c,o);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(o="function"==typeof(g=v.payload)?g.call(d,c,o):g))break e;c=P({},c,o);break e;case 2:Oo=!0}}null!==f.callback&&(e.effectTag|=32,null===(o=a.effects)?a.effects=[f]:o.push(f))}if(null===(f=f.next)||f===s){if(null===(o=a.shared.pending))break;f=i.next=o.next,o.next=s,a.baseQueue=i=o,a.shared.pending=null}}null===p?u=c:p.next=h,a.baseState=u,a.baseQueue=p,Tl(l),e.expirationTime=l,e.memoizedState=c}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=a,a=n,"function"!=typeof r)throw Error(Te(191,r));r.call(a)}}}var Io=bt.ReactCurrentBatchConfig,Lo=(new ve.Component).refs;function Fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:P({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternalFiber)&&En(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=gl(),a=Io.suspense;(a=Po(r=vl(r,e,a),a)).payload=t,null!=n&&(a.callback=n),Mo(e,a),ml(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=gl(),a=Io.suspense;(a=Po(r=vl(r,e,a),a)).tag=1,a.payload=t,null!=n&&(a.callback=n),Mo(e,a),ml(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=gl(),r=Io.suspense;(r=Po(n=vl(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Mo(e,r),ml(e,n)}};function Uo(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ci(n,r)||!ci(a,i))}function Bo(e,t,n){var r=!1,a=ji,i=t.contextType;return"object"==typeof i&&null!==i?i=Co(i):(a=Fi(t)?Ii:Ri.current,i=(r=null!=(r=t.contextTypes))?Li(e,a):ji),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function qo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Lo,To(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=Co(i):(i=Fi(t)?Ii:Ri.current,a.context=Li(e,i)),Ro(e,n,a,r),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Fo(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ho.enqueueReplaceState(a,a.state,null),Ro(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.effectTag|=4)}var Wo=Array.isArray;function zo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===Lo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function $o(e,t){if("textarea"!==e.type)throw Error(Te(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Go(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Kl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=zo(e,t,n),r.return=e,r):((r=Ql(n.type,n.key,n.props,null,e.mode,r)).ref=zo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Et:return(n=Ql(t.type,t.key,t.props,null,e.mode,n)).ref=zo(e,null,t),n.return=e,n;case St:return(t=Zl(t,e.mode,n)).return=e,t}if(Wo(t)||Ft(t))return(t=Yl(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Et:return n.key===a?n.type===At?u(e,t,n.props.children,r,a):c(e,t,n,r):null;case St:return n.key===a?l(e,t,n,r):null}if(Wo(n)||Ft(n))return null!==a?null:u(e,t,n,r,null);$o(e,n)}return null}function f(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Et:return e=e.get(null===r.key?n:r.key)||null,r.type===At?u(t,e,r.props.children,a,r.key):c(t,e,r,a);case St:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Wo(r)||Ft(r))return u(t,e=e.get(n)||null,r,a,null);$o(t,r)}return null}function d(a,o,s,c){for(var l=null,u=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=p(a,d,s[g],c);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(a,d),o=i(m,o,g),null===u?l=m:u.sibling=m,u=m,d=v}if(g===s.length)return n(a,d),l;if(null===d){for(;g<s.length;g++)null!==(d=h(a,s[g],c))&&(o=i(d,o,g),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(a,d);g<s.length;g++)null!==(v=f(d,a,g,s[g],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=i(v,o,g),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(a,e)})),l}function g(a,o,s,c){var l=Ft(s);if("function"!=typeof l)throw Error(Te(150));if(null==(s=l.call(s)))throw Error(Te(151));for(var u=l=null,d=o,g=o=0,v=null,m=s.next();null!==d&&!m.done;g++,m=s.next()){d.index>g?(v=d,d=null):v=d.sibling;var y=p(a,d,m.value,c);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,g),null===u?l=y:u.sibling=y,u=y,d=v}if(m.done)return n(a,d),l;if(null===d){for(;!m.done;g++,m=s.next())null!==(m=h(a,m.value,c))&&(o=i(m,o,g),null===u?l=m:u.sibling=m,u=m);return l}for(d=r(a,d);!m.done;g++,m=s.next())null!==(m=f(d,a,g,m.value,c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=i(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(a,e)})),l}return function(e,r,i,s){var c="object"==typeof i&&null!==i&&i.type===At&&null===i.key;c&&(i=i.props.children);var l="object"==typeof i&&null!==i;if(l)switch(i.$$typeof){case Et:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===At){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=zo(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===At?((r=Yl(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Ql(i.type,i.key,i.props,null,e.mode,s)).ref=zo(e,r,i),s.return=e,e=s)}return o(e);case St:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zl(i,e.mode,s)).return=e,e=r}return o(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Xl(i,e.mode,s)).return=e,e=r),o(e);if(Wo(i))return d(e,r,i,s);if(Ft(i))return g(e,r,i,s);if(l&&$o(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(Te(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Jo=Go(!0),Ko=Go(!1),Qo={},Yo={current:Qo},Xo={current:Qo},Zo={current:Qo};function es(e){if(e===Qo)throw Error(Te(174));return e}function ts(e,t){switch(Mi(Zo,t),Mi(Xo,e),Mi(Yo,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sn(null,"");break;default:t=sn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pi(Yo),Mi(Yo,t)}function ns(){Pi(Yo),Pi(Xo),Pi(Zo)}function rs(e){es(Zo.current);var t=es(Yo.current),n=sn(t,e.type);t!==n&&(Mi(Xo,e),Mi(Yo,n))}function as(e){Xo.current===e&&(Pi(Yo),Pi(Xo))}var is={current:0};function os(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ss(e,t){return{responder:e,props:t}}var cs=bt.ReactCurrentDispatcher,ls=bt.ReactCurrentBatchConfig,us=0,hs=null,ps=null,fs=null,ds=!1;function gs(){throw Error(Te(321))}function vs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,i){if(us=i,hs=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,cs.current=null===e||null===e.memoizedState?Us:Bs,e=n(r,a),t.expirationTime===us){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(Te(301));i+=1,fs=ps=null,t.updateQueue=null,cs.current=qs,e=n(r,a)}while(t.expirationTime===us)}if(cs.current=Hs,t=null!==ps&&null!==ps.next,us=0,fs=ps=hs=null,ds=!1,t)throw Error(Te(300));return e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fs?hs.memoizedState=fs=e:fs=fs.next=e,fs}function bs(){if(null===ps){var e=hs.alternate;e=null!==e?e.memoizedState:null}else e=ps.next;var t=null===fs?hs.memoizedState:fs.next;if(null!==t)fs=t,ps=e;else{if(null===e)throw Error(Te(310));e={memoizedState:(ps=e).memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},null===fs?hs.memoizedState=fs=e:fs=fs.next=e}return fs}function _s(e,t){return"function"==typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(Te(311));n.lastRenderedReducer=e;var r=ps,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=o=i=null,c=a;do{var l=c.expirationTime;if(l<us){var u={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(o=s=u,i=r):s=s.next=u,l>hs.expirationTime&&(hs.expirationTime=l,Tl(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Ol(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==a);null===s?i=r:s.next=o,oi(r,t.memoizedState)||(Zs=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ks(e){var t=bs(),n=t.queue;if(null===n)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);oi(i,t.memoizedState)||(Zs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Es(e){var t=ys();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e}).dispatch=Fs.bind(null,hs,e),[t.memoizedState,e]}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=hs.updateQueue)?(t={lastEffect:null},hs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return bs().memoizedState}function xs(e,t,n,r){var a=ys();hs.effectTag|=e,a.memoizedState=Ss(1|t,n,void 0,void 0===r?null:r)}function Cs(e,t,n,r){var a=bs();r=void 0===r?null:r;var i=void 0;if(null!==ps){var o=ps.memoizedState;if(i=o.destroy,null!==r&&vs(r,o.deps))return void Ss(t,n,i,r)}hs.effectTag|=e,a.memoizedState=Ss(1|t,n,i,r)}function Os(e,t){return xs(516,4,e,t)}function Ts(e,t){return Cs(516,4,e,t)}function Ns(e,t){return Cs(4,2,e,t)}function Ps(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ms(e,t,n){return n=null!=n?n.concat([e]):null,Cs(4,2,Ps.bind(null,t,e),n)}function js(){}function Rs(e,t){return ys().memoizedState=[e,void 0===t?null:t],e}function Ds(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ls(e,t,n){var r=lo();ho(98>r?98:r,(function(){e(!0)})),ho(97<r?97:r,(function(){var r=ls.suspense;ls.suspense=void 0===t?null:t;try{e(!1),n()}finally{ls.suspense=r}}))}function Fs(e,t,n){var r=gl(),a=Io.suspense;a={expirationTime:r=vl(r,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===hs||null!==i&&i===hs)ds=!0,a.expirationTime=us,hs.expirationTime=us;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.eagerReducer=i,a.eagerState=s,oi(s,o))return}catch(e){}ml(e,r)}}var Hs={readContext:Co,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useResponder:gs,useDeferredValue:gs,useTransition:gs},Us={readContext:Co,useCallback:Rs,useContext:Co,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xs(4,2,Ps.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Fs.bind(null,hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Es,useDebugValue:js,useResponder:ss,useDeferredValue:function(e,t){var n=Es(e),r=n[0],a=n[1];return Os((function(){var n=ls.suspense;ls.suspense=void 0===t?null:t;try{a(e)}finally{ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Es(!1),n=t[0];return t=t[1],[Rs(Ls.bind(null,t,e),[t,e]),n]}},Bs={readContext:Co,useCallback:Ds,useContext:Co,useEffect:Ts,useImperativeHandle:Ms,useLayoutEffect:Ns,useMemo:Is,useReducer:ws,useRef:As,useState:function(){return ws(_s)},useDebugValue:js,useResponder:ss,useDeferredValue:function(e,t){var n=ws(_s),r=n[0],a=n[1];return Ts((function(){var n=ls.suspense;ls.suspense=void 0===t?null:t;try{a(e)}finally{ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ws(_s),n=t[0];return t=t[1],[Ds(Ls.bind(null,t,e),[t,e]),n]}},qs={readContext:Co,useCallback:Ds,useContext:Co,useEffect:Ts,useImperativeHandle:Ms,useLayoutEffect:Ns,useMemo:Is,useReducer:ks,useRef:As,useState:function(){return ks(_s)},useDebugValue:js,useResponder:ss,useDeferredValue:function(e,t){var n=ks(_s),r=n[0],a=n[1];return Ts((function(){var n=ls.suspense;ls.suspense=void 0===t?null:t;try{a(e)}finally{ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ks(_s),n=t[0];return t=t[1],[Ds(Ls.bind(null,t,e),[t,e]),n]}},Vs=null,Ws=null,zs=!1;function $s(e,t){var n=Gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Js(e){if(zs){var t=Ws;if(t){var n=t;if(!Gs(e,t)){if(!(t=Wr(n.nextSibling))||!Gs(e,t))return e.effectTag=-1025&e.effectTag|2,zs=!1,void(Vs=e);$s(Vs,n)}Vs=e,Ws=Wr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,zs=!1,Vs=e}}function Ks(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vs=e}function Qs(e){if(e!==Vs)return!1;if(!zs)return Ks(e),zs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Ws;t;)$s(e,t),t=Wr(t.nextSibling);if(Ks(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ws=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ws=null}}else Ws=Vs?Wr(e.stateNode.nextSibling):null;return!0}function Ys(){Ws=Vs=null,zs=!1}var Xs=bt.ReactCurrentOwner,Zs=!1;function ec(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Jo(t,e.child,n,r)}function tc(e,t,n,r,a){n=n.render;var i=t.ref;return xo(t,a),r=ms(e,t,n,r,i,a),null===e||Zs?(t.effectTag|=1,ec(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),mc(e,t,a))}function nc(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!=typeof o||Jl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ql(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,rc(e,t,o,r,a,i))}return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:ci)(a,r)&&e.ref===t.ref)?mc(e,t,i):(t.effectTag|=1,(e=Kl(o,r)).ref=t.ref,e.return=t,t.child=e)}function rc(e,t,n,r,a,i){return null!==e&&ci(e.memoizedProps,r)&&e.ref===t.ref&&(Zs=!1,a<i)?(t.expirationTime=e.expirationTime,mc(e,t,i)):ic(e,t,n,r,i)}function ac(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ic(e,t,n,r,a){var i=Fi(n)?Ii:Ri.current;return i=Li(t,i),xo(t,a),n=ms(e,t,n,r,i,a),null===e||Zs?(t.effectTag|=1,ec(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),mc(e,t,a))}function oc(e,t,n,r,a){if(Fi(n)){var i=!0;qi(t)}else i=!1;if(xo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Bo(t,n,r),Vo(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=Co(l):l=Li(t,l=Fi(n)?Ii:Ri.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||c!==l)&&qo(t,o,r,l),Oo=!1;var p=t.memoizedState;o.state=p,Ro(t,r,o,a),c=t.memoizedState,s!==r||p!==c||Di.current||Oo?("function"==typeof u&&(Fo(t,n,u,r),c=t.memoizedState),(s=Oo||Uo(t,n,s,r,p,c,l))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,No(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:yo(t.type,s),c=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Co(l):l=Li(t,l=Fi(n)?Ii:Ri.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||c!==l)&&qo(t,o,r,l),Oo=!1,c=t.memoizedState,o.state=c,Ro(t,r,o,a),p=t.memoizedState,s!==r||c!==p||Di.current||Oo?("function"==typeof u&&(Fo(t,n,u,r),p=t.memoizedState),(u=Oo||Uo(t,n,s,r,c,p,l))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return sc(e,t,n,r,i,a)}function sc(e,t,n,r,a,i){ac(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return a&&Vi(t,n,!1),mc(e,t,i);r=t.stateNode,Xs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Jo(t,e.child,null,i),t.child=Jo(t,null,s,i)):ec(e,t,s,i),t.memoizedState=r.state,a&&Vi(t,n,!0),t.child}function cc(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),ts(e,t.containerInfo)}var lc,uc,hc,pc={dehydrated:null,retryTime:0};function fc(e,t,n){var r,a=t.mode,i=t.pendingProps,o=is.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Mi(is,1&o),null===e){if(void 0!==i.fallback&&Js(t),s){if(s=i.fallback,(i=Yl(null,a,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Yl(s,a,n,null)).return=t,i.sibling=n,t.memoizedState=pc,t.child=i,n}return a=i.children,t.memoizedState=null,t.child=Ko(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,s){if(i=i.fallback,(n=Kl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(a=Kl(a,i)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=pc,t.child=n,a}return n=Jo(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Yl(null,a,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Yl(s,a,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=pc,t.child=i,n}return t.memoizedState=null,t.child=Jo(t,e,i.children,n)}function dc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Ao(e.return,t)}function gc(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=a,o.lastEffect=i)}function vc(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ec(e,t,r.children,n),0!=(2&(r=is.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&dc(e,n);else if(19===e.tag)dc(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(is,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===os(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),gc(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===os(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}gc(t,!0,n,null,i,t.lastEffect);break;case"together":gc(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function mc(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Tl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(Te(153));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function yc(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bc(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fi(t.type)&&Hi(),null;case 3:return ns(),Pi(Di),Pi(Ri),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Qs(t)||(t.effectTag|=4),null;case 5:as(t),n=es(Zo.current);var a=t.type;if(null!==e&&null!=t.stateNode)uc(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(Te(166));return null}if(e=es(Yo.current),Qs(t)){r=t.stateNode,a=t.type;var i=t.memoizedProps;switch(r[Gr]=t,r[Jr]=i,a){case"iframe":case"object":case"embed":mr("load",r);break;case"video":case"audio":for(e=0;e<_n.length;e++)mr(_n[e],r);break;case"source":mr("error",r);break;case"img":case"image":case"link":mr("error",r),mr("load",r);break;case"form":mr("reset",r),mr("submit",r);break;case"details":mr("toggle",r);break;case"input":$t(r,i),mr("invalid",r),Pr(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mr("invalid",r),Pr(n,"onChange");break;case"textarea":en(r,i),mr("invalid",r),Pr(n,"onChange")}for(var o in Or(a,i),e=null,i)if(i.hasOwnProperty(o)){var s=i[o];"children"===o?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):Ge.hasOwnProperty(o)&&null!=s&&Pr(n,o)}switch(a){case"input":Vt(r),Kt(r,i,!0);break;case"textarea":Vt(r),nn(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Mr)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(o=9===n.nodeType?n:n.ownerDocument,e===Nr&&(e=on(a)),e===Nr?"script"===a?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(a,{is:r.is}):(e=o.createElement(a),"select"===a&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,a),e[Gr]=t,e[Jr]=r,lc(e,t),t.stateNode=e,o=Tr(a,r),a){case"iframe":case"object":case"embed":mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<_n.length;s++)mr(_n[s],e);s=r;break;case"source":mr("error",e),s=r;break;case"img":case"image":case"link":mr("error",e),mr("load",e),s=r;break;case"form":mr("reset",e),mr("submit",e),s=r;break;case"details":mr("toggle",e),s=r;break;case"input":$t(e,r),s=zt(e,r),mr("invalid",e),Pr(n,"onChange");break;case"option":s=Yt(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=P({},r,{value:void 0}),mr("invalid",e),Pr(n,"onChange");break;case"textarea":en(e,r),s=Zt(e,r),mr("invalid",e),Pr(n,"onChange");break;default:s=r}Or(a,s);var c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];"style"===i?xr(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&ln(e,l):"children"===i?"string"==typeof l?("textarea"!==a||""!==l)&&un(e,l):"number"==typeof l&&un(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(Ge.hasOwnProperty(i)?null!=l&&Pr(n,i):null!=l&&_t(e,i,l,o))}switch(a){case"input":Vt(e),Kt(e,r,!1);break;case"textarea":Vt(e),nn(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Xt(e,!!r.multiple,n,!1):null!=r.defaultValue&&Xt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Mr)}Ur(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)hc(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Te(166));n=es(Zo.current),es(Yo.current),Qs(t)?(n=t.stateNode,r=t.memoizedProps,n[Gr]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=n)}return null;case 13:return Pi(is),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Qs(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=a,a.nextEffect=i):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&is.current)?Qc===Vc&&(Qc=Wc):(Qc!==Vc&&Qc!==Wc||(Qc=zc),0!==tl&&null!==Gc&&(nu(Gc,Kc),ru(Gc,tl)))),(n||r)&&(t.effectTag|=4),null);case 4:return ns(),null;case 10:return So(t),null;case 17:return Fi(t.type)&&Hi(),null;case 19:if(Pi(is),null===(r=t.memoizedState))return null;if(a=0!=(64&t.effectTag),null===(i=r.rendering)){if(a)yc(r,!1);else if(Qc!==Vc||null!==e&&0!=(64&e.effectTag))for(i=t.child;null!==i;){if(null!==(e=os(i))){for(t.effectTag|=64,yc(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)i=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=i,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders}),r=r.sibling;return Mi(is,1&is.current|2),t.child}i=i.sibling}}else{if(!a)if(null!==(e=os(i))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),yc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*co()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,yc(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=r.last)?n.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=co()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=co(),n.sibling=null,t=is.current,Mi(is,a?1&t|2:1&t),n):null}throw Error(Te(156,t.tag))}function _c(e){switch(e.tag){case 1:Fi(e.type)&&Hi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ns(),Pi(Di),Pi(Ri),0!=(64&(t=e.effectTag)))throw Error(Te(285));return e.effectTag=-4097&t|64,e;case 5:return as(e),null;case 13:return Pi(is),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Pi(is),null;case 4:return ns(),null;case 10:return So(e),null;default:return null}}function wc(e,t){return{value:e,source:t,stack:Ut(t)}}lc=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},uc=function(e,t,n,r,a){var i=e.memoizedProps;if(i!==r){var o,s,c=t.stateNode;switch(es(Yo.current),e=null,n){case"input":i=zt(c,i),r=zt(c,r),e=[];break;case"option":i=Yt(c,i),r=Yt(c,r),e=[];break;case"select":i=P({},i,{value:void 0}),r=P({},r,{value:void 0}),e=[];break;case"textarea":i=Zt(c,i),r=Zt(c,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(c.onclick=Mr)}for(o in Or(n,r),n=null,i)if(!r.hasOwnProperty(o)&&i.hasOwnProperty(o)&&null!=i[o])if("style"===o)for(s in c=i[o])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Ge.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in r){var l=r[o];if(c=null!=i?i[o]:void 0,r.hasOwnProperty(o)&&l!==c&&(null!=l||null!=c))if("style"===o)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(o,n)),n=l;else"dangerouslySetInnerHTML"===o?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(o,l)):"children"===o?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(o,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(Ge.hasOwnProperty(o)?(null!=l&&Pr(a,o),e||c===l||(e=[])):(e=e||[]).push(o,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},hc=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var kc="function"==typeof WeakSet?WeakSet:Set;function Ec(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Ut(n)),null!==n&&Ht(n.type),t=t.value,null!==e&&1===e.tag&&Ht(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Sc(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Bl(e,t)}else t.current=null}function Ac(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:yo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Te(163))}function xc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Cc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oc(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Cc(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:yo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Do(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Do(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&or(n)))));case 19:case 17:case 20:case 21:return}throw Error(Te(163))}function Tc(e,t,n){switch("function"==typeof zl&&zl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ho(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var a=t;try{n()}catch(e){Bl(a,e)}}e=e.next}while(e!==r)}))}break;case 1:Sc(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Bl(e,t)}}(t,n);break;case 5:Sc(t);break;case 4:jc(e,t,n)}}function Nc(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Nc(t)}function Pc(e){return 5===e.tag||3===e.tag||4===e.tag}function Mc(e){e:{for(var t=e.return;null!==t;){if(Pc(t)){var n=t;break e}t=t.return}throw Error(Te(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(Te(161))}16&n.effectTag&&(un(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pc(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Mr));else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function jc(e,t,n){for(var r,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(Te(160));switch(r=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,l=n,u=c;;)if(Tc(s,u,l),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}a?(s=r,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(Tc(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Rc(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void xc(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Gt(n,r),Tr(e,a),t=Tr(e,r),a=0;a<i.length;a+=2){var o=i[a],s=i[a+1];"style"===o?xr(n,s):"dangerouslySetInnerHTML"===o?ln(n,s):"children"===o?un(n,s):_t(n,o,s,t)}switch(e){case"input":Jt(n,r);break;case"textarea":tn(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Xt(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Xt(n,!!r.multiple,r.defaultValue,!0):Xt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(Te(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,or(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,rl=co()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=null!=(a=e.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,i.style.display=Ar("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Dc(t);case 19:return void Dc(t);case 17:return}throw Error(Te(163))}function Dc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new kc),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ic="function"==typeof WeakMap?WeakMap:Map;function Lc(e,t,n){(n=Po(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,ol=r),Ec(e,t)},n}function Fc(e,t,n){(n=Po(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return Ec(e,t),r(a)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===sl?sl=new Set([this]):sl.add(this),Ec(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Hc,Uc=Math.ceil,Bc=bt.ReactCurrentDispatcher,qc=bt.ReactCurrentOwner,Vc=0,Wc=3,zc=4,$c=0,Gc=null,Jc=null,Kc=0,Qc=Vc,Yc=null,Xc=1073741823,Zc=1073741823,el=null,tl=0,nl=!1,rl=0,al=null,il=!1,ol=null,sl=null,cl=!1,ll=null,ul=90,hl=null,pl=0,fl=null,dl=0;function gl(){return 0!=(48&$c)?1073741821-(co()/10|0):0!==dl?dl:dl=1073741821-(co()/10|0)}function vl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=lo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&$c))return Kc;if(null!==n)e=mo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=mo(e,150,100);break;case 97:case 96:e=mo(e,5e3,250);break;case 95:e=2;break;default:throw Error(Te(326))}return null!==Gc&&e===Kc&&--e,e}function ml(e,t){if(50<pl)throw pl=0,fl=null,Error(Te(185));if(null!==(e=yl(e,t))){var n=lo();1073741823===t?0!=(8&$c)&&0==(48&$c)?kl(e):(_l(e),0===$c&&go()):_l(e),0==(4&$c)||98!==n&&99!==n||(null===hl?hl=new Map([[e,t]]):(void 0===(n=hl.get(e))||n>t)&&hl.set(e,t))}}function yl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(Gc===a&&(Tl(t),Qc===zc&&nu(a,Kc)),ru(a,t)),a}function bl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!tu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function _l(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=fo(kl.bind(null,e));else{var t=bl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=gl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=r)return;n!==to&&$i(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?fo(kl.bind(null,e)):po(r,wl.bind(null,e),{timeout:10*(1073741821-t)-co()}),e.callbackNode=t}}}function wl(e,t){if(dl=0,t)return au(e,t=gl()),_l(e),null;var n=bl(e);if(0!==n){if(t=e.callbackNode,0!=(48&$c))throw Error(Te(327));if(Fl(),e===Gc&&n===Kc||Al(e,n),null!==Jc){var r=$c;$c|=16;for(var a=Cl();;)try{Pl();break}catch(t){xl(e,t)}if(Eo(),$c=r,Bc.current=a,1===Qc)throw t=Yc,Al(e,n),nu(e,n),_l(e),t;if(null===Jc)switch(a=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Qc,Gc=null,r){case Vc:case 1:throw Error(Te(345));case 2:au(e,2<n?2:n);break;case Wc:if(nu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Rl(a)),1073741823===Xc&&10<(a=rl+500-co())){if(nl){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,Al(e,n);break}}if(0!==(i=bl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=qr(Dl.bind(null,e),a);break}Dl(e);break;case zc:if(nu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Rl(a)),nl&&(0===(a=e.lastPingedTime)||a>=n)){e.lastPingedTime=n,Al(e,n);break}if(0!==(a=bl(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Zc?r=10*(1073741821-Zc)-co():1073741823===Xc?r=0:(r=10*(1073741821-Xc)-5e3,0>(r=(a=co())-r)&&(r=0),(n=10*(1073741821-n)-a)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uc(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=qr(Dl.bind(null,e),r);break}Dl(e);break;case 5:if(1073741823!==Xc&&null!==el){i=Xc;var o=el;if(0>=(r=0|o.busyMinDurationMs)?r=0:(a=0|o.busyDelayMs,r=(i=co()-(10*(1073741821-i)-(0|o.timeoutMs||5e3)))<=a?0:a+r-i),10<r){nu(e,n),e.timeoutHandle=qr(Dl.bind(null,e),r);break}}Dl(e);break;default:throw Error(Te(329))}if(_l(e),e.callbackNode===t)return wl.bind(null,e)}}return null}function kl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&$c))throw Error(Te(327));if(Fl(),e===Gc&&t===Kc||Al(e,t),null!==Jc){var n=$c;$c|=16;for(var r=Cl();;)try{Nl();break}catch(t){xl(e,t)}if(Eo(),$c=n,Bc.current=r,1===Qc)throw n=Yc,Al(e,t),nu(e,t),_l(e),n;if(null!==Jc)throw Error(Te(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Gc=null,Dl(e),_l(e)}return null}function El(e,t){var n=$c;$c|=1;try{return e(t)}finally{0===($c=n)&&go()}}function Sl(e,t){var n=$c;$c&=-2,$c|=8;try{return e(t)}finally{0===($c=n)&&go()}}function Al(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Jc)for(n=Jc.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Hi();break;case 3:ns(),Pi(Di),Pi(Ri);break;case 5:as(r);break;case 4:ns();break;case 13:case 19:Pi(is);break;case 10:So(r)}n=n.return}Gc=e,Jc=Kl(e.current,null),Kc=t,Qc=Vc,Yc=null,Zc=Xc=1073741823,el=null,tl=0,nl=!1}function xl(e,t){for(;;){try{if(Eo(),cs.current=Hs,ds)for(var n=hs.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(us=0,fs=ps=hs=null,ds=!1,null===Jc||null===Jc.return)return Qc=1,Yc=t,Jc=null;e:{var a=e,i=Jc.return,o=Jc,s=t;if(t=Kc,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!=(1&is.current),h=i;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var d=h.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!u)}}if(p){var g=h.updateQueue;if(null===g){var v=new Set;v.add(c),h.updateQueue=v}else g.add(c);if(0==(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var m=Po(1073741823,null);m.tag=2,Mo(o,m)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new Ic,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(o)){s.add(o);var b=ql.bind(null,a,c,o);c.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((Ht(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ut(o))}5!==Qc&&(Qc=2),s=wc(s,o),h=i;do{switch(h.tag){case 3:c=s,h.effectTag|=4096,h.expirationTime=t,jo(h,Lc(h,c,t));break e;case 1:c=s;var _=h.type,w=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===sl||!sl.has(w)))){h.effectTag|=4096,h.expirationTime=t,jo(h,Fc(h,c,t));break e}}h=h.return}while(null!==h)}Jc=jl(Jc)}catch(e){t=e;continue}break}}function Cl(){var e=Bc.current;return Bc.current=Hs,null===e?Hs:e}function Ol(e,t){e<Xc&&2<e&&(Xc=e),null!==t&&e<Zc&&2<e&&(Zc=e,el=t)}function Tl(e){e>tl&&(tl=e)}function Nl(){for(;null!==Jc;)Jc=Ml(Jc)}function Pl(){for(;null!==Jc&&!no();)Jc=Ml(Jc)}function Ml(e){var t=Hc(e.alternate,e,Kc);return e.memoizedProps=e.pendingProps,null===t&&(t=jl(e)),qc.current=null,t}function jl(e){Jc=e;do{var t=Jc.alternate;if(e=Jc.return,0==(2048&Jc.effectTag)){if(t=bc(t,Jc,Kc),1===Kc||1!==Jc.childExpirationTime){for(var n=0,r=Jc.child;null!==r;){var a=r.expirationTime,i=r.childExpirationTime;a>n&&(n=a),i>n&&(n=i),r=r.sibling}Jc.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Jc.firstEffect),null!==Jc.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Jc.firstEffect),e.lastEffect=Jc.lastEffect),1<Jc.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Jc:e.firstEffect=Jc,e.lastEffect=Jc))}else{if(null!==(t=_c(Jc)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Jc.sibling))return t;Jc=e}while(null!==Jc);return Qc===Vc&&(Qc=5),null}function Rl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Dl(e){var t=lo();return ho(99,Il.bind(null,e,t)),null}function Il(e,t){do{Fl()}while(null!==ll);if(0!=(48&$c))throw Error(Te(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=Rl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Gc&&(Jc=Gc=null,Kc=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=$c;$c|=32,qc.current=null,Fr=vr;var o=Ir();if(Lr(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var c=(s=(s=o.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,u=c.focusNode;c=c.focusOffset;try{s.nodeType,u.nodeType}catch(e){s=null;break e}var h=0,p=-1,f=-1,d=0,g=0,v=o,m=null;t:for(;;){for(var y;v!==s||0!==l&&3!==v.nodeType||(p=h+l),v!==u||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===o)break t;if(m===s&&++d===l&&(p=h),m===u&&++g===c&&(f=h),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}s=-1===p||-1===f?null:{start:p,end:f}}else s=null}s=s||{start:0,end:0}}else s=null;Hr={activeElementDetached:null,focusedElem:o,selectionRange:s},vr=!1,al=a;do{try{Ll()}catch(e){if(null===al)throw Error(Te(330));Bl(al,e),al=al.nextEffect}}while(null!==al);al=a;do{try{for(o=e,s=t;null!==al;){var b=al.effectTag;if(16&b&&un(al.stateNode,""),128&b){var _=al.alternate;if(null!==_){var w=_.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Mc(al),al.effectTag&=-3;break;case 6:Mc(al),al.effectTag&=-3,Rc(al.alternate,al);break;case 1024:al.effectTag&=-1025;break;case 1028:al.effectTag&=-1025,Rc(al.alternate,al);break;case 4:Rc(al.alternate,al);break;case 8:jc(o,l=al,s),Nc(l)}al=al.nextEffect}}catch(e){if(null===al)throw Error(Te(330));Bl(al,e),al=al.nextEffect}}while(null!==al);if(w=Hr,_=Ir(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&Lr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,o=Math.min(s.start,l),s=void 0===s.end?o:Math.min(s.end,l),!w.extend&&o>s&&(l=s,s=o,o=l),l=Dr(b,o),u=Dr(b,s),l&&u&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==u.node||w.focusOffset!==u.offset)&&((_=_.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),o>s?(w.addRange(_),w.extend(u.node,u.offset)):(_.setEnd(u.node,u.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}vr=!!Fr,Hr=Fr=null,e.current=n,al=a;do{try{for(b=e;null!==al;){var k=al.effectTag;if(36&k&&Oc(b,al.alternate,al),128&k){_=void 0;var E=al.ref;if(null!==E){var S=al.stateNode;switch(al.tag){case 5:_=S;break;default:_=S}"function"==typeof E?E(_):E.current=_}}al=al.nextEffect}}catch(e){if(null===al)throw Error(Te(330));Bl(al,e),al=al.nextEffect}}while(null!==al);al=null,ro(),$c=i}else e.current=n;if(cl)cl=!1,ll=e,ul=t;else for(al=a;null!==al;)t=al.nextEffect,al.nextEffect=null,al=t;if(0===(t=e.firstPendingTime)&&(sl=null),1073741823===t?e===fl?pl++:(pl=0,fl=e):pl=0,"function"==typeof Wl&&Wl(n.stateNode,r),_l(e),il)throw il=!1,e=ol,ol=null,e;return 0!=(8&$c)||go(),null}function Ll(){for(;null!==al;){var e=al.effectTag;0!=(256&e)&&Ac(al.alternate,al),0==(512&e)||cl||(cl=!0,po(97,(function(){return Fl(),null}))),al=al.nextEffect}}function Fl(){if(90!==ul){var e=97<ul?97:ul;return ul=90,ho(e,Hl)}}function Hl(){if(null===ll)return!1;var e=ll;if(ll=null,0!=(48&$c))throw Error(Te(331));var t=$c;for($c|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:xc(5,n),Cc(5,n)}}catch(t){if(null===e)throw Error(Te(330));Bl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return $c=t,go(),!0}function Ul(e,t,n){Mo(e,t=Lc(e,t=wc(n,t),1073741823)),null!==(e=yl(e,1073741823))&&_l(e)}function Bl(e,t){if(3===e.tag)Ul(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ul(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===sl||!sl.has(r))){Mo(n,e=Fc(n,e=wc(t,e),1073741823)),null!==(n=yl(n,1073741823))&&_l(n);break}}n=n.return}}function ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Gc===e&&Kc===n?Qc===zc||Qc===Wc&&1073741823===Xc&&co()-rl<500?Al(e,Kc):nl=!0:tu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,_l(e)))}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=vl(t=gl(),e,null)),null!==(e=yl(e,t))&&_l(e)}Hc=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||Di.current)Zs=!0;else{if(r<n){switch(Zs=!1,t.tag){case 3:cc(t),Ys();break;case 5:if(rs(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Fi(t.type)&&qi(t);break;case 4:ts(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,a=t.type._context,Mi(bo,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?fc(e,t,n):(Mi(is,1&is.current),null!==(t=mc(e,t,n))?t.sibling:null);Mi(is,1&is.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return vc(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),Mi(is,is.current),!r)return null}return mc(e,t,n)}Zs=!1}}else Zs=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=Li(t,Ri.current),xo(t,n),a=ms(null,t,r,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)){var i=!0;qi(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,To(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&Fo(t,r,o,e),a.updater=Ho,t.stateNode=a,a._reactInternalFiber=t,Vo(t,r,e,n),t=sc(null,t,r,!0,i,n)}else t.tag=0,ec(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"==typeof e)return Jl(e)?1:0;if(null!=e){if((e=e.$$typeof)===Pt)return 11;if(e===Rt)return 14}return 2}(a),e=yo(a,e),i){case 0:t=ic(null,t,a,e,n);break e;case 1:t=oc(null,t,a,e,n);break e;case 11:t=tc(null,t,a,e,n);break e;case 14:t=nc(null,t,a,yo(a.type,e),r,n);break e}throw Error(Te(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,ic(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 1:return r=t.type,a=t.pendingProps,oc(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 3:if(cc(t),r=t.updateQueue,null===e||null===r)throw Error(Te(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,No(e,t),Ro(t,r,null,n),(r=t.memoizedState.element)===a)Ys(),t=mc(e,t,n);else{if((a=t.stateNode.hydrate)&&(Ws=Wr(t.stateNode.containerInfo.firstChild),Vs=t,a=zs=!0),a)for(n=Ko(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ec(e,t,r,n),Ys();t=t.child}return t;case 5:return rs(t),null===e&&Js(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,Br(r,a)?o=null:null!==i&&Br(r,i)&&(t.effectTag|=16),ac(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ec(e,t,o,n),t=t.child),t;case 6:return null===e&&Js(t),null;case 13:return fc(e,t,n);case 4:return ts(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):ec(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,tc(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 7:return ec(e,t,t.pendingProps,n),t.child;case 8:case 12:return ec(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value;var s=t.type._context;if(Mi(bo,s._currentValue),s._currentValue=i,null!==o)if(s=o.value,0===(i=oi(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(o.children===a.children&&!Di.current){t=mc(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){o=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&i)){1===s.tag&&((l=Po(n,null)).tag=2,Mo(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Ao(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else o=10===s.tag&&s.type===t.type?null:s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ec(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,xo(t,n),r=r(a=Co(a,i.unstable_observedBits)),t.effectTag|=1,ec(e,t,r,n),t.child;case 14:return i=yo(a=t.type,t.pendingProps),nc(e,t,a,i=yo(a.type,i),r,n);case 15:return rc(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fi(r)?(e=!0,qi(t)):e=!1,xo(t,n),Bo(t,r,a),Vo(t,r,a,n),sc(null,t,r,!0,e,n);case 19:return vc(e,t,n)}throw Error(Te(156,t.tag))};var Wl=null,zl=null;function $l(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gl(e,t,n,r){return new $l(e,t,n,r)}function Jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e,t){var n=e.alternate;return null===n?((n=Gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,a,i){var o=2;if(r=e,"function"==typeof e)Jl(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case At:return Yl(n.children,a,i,t);case Nt:o=8,a|=7;break;case xt:o=8,a|=1;break;case Ct:return(e=Gl(12,n,t,8|a)).elementType=Ct,e.type=Ct,e.expirationTime=i,e;case Mt:return(e=Gl(13,n,t,a)).type=Mt,e.elementType=Mt,e.expirationTime=i,e;case jt:return(e=Gl(19,n,t,a)).elementType=jt,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ot:o=10;break e;case Tt:o=9;break e;case Pt:o=11;break e;case Rt:o=14;break e;case Dt:o=16,r=null;break e;case It:o=22;break e}throw Error(Te(130,null==e?e:typeof e,""))}return(t=Gl(o,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Yl(e,t,n,r){return(e=Gl(7,e,r,t)).expirationTime=n,e}function Xl(e,t,n){return(e=Gl(6,e,null,t)).expirationTime=n,e}function Zl(e,t,n){return(t=Gl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function tu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function nu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function ru(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function au(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function iu(e,t,n,r){var a=t.current,i=gl(),o=Io.suspense;i=vl(i,a,o);e:if(n){t:{if(En(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(Te(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Fi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(Te(171))}if(1===n.tag){var c=n.type;if(Fi(c)){n=Bi(n,c,s);break e}}n=s}else n=ji;return null===t.context?t.context=n:t.pendingContext=n,(t=Po(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Mo(a,t),ml(a,i),i}function ou(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function su(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function cu(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function lu(e,t,n){var r=new eu(e,t,n=null!=n&&!0===n.hydrate),a=Gl(3,null,null,2===t?7:1===t?3:0);r.current=a,a.stateNode=r,To(a),e[Kr]=r.current,n&&0!==t&&function(e,t){var n=kn(t);Qn.forEach((function(e){Fn(e,t,n)})),Yn.forEach((function(e){Fn(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=ou(o);s.call(e)}}iu(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new lu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"==typeof a){var c=a;a=function(){var e=ou(o);c.call(e)}}Sl((function(){iu(t,o,e,a)}))}return ou(o)}function pu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:St,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function fu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uu(t))throw Error(Te(200));return pu(e,t,null,n)}lu.prototype.render=function(e){iu(e,this._internalRoot,null,null)},lu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;iu(null,e,null,(function(){t[Kr]=null}))},Hn=function(e){if(13===e.tag){var t=mo(gl(),150,100);ml(e,t),cu(e,t)}},Un=function(e){13===e.tag&&(ml(e,3),cu(e,3))},Bn=function(e){if(13===e.tag){var t=gl();ml(e,t=vl(t,e,null)),cu(e,t)}},Ye=function(e,t,n){switch(t){case"input":if(Jt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Zr(r);if(!a)throw Error(Te(90));Wt(r),Jt(r,a)}}}break;case"textarea":tn(e,n);break;case"select":null!=(t=n.value)&&Xt(e,!!n.multiple,t,!1)}},rt=El,at=function(e,t,n,r,a){var i=$c;$c|=4;try{return ho(98,e.bind(null,t,n,r,a))}finally{0===($c=i)&&go()}},it=function(){0==(49&$c)&&(function(){if(null!==hl){var e=hl;hl=null,e.forEach((function(e,t){au(t,e),_l(t)})),go()}}(),Fl())},ot=function(e,t){var n=$c;$c|=2;try{return e(t)}finally{0===($c=n)&&go()}};var du={Events:[Yr,Xr,Zr,Ke,$e,oa,function(e){On(e,ia)},tt,nt,wr,Pn,Fl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Wl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},zl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(P({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=xn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Qr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});var gu={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:du,createPortal:fu,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(Te(188));throw Error(Te(268,Object.keys(e)))}return e=null===(e=xn(t))?null:e.stateNode},flushSync:function(e,t){if(0!=(48&$c))throw Error(Te(187));var n=$c;$c|=1;try{return ho(99,e.bind(null,t))}finally{$c=n,go()}},hydrate:function(e,t,n){if(!uu(t))throw Error(Te(200));return hu(null,e,t,!0,n)},render:function(e,t,n){if(!uu(t))throw Error(Te(200));return hu(null,e,t,!1,n)},unmountComponentAtNode:function(e){if(!uu(e))throw Error(Te(40));return!!e._reactRootContainer&&(Sl((function(){hu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},unstable_batchedUpdates:El,unstable_createPortal:function(e,t){return fu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!uu(n))throw Error(Te(200));if(null==e||void 0===e._reactInternalFiber)throw Error(Te(38));return hu(e,t,n,!1,r)},version:"16.14.0"},vu=0,mu={__interactionsRef:null,__subscriberRef:null,unstable_clear:function(e){return e()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++vu},unstable_subscribe:function(){},unstable_trace:function(e,t,n){return n()},unstable_unsubscribe:function(){},unstable_wrap:function(e){return e}},yu=n((function(e,t){})),bu=(yu.__interactionsRef,yu.__subscriberRef,yu.unstable_clear,yu.unstable_getCurrent,yu.unstable_getThreadID,yu.unstable_subscribe,yu.unstable_trace,yu.unstable_unsubscribe,yu.unstable_wrap,n((function(e){e.exports=mu})),n((function(e,t){}))),_u=(bu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu.createPortal,bu.findDOMNode,bu.flushSync,bu.hydrate,bu.render,bu.unmountComponentAtNode,bu.unstable_batchedUpdates,bu.unstable_createPortal,bu.unstable_renderSubtreeIntoContainer,bu.version,n((function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=gu}))),wu=(_u.render,_u.unstable_batchedUpdates),ku=[];Object.freeze(ku);var Eu={};Object.freeze(Eu);var Su={};function Au(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Su}function xu(){return++Yh.mobxGuid}function Cu(e){throw Ou(!1,e),"X"}function Ou(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function Tu(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Nu=function(){};function Pu(e){return null!==e&&"object"==typeof e}function Mu(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function ju(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ru(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Du(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Pu(e)&&!0===e[n]}}function Iu(e){return void 0!==Au().Map&&e instanceof Au().Map}function Lu(e){return e instanceof Set}function Fu(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function Hu(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Uu(e){return null===e?null:"object"==typeof e?""+e:e}function Bu(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function qu(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Vu(e,t){Ru(e,qu(),t)}function Wu(e){return e[qu()]=$u,e}function zu(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function $u(){return this}var Gu=function(){function e(e){void 0===e&&(e="Atom@"+xu()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Eh.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return rp(this)},e.prototype.reportChanged=function(){tp(),function(e){if(e.lowestObserverState===Eh.STALE)return;e.lowestObserverState=Eh.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Eh.UP_TO_DATE&&(r.isTracing!==Sh.NONE&&ap(r,e),r.onBecomeStale()),r.dependenciesState=Eh.STALE}}(this),np()},e.prototype.toString=function(){return this.name},e}(),Ju=Du("Atom",Gu);function Ku(e,t,n){void 0===t&&(t=Nu),void 0===n&&(n=Nu);var r,a=new Gu(e);return Ap("onBecomeObserved",a,t,r),Sp(a,n),a}function Qu(e,t){return e===t}var Yu={identity:Qu,structural:function(e,t){return vf(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||Qu(e,t)},shallow:function(e,t){return vf(e,t,1)}},Xu=function(e,t){return(Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */function Zu(e,t){function n(){this.constructor=e}Xu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var eh=function(){return(eh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function th(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function nh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(th(arguments[t]));return e}var rh={},ah={};function ih(e,t){var n=t?rh:ah;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return oh(this),this[e]},set:function(t){oh(this),this[e]=t}})}function oh(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in ju(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function sh(e,t){return function(){var n,r=function(r,a,i,o){if(!0===o)return t(r,a,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var s=r.__mobxDecorators;ju(r,"__mobxDecorators",eh({},s))}return r.__mobxDecorators[a]={prop:a,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},ih(a,e)};return ch(arguments)?(n=ku,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function ch(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function lh(e,t,n){return Pp(e)?e:Array.isArray(e)?wh.array(e,{name:n}):Mu(e)?wh.object(e,void 0,{name:n}):Iu(e)?wh.map(e,{name:n}):Lu(e)?wh.set(e,{name:n}):e}function uh(e){return e}function hh(e){Ou(e);var t=sh(!0,(function(t,n,r,a,i){!function(e,t,n,r){var a=cf(e);if(Rp(a)){var i=Ip(a,{object:e,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}var o=a.values[t]=new zh(n,r,a.name+"."+t,!1);n=o.value,Object.defineProperty(e,t,function(e){return lf[e]||(lf[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),a.keys&&a.keys.push(t);!function(e,t,n,r){var a=Lp(e),i=hp(),o=a||i?{type:"add",object:t,name:n,newValue:r}:null;i&&fp(eh(eh({},o),{name:e.name,key:n}));a&&Hp(e,o);i&&gp()}(a,e,t,n)}(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=("undefined"!=typeof process&&process.env,t);return n.enhancer=e,n}var ph={deep:!0,name:void 0,defaultDecorator:void 0},fh={deep:!1,name:void 0,defaultDecorator:void 0};function dh(e){return null==e?ph:"string"==typeof e?{name:e,deep:!0}:e}function gh(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?uh:lh}Object.freeze(ph),Object.freeze(fh);var vh=hh(lh),mh=hh((function(e,t,n){return null==e||ff(e)||Xp(e)||nf(e)||of(e)?e:Array.isArray(e)?wh.array(e,{name:n,deep:!1}):Mu(e)?wh.object(e,void 0,{name:n,deep:!1}):Iu(e)?wh.map(e,{name:n,deep:!1}):Lu(e)?wh.set(e,{name:n,deep:!1}):Cu(!1)})),yh=hh(uh),bh=hh((function(e,t,n){return vf(e,t)?t:e}));var _h={box:function(e,t){arguments.length>2&&kh("box");var n=dh(t);return new zh(e,gh(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&kh("shallowBox"),wh.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&kh("array");var n=dh(t);return new $p(e,gh(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&kh("shallowArray"),wh.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&kh("map");var n=dh(t);return new ef(e,gh(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&kh("shallowMap"),wh.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&kh("set");var n=dh(t);return new af(e,gh(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&kh("object");var r=dh(n);return Cp({},e,t,r)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&kh("shallowObject"),wh.object(e,{},{name:t,deep:!1})},ref:yh,shallow:mh,deep:vh,struct:bh},wh=function(e,t,n){if("string"==typeof arguments[1])return vh.apply(null,arguments);if(Pp(e))return e;var r=Mu(e)?wh.object(e,t,n):Array.isArray(e)?wh.array(e,t):Iu(e)?wh.map(e,t):Lu(e)?wh.set(e,t):e;if(r!==e)return r;Cu(!1)};function kh(e){Cu("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(_h).forEach((function(e){return wh[e]=_h[e]}));var Eh,Sh,Ah=sh(!1,(function(e,t,n,r,a){var i=n.get,o=n.set,s=a[0]||{};!function(e,t,n){var r=cf(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new $h(n),Object.defineProperty(e,t,function(e){return uf[e]||(uf[e]={configurable:Yh.computedConfigurable,enumerable:!1,get:function(){return hf(this).read(this,e)},set:function(t){hf(this).write(this,e,t)}})}(t))}(e,t,eh({get:i,set:o},s))}));Ah({equals:Yu.structural});!function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Eh||(Eh={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Sh||(Sh={}));var xh=function(e){this.cause=e};function Ch(e){return e instanceof xh}function Oh(e){switch(e.dependenciesState){case Eh.UP_TO_DATE:return!1;case Eh.NOT_TRACKING:case Eh.STALE:return!0;case Eh.POSSIBLY_STALE:for(var t=Dh(!0),n=jh(),r=e.observing,a=r.length,i=0;i<a;i++){var o=r[i];if(Gh(o)){if(Yh.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return Rh(n),Ih(t),!0}if(e.dependenciesState===Eh.STALE)return Rh(n),Ih(t),!0}}return Lh(e),Rh(n),Ih(t),!1}}function Th(e){var t=e.observers.length>0;Yh.computationDepth>0&&t&&Cu(!1),Yh.allowStateChanges||!t&&"strict"!==Yh.enforceActions||Cu(!1)}function Nh(e,t,n){var r=Dh(!0);Lh(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Yh.runId;var a,i=Yh.trackingDerivation;if(Yh.trackingDerivation=e,!0===Yh.disableErrorBoundaries)a=t.call(n);else try{a=t.call(n)}catch(e){a=new xh(e)}return Yh.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=Eh.UP_TO_DATE,a=0,i=e.unboundDepsCount,o=0;o<i;o++){0===(s=n[o]).diffValue&&(s.diffValue=1,a!==o&&(n[a]=s),a++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=a,e.newObserving=null,i=t.length;for(;i--;){0===(s=t[i]).diffValue&&Zh(s,e),s.diffValue=0}for(;a--;){var s;1===(s=n[a]).diffValue&&(s.diffValue=0,Xh(s,e))}r!==Eh.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,Ih(r),a}function Ph(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Zh(t[n],e);e.dependenciesState=Eh.NOT_TRACKING}function Mh(e){var t=jh(),n=e();return Rh(t),n}function jh(){var e=Yh.trackingDerivation;return Yh.trackingDerivation=null,e}function Rh(e){Yh.trackingDerivation=e}function Dh(e){var t=Yh.allowStateReads;return Yh.allowStateReads=e,t}function Ih(e){Yh.allowStateReads=e}function Lh(e){if(e.dependenciesState!==Eh.UP_TO_DATE){e.dependenciesState=Eh.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Eh.UP_TO_DATE}}var Fh=0,Hh=1,Uh=Object.getOwnPropertyDescriptor((function(){}),"name");Uh&&Uh.configurable;function Bh(e,t){var n=function(){return qh(e,t,this,arguments)};return n.isMobxAction=!0,n}function qh(e,t,n,r){var a=function(e,t,n){var r=hp()&&!!e,a=0;if(r){a=Date.now();var i=n&&n.length||0,o=new Array(i);if(i>0)for(var s=0;s<i;s++)o[s]=n[s];fp({type:"action",name:e,object:t,arguments:o})}var c=jh();tp();var l=Vh(!0),u=Dh(!0),h={prevDerivation:c,prevAllowStateChanges:l,prevAllowStateReads:u,notifySpy:r,startTime:a,actionId:Hh++,parentActionId:Fh};return Fh=h.actionId,h}(e,n,r);try{return t.apply(n,r)}catch(e){throw a.error=e,e}finally{!function(e){Fh!==e.actionId&&Cu("invalid action stack. did you forget to finish an action?");Fh=e.parentActionId,void 0!==e.error&&(Yh.suppressReactionErrors=!0);Wh(e.prevAllowStateChanges),Ih(e.prevAllowStateReads),np(),Rh(e.prevDerivation),e.notifySpy&&gp({time:Date.now()-e.startTime});Yh.suppressReactionErrors=!1}(a)}}function Vh(e){var t=Yh.allowStateChanges;return Yh.allowStateChanges=e,t}function Wh(e){Yh.allowStateChanges=e}var zh=function(e){function t(t,n,r,a,i){void 0===r&&(r="ObservableValue@"+xu()),void 0===a&&(a=!0),void 0===i&&(i=Yu.default);var o=e.call(this,r)||this;return o.enhancer=n,o.name=r,o.equals=i,o.hasUnreportedChange=!1,o.value=n(t,void 0,r),a&&hp()&&pp({type:"create",name:o.name,newValue:""+o.value}),o}return Zu(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Yh.UNCHANGED){var n=hp();n&&fp({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&gp()}},t.prototype.prepareNewValue=function(e){if(Th(this),Rp(this)){var t=Ip(this,{object:this,type:"update",newValue:e});if(!t)return Yh.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Yh.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Lp(this)&&Hp(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Dp(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Fp(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Uu(this.get())},t}(Gu);zh.prototype[Hu()]=zh.prototype.valueOf;Du("ObservableValue",zh);var $h=function(){function e(e){this.dependenciesState=Eh.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Eh.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+xu(),this.value=new xh(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Sh.NONE,Ou(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+xu(),e.set&&(this.setter=Bh(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Yu.structural:Yu.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==Eh.UP_TO_DATE)return;e.lowestObserverState=Eh.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Eh.UP_TO_DATE&&(r.dependenciesState=Eh.POSSIBLY_STALE,r.isTracing!==Sh.NONE&&ap(r,e),r.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&Cu("Cycle detected in computation "+this.name+": "+this.derivation),0!==Yh.inBatch||0!==this.observers.length||this.keepAlive?(rp(this),Oh(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===Eh.STALE)return;e.lowestObserverState=Eh.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Eh.POSSIBLY_STALE?r.dependenciesState=Eh.STALE:r.dependenciesState===Eh.UP_TO_DATE&&(e.lowestObserverState=Eh.UP_TO_DATE)}}(this)):Oh(this)&&(this.warnAboutUntrackedRead(),tp(),this.value=this.computeValue(!1),np());var e=this.value;if(Ch(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Ch(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){Ou(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Ou(!1,!1)},e.prototype.trackAndCompute=function(){hp()&&pp({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===Eh.NOT_TRACKING,n=this.computeValue(!0),r=t||Ch(e)||Ch(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Yh.computationDepth++,e)t=Nh(this,this.derivation,this.scope);else if(!0===Yh.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new xh(e)}return Yh.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Ph(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,a=void 0;return kp((function(){var i=n.get();if(!r||t){var o=jh();e({type:"update",object:n,newValue:i,oldValue:a}),Rh(o)}r=!1,a=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Uu(this.get())},e}();$h.prototype[Hu()]=$h.prototype.valueOf;var Gh=Du("ComputedValue",$h),Jh=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Kh=!0,Qh=!1,Yh=function(){var e=Au();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Kh=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Jh).version&&(Kh=!1),Kh?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Jh):(setTimeout((function(){Qh||Cu("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Jh)}();function Xh(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Zh(e,t){if(1===e.observers.length)e.observers.length=0,ep(e);else{var n=e.observers,r=e.observersIndexes,a=n.pop();if(a!==t){var i=r[t.__mapid]||0;i?r[a.__mapid]=i:delete r[a.__mapid],n[i]=a}delete r[t.__mapid]}}function ep(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Yh.pendingUnobservations.push(e))}function tp(){Yh.inBatch++}function np(){if(0==--Yh.inBatch){sp();for(var e=Yh.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof $h&&n.suspend())}Yh.pendingUnobservations=[]}}function rp(e){var t=Yh.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Yh.inBatch>0&&ep(e),!1)}function ap(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Sh.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}(Op(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof $h?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var ip=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+xu()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Eh.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+xu(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Sh.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Yh.pendingReactions.push(this),sp())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(tp(),this._isScheduled=!1,Oh(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&hp()&&pp({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}np()}},e.prototype.track=function(e){tp();var t,n=hp();n&&(t=Date.now(),fp({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Nh(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ph(this),Ch(r)&&this.reportExceptionInDerivation(r.cause),n&&gp({time:Date.now()-t}),np()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Yh.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Yh.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),hp()&&pp({type:"error",name:this.name,message:n,error:""+e}),Yh.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(tp(),Ph(this),np()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Mp(e);if(!r)return Cu(!1);r.isTracing===Sh.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Sh.BREAK:Sh.LOG}(this,e)},e}(),op=function(e){return e()};function sp(){Yh.inBatch>0||Yh.isRunningReactions||op(cp)}function cp(){Yh.isRunningReactions=!0;for(var e=Yh.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction()}Yh.isRunningReactions=!1}var lp=Du("Reaction",ip);function up(e){var t=op;op=function(n){return e((function(){return t(n)}))}}function hp(){return!!Yh.spyListeners.length}function pp(e){if(Yh.spyListeners.length)for(var t=Yh.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function fp(e){pp(eh(eh({},e),{spyReportStart:!0}))}var dp={spyReportEnd:!0};function gp(e){pp(e?eh(eh({},e),{spyReportEnd:!0}):dp)}function vp(e){return Yh.spyListeners.push(e),Tu((function(){Yh.spyListeners=Yh.spyListeners.filter((function(t){return t!==e}))}))}function mp(){Cu(!1)}function yp(e){return function(t,n,r){if(r){if(r.value)return{value:Bh(e,r.value),enumerable:!1,configurable:!0,writable:!0};var a=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Bh(e,a.call(this))}}}return bp(e).apply(this,arguments)}}function bp(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){ju(this,n,_p(e,t))}})}}var _p=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Bh(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Bh(e,t):1===arguments.length&&"string"==typeof e?yp(e):!0!==r?yp(t).apply(null,arguments):void(e[t]=Bh(e.name||t,n.value))};function wp(e,t,n){ju(e,t,Bh(t,n.bind(e)))}function kp(e,t){void 0===t&&(t=Eu);var n,r=t&&t.name||e.name||"Autorun@"+xu();if(!t.scheduler&&!t.delay)n=new ip(r,(function(){this.track(o)}),t.onError,t.requiresObservable);else{var a=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ep}(t),i=!1;n=new ip(r,(function(){i||(i=!0,a((function(){i=!1,n.isDisposed||n.track(o)})))}),t.onError,t.requiresObservable)}function o(){e(n)}return n.schedule(),n.getDisposer()}_p.bound=function(e,t,n,r){return!0===r?(wp(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return wp(this,t,n.value||n.initializer.call(this)),this[t]},set:mp}:{enumerable:!1,configurable:!0,set:function(e){wp(this,t,e)},get:function(){}}};var Ep=function(e){return e()};function Sp(e,t,n){return Ap("onBecomeUnobserved",e,t,n)}function Ap(e,t,n,r){var a="function"==typeof r?df(t,n):df(t),i="function"==typeof r?r:n,o=a[e];return"function"!=typeof o?Cu(!1):(a[e]=function(){o.call(this),i.call(this)},function(){a[e]=o})}function xp(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,a=e.disableErrorBoundaries,i=e.arrayBuffer,o=e.reactionScheduler,s=e.reactionRequiresObservable,c=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Yh.pendingReactions.length||Yh.inBatch||Yh.isRunningReactions)&&Cu("isolateGlobalState should be called before MobX is running any reactions"),Qh=!0,Kh&&(0==--Au().__mobxInstanceCount&&(Au().__mobxGlobals=void 0),Yh=new Jh)),void 0!==t){var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:Cu("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Yh.enforceActions=l,Yh.allowStateChanges=!0!==l&&"strict"!==l}void 0!==n&&(Yh.computedRequiresReaction=!!n),void 0!==s&&(Yh.reactionRequiresObservable=!!s),void 0!==c&&(Yh.observableRequiresReaction=!!c,Yh.allowStateReads=!Yh.observableRequiresReaction),void 0!==r&&(Yh.computedConfigurable=!!r),void 0!==a&&(!0===a&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Yh.disableErrorBoundaries=!!a),"number"==typeof i&&Qp(i),o&&up(o)}function Cp(e,t,n,r){var a=(r=dh(r)).defaultDecorator||(!1===r.deep?yh:vh);oh(e),cf(e,r.name,a.enhancer),tp();try{for(var i=Object.getOwnPropertyNames(t),o=0,s=i.length;o<s;o++){var c=i[o],l=Object.getOwnPropertyDescriptor(t,c);0;var u=n&&c in n?n[c]:l.get?Ah:a;0;var h=u(e,c,l,!0);h&&Object.defineProperty(e,c,h)}}finally{np()}return e}function Op(e,t){return Tp(df(e,t))}function Tp(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Tp)),r}function Np(e,t){if(null==e)return!1;if(void 0!==t){if(ff(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return ff(e)||!!e.$mobx||Ju(e)||lp(e)||Gh(e)}function Pp(e){return 1!==arguments.length&&Cu(!1),Np(e)}function Mp(e){switch(e.length){case 0:return Yh.trackingDerivation;case 1:return df(e[0]);case 2:return df(e[0],e[1])}}function jp(e,t){void 0===t&&(t=void 0),tp();try{return e.apply(t)}finally{np()}}function Rp(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Dp(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),Tu((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ip(e,t){var n=jh();try{var r=e.interceptors;if(r)for(var a=0,i=r.length;a<i&&(Ou(!(t=r[a](t))||t.type,"Intercept handlers should return nothing or a change object"),t);a++);return t}finally{Rh(n)}}function Lp(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Fp(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),Tu((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Hp(e,t){var n=jh(),r=e.changeListeners;if(r){for(var a=0,i=(r=r.slice()).length;a<i;a++)r[a](t);Rh(n)}}var Up,Bp,qp=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),Vp=0,Wp=function(){};Up=Wp,Bp=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Up.prototype,Bp):void 0!==Up.prototype.__proto__?Up.prototype.__proto__=Bp:Up.prototype=Bp,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Wp.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var zp=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new Gu(e||"ObservableArray@"+xu()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Dp(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Fp(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Vp&&Qp(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;Th(this.atom);var a=this.values.length;if(void 0===e?e=0:e>a?e=a:e<0&&(e=Math.max(0,a+e)),t=1===arguments.length?a-e:null==t?0:Math.max(0,Math.min(t,a-e)),void 0===n&&(n=ku),Rp(this)){var i=Ip(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!i)return ku;t=i.removedCount,n=i.added}var o=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(a,o);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,nh([e,t],n));var a=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),a},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&hp(),a=Lp(this),i=a||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&fp(eh(eh({},i),{name:this.atom.name})),this.atom.reportChanged(),a&&Hp(this,i),r&&gp()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&hp(),a=Lp(this),i=a||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&fp(eh(eh({},i),{name:this.atom.name})),this.atom.reportChanged(),a&&Hp(this,i),r&&gp()},e}(),$p=function(e){function t(t,n,r,a){void 0===r&&(r="ObservableArray@"+xu()),void 0===a&&(a=!1);var i=e.call(this)||this,o=new zp(r,n,i,a);if(Ru(i,"$mobx",o),t&&t.length){var s=Vh(!0);i.spliceWithArray(0,0,t),Wh(s)}return qp&&Object.defineProperty(o.array,"0",Gp),i}return Zu(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return Xp(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),a=r.length,i=n;i<a;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,a=this.$mobx.values;r=e<t?nh(a.slice(0,e),a.slice(e+1,t+1),[a[e]],a.slice(t+1)):nh(a.slice(0,t),[a[e]],a.slice(t,e),a.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){Th(n.atom);var a=r[e];if(Rp(n)){var i=Ip(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,a))!==a&&(r[e]=t,n.notifyArrayChildUpdate(e,t,a))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(Wp);Vu($p.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return Wu({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty($p.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),ju($p.prototype,zu(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];Ou("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),ju($p.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){Ou("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),ju($p.prototype,e,(function(t,n){var r=this,a=this.$mobx;return a.atom.reportObserved(),a.dehanceValues(a.values)[e]((function(e,a){return t.call(n,e,a,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){ju($p.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,a,i){return a=n.dehanceValue(a),r(e,a,i,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)ju(e,t[n],e[t[n]])}($p.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Gp=Jp(0);function Jp(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Kp(e){Object.defineProperty($p.prototype,""+e,Jp(e))}function Qp(e){for(var t=Vp;t<e;t++)Kp(t);Vp=e}Qp(1e3);var Yp=Du("ObservableArrayAdministration",zp);function Xp(e){return Pu(e)&&Yp(e.$mobx)}var Zp={},ef=function(){function e(e,t,n){if(void 0===t&&(t=lh),void 0===n&&(n="ObservableMap@"+xu()),this.enhancer=t,this.name=n,this.$mobx=Zp,this._keysAtom=Ku(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Yh.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new zh(this._has(e),uh,this.name+"."+tf(e)+"?",!1);this._hasMap.set(e,r),Sp(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Rp(this)){var r=Ip(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((Th(this._keysAtom),Rp(this))&&!(a=Ip(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=hp(),r=Lp(this),a=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&fp(eh(eh({},a),{name:this.name,key:e})),jp((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Hp(this,a),n&&gp(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Yh.UNCHANGED){var r=hp(),a=Lp(this),i=a||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&fp(eh(eh({},i),{name:this.name,key:e})),n.setNewValue(t),a&&Hp(this,i),r&&gp()}},e.prototype._addValue=function(e,t){var n=this;Th(this._keysAtom),jp((function(){var r=new zh(t,n.enhancer,n.name+"."+tf(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=hp(),a=Lp(this),i=a||r?{type:"add",object:this,name:e,newValue:t}:null;r&&fp(eh(eh({},i),{name:this.name,key:e})),a&&Hp(this,i),r&&gp()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return Wu({next:function(){var n=t.next(),r=n.done,a=n.value;return{done:r,value:r?void 0:e.get(a)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return Wu({next:function(){var n=t.next(),r=n.done,a=n.value;return{done:r,value:r?void 0:[a,e.get(a)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,a){return e.call(t,n.get(a),a,n)}))},e.prototype.merge=function(e){var t=this;return nf(e)&&(e=e.toJS()),jp((function(){var n=Vh(!0);try{Mu(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=th(e,2),r=n[0],a=n[1];return t.set(r,a)})):Iu(e)?e.constructor!==Map?Cu("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&Cu("Cannot initialize map from "+e)}finally{Wh(n)}})),this},e.prototype.clear=function(){var e=this;jp((function(){Mh((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return jp((function(){var n=function(e){if(Iu(e)||nf(e))return e;if(Array.isArray(e))return new Map(e);if(Mu(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return Cu("Cannot convert to map from '"+e+"'")}(e),r=new Map,a=!1;if(Bu(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))a=!0;else{var i=t._data.get(e);r.set(e,i)}})),Bu(n.entries(),(function(e){var n=th(e,2),i=n[0],o=n[1],s=t._data.has(i);if(t.set(i,o),t._data.has(i)){var c=t._data.get(i);r.set(i,c),s||(a=!0)}})),!a)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var i=t._data.keys(),o=r.keys(),s=i.next(),c=o.next();!s.done;){if(s.value!==c.value){t._keysAtom.reportChanged();break}s=i.next(),c=o.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"==typeof r?r:tf(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Fu(this.keys()).map((function(t){return tf(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Fp(this,e)},e.prototype.intercept=function(e){return Dp(this,e)},e}();function tf(e){return e&&e.toString?e.toString():new String(e).toString()}Vu(ef.prototype,(function(){return this.entries()})),Ru(ef.prototype,zu(),"Map");var nf=Du("ObservableMap",ef),rf={},af=function(){function e(e,t,n){if(void 0===t&&(t=lh),void 0===n&&(n="ObservableSet@"+xu()),this.name=n,this.$mobx=rf,this._data=new Set,this._atom=Ku(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;jp((function(){Mh((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((Th(this._atom),Rp(this))&&!(a=Ip(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){jp((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=hp(),r=Lp(this),a=r||n?{type:"add",object:this,newValue:e}:null;0,r&&Hp(this,a)}return this},e.prototype.delete=function(e){var t=this;if(Rp(this)&&!(a=Ip(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=hp(),r=Lp(this),a=r||n?{type:"delete",object:this,oldValue:e}:null;return jp((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Hp(this,a),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Fu(this.keys()),n=Fu(this.values());return Wu({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=Fu(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),Wu({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return of(e)&&(e=e.toJS()),jp((function(){var n=Vh(!0);try{Array.isArray(e)||Lu(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&Cu("Cannot initialize set from "+e)}finally{Wh(n)}})),this},e.prototype.observe=function(e,t){return Fp(this,e)},e.prototype.intercept=function(e){return Dp(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Fu(this.keys()).join(", ")+" ]"},e}();Vu(af.prototype,(function(){return this.values()})),Ru(af.prototype,zu(),"Set");var of=Du("ObservableSet",af),sf=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var a=this.values[t];if(a instanceof $h)a.set(n);else{if(Rp(this)){if(!(s=Ip(this,{type:"update",object:r,name:t,newValue:n})))return;n=s.newValue}if((n=a.prepareNewValue(n))!==Yh.UNCHANGED){var i=Lp(this),o=hp(),s=i||o?{type:"update",object:r,oldValue:a.value,name:t,newValue:n}:null;o&&fp(eh(eh({},s),{name:this.name,key:t})),a.setNewValue(n),i&&Hp(this,s),o&&gp()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Rp(this))if(!(i=Ip(this,{object:t,name:e,type:"remove"})))return;try{tp();var n=Lp(this),r=hp(),a=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=n||r?{type:"remove",object:t,oldValue:a,name:e}:null;r&&fp(eh(eh({},i),{name:this.name,key:e})),n&&Hp(this,i),r&&gp()}finally{np()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Fp(this,e)},e.prototype.intercept=function(e){return Dp(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new $p(Object.keys(this.values).filter((function(t){return e.values[t]instanceof zh})),uh,"keys("+this.name+")",!0)),this.keys.slice()},e}();function cf(e,t,n){void 0===t&&(t=""),void 0===n&&(n=lh);var r=e.$mobx;return r||(Mu(e)||(t=(e.constructor.name||"ObservableObject")+"@"+xu()),t||(t="ObservableObject@"+xu()),Ru(e,"$mobx",r=new sf(e,t,n)),r)}var lf=Object.create(null),uf=Object.create(null);function hf(e){var t=e.$mobx;return t||(oh(e),e.$mobx)}var pf=Du("ObservableObjectAdministration",sf);function ff(e){return!!Pu(e)&&(oh(e),pf(e.$mobx))}function df(e,t){if("object"==typeof e&&null!==e){if(Xp(e))return void 0!==t&&Cu(!1),e.$mobx.atom;if(of(e))return e.$mobx;if(nf(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||Cu(!1),r)}var r;if(oh(e),t&&!e.$mobx&&e[t],ff(e))return t?((r=e.$mobx.values[t])||Cu(!1),r):Cu(!1);if(Ju(e)||Gh(e)||lp(e))return e}else if("function"==typeof e&&lp(e.$mobx))return e.$mobx;return Cu(!1)}var gf=Object.prototype.toString;function vf(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,a,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof n)return!1;t=mf(t),n=mf(n);var s=gf.call(t);if(s!==gf.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var c="[object Array]"===s;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,u=n.constructor;if(l!==u&&!("function"==typeof l&&l instanceof l&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);i=i||[];var h=(a=a||[]).length;for(;h--;)if(a[h]===t)return i[h]===n;if(a.push(t),i.push(n),c){if((h=t.length)!==n.length)return!1;for(;h--;)if(!e(t[h],n[h],r-1,a,i))return!1}else{var p=Object.keys(t),f=void 0;if(h=p.length,Object.keys(n).length!==h)return!1;for(;h--;)if(f=p[h],!yf(n,f)||!e(t[f],n[f],r-1,a,i))return!1}return a.pop(),i.pop(),!0}(e,t,n)}function mf(e){return Xp(e)?e.peek():Iu(e)||nf(e)||Lu(e)||of(e)?Fu(e.entries()):e}function yf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}if("object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:vp,extras:{getDebugName:function(e,t){return(void 0!==t?df(e,t):ff(e)||nf(e)||of(e)?function e(t,n){return t||Cu("Expecting some object"),void 0!==n?e(df(t,n)):Ju(t)||Gh(t)||lp(t)||nf(t)||of(t)?t:(oh(t),t.$mobx?t.$mobx:void Cu(!1))}(e):df(e)).name}},$mobx:"$mobx"}),!_e)throw new Error("mobx-react-lite requires React with Hooks support");if(!vp)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var bf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o};function _f(){var e=bf(_e(0),2)[1];return we((function(){e((function(e){return e+1}))}),[])}var wf={};var kf,Ef=(kf="observerBatching","function"==typeof Symbol?Symbol.for(kf):"__$mobx-react "+kf+"__");function Sf(e){e()}function Af(e){return Op(e)}var xf,Cf=1e4,Of=new Set;function Tf(){void 0===xf&&(xf=setTimeout(Nf,1e4))}function Nf(){xf=void 0;var e=Date.now();Of.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,Of.delete(t))})),Of.size>0&&Tf()}var Pf=!1,Mf=[];var jf={};function Rf(e){return"observer"+e}function Df(e,t,n){void 0===t&&(t="observed"),void 0===n&&(n=jf);var r,a=function(e){return function(){Pf?Mf.push(e):e()}}((n.useForceUpdate||_f)()),i=ve.useRef(null);if(!i.current){var o=new ip(Rf(t),(function(){s.mounted?a():(o.dispose(),i.current=null)})),s=function(e){return{cleanAt:Date.now()+Cf,reaction:e}}(o);i.current=s,r=i,Of.add(r),Tf()}var c=i.current.reaction;return ve.useDebugValue(c,Af),ve.useEffect((function(){var e;return e=i,Of.delete(e),i.current?i.current.mounted=!0:(i.current={reaction:new ip(Rf(t),(function(){a()})),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}}),[]),function(e){Pf=!0,Mf=[];try{var t=e();Pf=!1;var n=Mf.length>0?Mf:void 0;return ve.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{Pf=!1}}((function(){var t,n;if(c.track((function(){try{t=e()}catch(e){n=e}})),n)throw n;return t}))}var If=function(){return(If=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Lf(e,t){var n,r,a,i=If({forwardRef:!1},t),o=e.displayName||e.name,s=function(t,n){return Df((function(){return e(t,n)}),o)};return s.displayName=o,n=i.forwardRef?ke(Ee(s)):ke(s),r=e,a=n,Object.keys(r).forEach((function(e){Ff[e]||Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=o,n}var Ff={$$typeof:!0,render:!0,compare:!0,type:!0};function Hf(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:Df(r)}function Uf(e,t,n,r,a){var i="children"===t?"render":"children",o="function"==typeof e[t],s="function"==typeof e[i];return o&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):o||s?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}Hf.propTypes={children:Uf,render:Uf},Hf.displayName="Observer";!function(e){e||(e=Sf),xp({reactionScheduler:e}),("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:wf)[Ef]=!0}(wu);var Bf=0;var qf={};function Vf(e){return qf[e]||(qf[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+Bf+")";return Bf++,t}(e)),qf[e]}function Wf(e,t){if(zf(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!zf(e[n[a]],t[n[a]]))return!1;return!0}function zf(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function $f(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Gf=Vf("patchMixins"),Jf=Vf("patchedDefinition");function Kf(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t.locks++;try{var o;return null!=e&&(o=e.apply(this,a)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,a)}))}}function Qf(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Kf.call.apply(Kf,[this,e,t].concat(r))}}function Yf(e,t,n){var r=function(e,t){var n=e[Gf]=e[Gf]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[Jf]){var i=e[t],o=function e(t,n,r,a,i){var o,s=Qf(i,a);return(o={})[Jf]=!0,o.get=function(){return s},o.set=function(i){if(this===t)s=Qf(i,a);else{var o=e(this,n,r,a,i);Object.defineProperty(this,n,o)}},o.configurable=!0,o.enumerable=r,o}(e,t,a?a.enumerable:void 0,r,i);Object.defineProperty(e,t,o)}}var Xf=Vf("isMobXReactObserver"),Zf=Vf("isUnmounted"),ed=Vf("skipRender"),td=Vf("isForcingUpdate");function nd(e){var t=e.prototype;if(e[Xf]){var n=rd(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[Xf]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==ye)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==id)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=id;od(t,"props"),od(t,"state");var r=t.render;return t.render=function(){return ad.call(this,r)},Yf(t,"componentWillUnmount",(function(){var e;if(null===(e=this.render.$mobx)||void 0===e||e.dispose(),this[Zf]=!0,!this.render.$mobx){var t=rd(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function rd(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ad(e){var t=this;$f(this,ed,!1),$f(this,td,!1);var n=rd(this),r=e.bind(this),a=!1,i=new ip(n+".render()",(function(){if(!a&&(a=!0,!0!==t[Zf])){var e=!0;try{$f(t,td,!0),t[ed]||me.prototype.forceUpdate.call(t),e=!1}finally{$f(t,td,!1),e&&i.dispose()}}}));function o(){a=!1;var e=void 0,t=void 0;if(i.track((function(){try{t=function(e,t){var n,r=Vh(e);try{n=t()}finally{Wh(r)}return n}(!1,r)}catch(t){e=t}})),e)throw e;return t}return i.reactComponent=this,o.$mobx=i,this.render=o,o.call(this)}function id(e,t){return this.state!==t||!Wf(this.props,e)}function od(e,t){var n=Vf("reactProp_"+t+"_valueHolder"),r=Vf("reactProp_"+t+"_atomHolder");function a(){return this[r]||$f(this,r,Ku("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return Dh&&Ih&&(e=Dh(!0)),a.call(this).reportObserved(),Dh&&Ih&&Ih(e),this[n]},set:function(e){this[td]||Wf(this[n],e)?$f(this,n,e):($f(this,n,e),$f(this,ed,!0),a.call(this).reportChanged(),$f(this,ed,!1))}})}var sd="function"==typeof Symbol&&Symbol.for,cd=sd?Symbol.for("react.forward_ref"):"function"==typeof Ee&&Ee((function(e){return null})).$$typeof,ld=sd?Symbol.for("react.memo"):"function"==typeof ke&&ke((function(e){return null})).$$typeof;function ud(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),ld&&e.$$typeof===ld)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(cd&&e.$$typeof===cd){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Ee((function(){var e=arguments;return be(Hf,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(me,e)?nd(e):Lf(e)}if(!me)throw new Error("mobx-react requires React to be available");if(!wh)throw new Error("mobx-react requires mobx to be available");var hd=t(n((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports})));function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dd=function(){function e(){i(this,e)}return o(e,null,[{key:"linkify",value:function(e,t){var n=this;if(!e||!e.match)return e;var r=e.match(/(href *= *")?((https?:\/\/|ftp:\/\/|file:\/\/)|www)[-A-Z0-9+&@#\/%?=~_|!:,.;]+/gi);return r&&r.forEach((function(r){if(!r.includes("href")){var a='<a href="'+n.addTags(r,t)+'" target="_blank">'+r+"</a>";e=e.replace(r,a)}})),e}},{key:"addTags",value:function(e,t){var n=e.match(/\b(http|https)/g),r=Alphachat.config.UTM_Tags,a=e.split("#"),i=a[1]?"#".concat(a[1]):"";if(e=a[0],n=n?"":"https://","enduser"===t)return"".concat(n).concat(e);"agent"===t&&(r=fd(fd({},r),{},{utm_source:"agent-link"}));var o=e;if(r&&Object.keys(r).length>0){var s=!0;e.includes("?")||(o=e.concat("?"),s=!1),Object.assign(r,{utm_content:window.location.pathname}),Object.entries(r).forEach((function(e,t){o=0!==t||s?o.concat("&".concat(e[0],"=").concat(e[1])):o.concat("".concat(e[0],"=").concat(e[1]))}))}return"".concat(n).concat(o).concat(i)}}]),e}();function gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var vd,md=function(e){c(n,e);var t=gd(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){return ve.createElement("div",{className:"loading-dots"},ve.createElement("div",{className:"loading-dots--dot"}),ve.createElement("div",{className:"loading-dots--dot"}),ve.createElement("div",{className:"loading-dots--dot"}))}}]),n}(ve.PureComponent);function yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var bd=ud(vd=function(e){c(n,e);var t=yd(n);function n(e){var r;i(this,n);var a=(r=t.call(this,e)).props.btnValue;return r.state={value:a,selected:"",hover:!1},r}return o(n,[{key:"onMouseEnterHandler",value:function(){this.setState({hover:!0})}},{key:"onMouseLeaveHandler",value:function(){this.setState({hover:!1})}},{key:"onClick",value:function(e){this.setState({selected:"selected"}),this.props.onClick(e)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.selected,r=this.props,a=r.href,i=r.icon,o=r.download,s=r.index,c=r.menu,l=(this.props.settings||{}).input,u=void 0===l||l,h=!(c||Alphachat.currentAgent&&"bot"===Alphachat.currentAgent.type&&u&&!this.props.disabled);return i?ve.createElement("a",{disabled:h?"disabled":"",onMouseEnter:this.onMouseEnterHandler.bind(this),onMouseLeave:this.onMouseLeaveHandler.bind(this),className:"alphachat-chat-quick-button ".concat(n," button-index-").concat(s).concat(h?" disabled":""),onClick:this.onClick.bind(this),href:a,download:o},i.length>2?ve.createElement(ve.Fragment,null,ve.createElement("div",{class:"vertical-center-icon"},ve.createElement("span",{class:"".concat(i)})),ve.createElement("div",{class:"vertical-center-text"},ve.createElement("span",{class:"text"},t))):ve.createElement(ve.Fragment,null,ve.createElement("span",{class:"icon"},i),ve.createElement("div",{class:"vertical-center-text"},ve.createElement("span",{class:"text"},t)))):ve.createElement("a",{disabled:h?"disabled":"",onMouseEnter:this.onMouseEnterHandler.bind(this),onMouseLeave:this.onMouseLeaveHandler.bind(this),className:"alphachat-chat-quick-button ".concat(n).concat(h?" disabled":""),onClick:this.onClick.bind(this)},t)}}]),n}(me))||vd;function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kd=function(){function e(){i(this,e)}return o(e,null,[{key:"Fire",value:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:wd({},t)}))}},{key:"FireAsync",value:function(e,t){return new Promise((function(n){var r="".concat(e,"-callback");document.dispatchEvent(new CustomEvent(e,{detail:wd(wd({},t),{},{callback:r})})),document.addEventListener(r,(function(e){return n(e)}),{once:!0})}))}},{key:"OnEvent",value:function(e,t){document.addEventListener(e,t),document.addEventListener("alphachatWidgetErase",(function(){return document.removeEventListener(e,t)}))}}]),e}(),Ed=k.client("alphachat-v2 Application/utility/report.js"),Sd=function(){var e=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Alphachat&&Alphachat.config&&Alphachat.config.agentServer)){e.next=4;break}if(n="".concat(Alphachat.config.agentServer,"/report"),!Alphachat||!Alphachat.api){e.next=4;break}return e.abrupt("return",Alphachat.api.post(n,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ad=function(e,t){try{var n=Alphachat.user.page_info.url,r=Alphachat.user.enduser_id,a={enduser_id:r,sender_id:r,sender_role:"enduser",event:"generic",data:{event:"widgetDebugEvent",context:e,enduser_id:r,url:n}};t&&(a.data.data=t),Sd(a)}catch(e){}},xd={proactiveOffer:function(){var e=Alphachat.user.enduser_id,t=Alphachat.user.page_info.url;e&&t?Sd({enduser_id:e,sender_id:e,sender_role:"enduser",event:"proactiveOffer",data:{enduser_id:e,url:t}}):Ed.warn('{proactiveOffer} Missing "enduser_id" or "url"')},debug:function(e,t){try{var n=Alphachat.user.page_info.url,r=Alphachat.user,a=r.enduser_id,i=r.active_agent,o=r.is_open,s=r.form,c=r.popup_sequence_in_progress,l=r.proactive_served,u=r.rating_served,h=r.old_enduser_id,p=r.os,f=r.device,d=r.browser,g=r.language,v=r.custom_attributes,m={enduser_id:a,sender_id:a,sender_role:"enduser",event:"generic",data:{event:"widgetDebugEvent",context:e,enduser_id:a,url:n,currentAgentType:Alphachat.currentAgent&&Alphachat.currentAgent.type,agentState:Alphachat.state.agent,config:Alphachat.config,configsApplied:Alphachat.configsApplied,widgetUrl:Alphachat.widgetUrl,configUrl:Alphachat.configUrl,messagesLength:Alphachat.state.messages&&Alphachat.state.messages.length,refreshInProgress:Alphachat.refreshInProgress,initInProgress:Alphachat.currentAgent.initInProgress,user:{is_open:o,active_agent:i,form:s,popup_sequence_in_progress:c,proactive_served:l,rating_served:u,old_enduser_id:h,os:p,device:f,browser:d,language:g,custom_attributes:v}}};t&&(m.data.data=t),Sd(m)}catch(t){Ad(e,{crashed:!0})}},debugMinimal:Ad,report:Sd};function Cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Od,Td=function(e){c(n,e);var t=Cd(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={currentSlide:0},r}return o(n,[{key:"handleChange",value:function(e){e<0||this.props.references.length-1<e||this.setState({currentSlide:e})}},{key:"render",value:function(){var e=this.state.currentSlide,t=this.props.references;return ve.createElement("div",{className:"alphachat-chat-message-references"},t.map((function(t,n){return ve.createElement("div",{key:n,className:"alphachat-chat-message-references-inner",style:{display:e===n?"flex":"none"}},ve.createElement("span",{className:"alphachat-chat-message-references-title"},t.title),ve.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}}),ve.createElement("a",{href:t.link,className:"alphachat-chat-message-references-link",target:"_blank"},"Reference"))})),ve.createElement("div",{onClick:this.handleChange.bind(this,e-1),className:"alphachat-chat-message-references-arrows arrow-left ".concat(0===e?"arrow-disabled":"")}),ve.createElement("div",{onClick:this.handleChange.bind(this,e+1),className:"alphachat-chat-message-references-arrows arrow-right ".concat(t.length-1===e?"arrow-disabled":"")}))}}]),n}(me);function Nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Pd=ud(Od=function(e){c(n,e);var t=Nd(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"reportButtonPressed",value:function(e){var t=Alphachat.user.enduser_id,n=(e.url,e.payload,e.title,Alphachat.user.page_info.url),r={enduser_id:t,sender_id:t,sender_role:"enduser",event:"buttonPress",data:{enduser_id:t,ip_address:Alphachat.user.location.ip||"",url:n,value:e.payload||e.url||e.title}};xd.report(r)}},{key:"onRouterButtonClick",value:function(e){if(e.payload&&"function"==typeof e.payload)e.payload();else{if(Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({type:"report",payload:{trigger:"button",button:e}}),kd.Fire("on-alphachat-conversation-click-button"),e.payload){if(Alphachat.currentAgent&&"chat"===Alphachat.currentAgent.type)return;try{var t=JSON.parse(e.payload);return void Alphachat.client.JSCall({js:t})}catch(t){e.payload.match(/^#.*/gm)?location.hash=e.payload:Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({type:"payload",role:"enduser",message:e.title,payload:{trigger:"button",router:e.payload}})}}if(e.url)if(e.url.match(/^https?:\/\/#.+/gm))location.hash="#"+e.url.split("#").pop();else{var n=e.url;if(!1===e.blank)window.location.href=n;else{var r=window.open(n,"_blank");r&&r.focus()}}this.reportButtonPressed(e)}}},{key:"onQuickButtonClick",value:function(e){Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({type:"message",role:"enduser",trigger:"quick",message:e.value,old_uuid:e.message_id}),kd.Fire("on-alphachat-conversation-click-button")}},{key:"detectLinks",value:function(e,t){var n=e.replace(/\n/g,"<br>");return ve.createElement("span",null,ve.createElement("div",{dangerouslySetInnerHTML:{__html:dd.linkify(n,t)}}))}},{key:"toggleImage",value:function(){Alphachat.client.widget.shadowRoot.querySelector("#alphachat").classList.toggle("alphachat-image-full-screen")}},{key:"render",value:function(){var e=this,t=this.props.message,n=t.quick,r=t.value,a=t.button,i=t.image,o=t.uuid,s=t.role,c=t.references;return this.props.seen||"bot"!==s?ve.createElement("div",{className:"alphachat-chat-message-text"},i&&ve.createElement("div",{onClick:this.toggleImage,className:"alphachat-chat-text-image"},ve.createElement("img",{src:i})),r&&ve.createElement("div",{className:"alphachat-chat-message-text-value"},this.detectLinks(r,s),(null==c?void 0:c.length)>0&&ve.createElement(Td,{references:c})),n&&n.length>0&&ve.createElement("div",{className:"alphachat-chat-window-quick "+(n.length<=2?"quick-horizontal":"quick-vertical")},n.map((function(t,n){return ve.createElement(bd,{settings:e.props.settings,index:n,key:n+"_button_"+t,btnValue:t,onClick:e.onQuickButtonClick.bind(e,{value:t,uuid:o})})}))),a&&a.length>0&&ve.createElement("div",{className:"alphachat-chat-window-quick quick-vertical"},a.map((function(t,n){return ve.createElement(bd,{settings:e.props.settings,index:n,key:n+"_button_"+t.title,btnValue:t.title,disabled:t.disabled,menu:e.props.menu,icon:t.icon,href:t.href,download:t.download,onClick:e.onRouterButtonClick.bind(e,t)})})))):ve.createElement(md,null)}}]),n}(me))||Od;function Md(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var jd=k.client("alphachat-v2 Application/webcomponents/dialog.js"),Rd=function(e){c(n,e);var t=Md(n);function n(){var e;return i(this,n),(e=t.call(this)).ready=e.ready.bind(p(e)),e.closeRatingForm=e.closeRatingForm.bind(p(e)),e.ShowMenu=e.ShowMenu.bind(p(e)),e}return o(n,[{key:"shouldShowRating",value:function(){return Alphachat.state.info.hasUserInteracted&&Alphachat.config.forms.rating&&Alphachat.config.forms.rating.enabled&&Alphachat.currentAgent&&!0===Alphachat.currentAgent.config.rating&&"1"!==Alphachat.getSessionCookieElement("rating_served")}},{key:"ready",value:function(e,t){var n=!0,r={};"alphachat-form-button"!==t?(n=e.target.getAttribute("data-type"),r={type:JSON.parse(n),name:e.target.innerText}):r=e.detail;var a=new CustomEvent("alphachat-dialog-submit",{detail:r});this.dispatchEvent(a)}},{key:"closeRatingForm",value:function(){this.querySelector("#alphachat-form-container").remove(),this.querySelector("#alphachat-dialog-ratingForm").remove(),this.ShowQuestion()}},{key:"connectedCallback",value:function(){this.appendChild(this.render()),this.button?this.ShowMenu(this.button):this.shouldShowRating()&&this.querySelector("#alphachat-dialog-ratingForm")?(this.ShowClose(),this.ShowRating()):this.ShowQuestion()}},{key:"ShowClose",value:function(){var e='<span  id="alpha-chat-close-dark"/>'.html();e.onclick=this.closeRatingForm,this.querySelector("#alphachat-dialog-ratingForm").appendChild(e)}},{key:"ShowRating",value:function(){var e=this,t=Alphachat.config.forms.rating,n=Alphachat.state.translations.forms,r='<form-element title="'.concat(n.rating.title,'" submit="').concat(n.rating.submit,'" name="rating"></form-element><br/>').html();r.inputs=t.values||[],r.scale=t.scale,r.addEventListener("alphachat-form-button",(function(t){e.ShowQuestion(),e.querySelector("#alphachat-dialog-ratingForm").remove()})),this.querySelector("#alphachat-dialog-ratingForm").appendChild(r),Alphachat.setSessionCookieElement({rating_served:"1"})}},{key:"ShowQuestion",value:function(){var e=this;if(this.questions){var t='<div id="alphachat-dialog-title">'.concat(this.getAttribute("name"),"</div>").html();this.querySelector("#alphachat-dialog").appendChild(t),this.querySelector("#alphachat-dialog").appendChild('<div id="alphachat-dialog-entries"></div>'.html()),this.questions.forEach((function(t){var n='<div data-type="'.concat(t.type,'" class="alpha-chat-dialog-question"> ').concat(t.name," </div>").html();n.onclick=e.ready,e.querySelector("#alphachat-dialog-entries").appendChild(n)}));var n=this.querySelector("#alpha-chat-close-dark");n&&n.remove()}else jd.warn("{Dialog.ShowQuestion} Please provide questions")}},{key:"ShowMenu",value:function(e){var t=this,n=Alphachat.state.translations.menu||{},r=(n.title,n.enter_email),a=void 0===r?"Enter email":r,i='<span id="alphachat-dialog-header-close"></span>'.html(),o='<div id="alphachat-dialog-header"></div>'.html(),s=this.querySelector("#alphachat-dialog-menu");if(i.onclick=function(){return t.remove()},o.appendChild(i),s.appendChild(o),Alphachat.config&&Alphachat.config.menu&&Alphachat.config.menu.email){var c='<div class="enter-email"></div>'.html(),l='<input type="email" required placeholder="'.concat(a,'" ></input>').html();Alphachat.user.email&&(l.value=Alphachat.user.email),l.onfocus=function(){l.parentNode.style.borderWidth="2px"},l.onblur=function(){l.parentNode.style.borderWidth="1px"},c.appendChild(l),c.appendChild('<span class="alphablues-form-input-error" />'.html()),s.appendChild(c);var u='<div id="send-email-status"></div>'.html();s.appendChild(u),_(s,l)}s.appendChild('<div id="alphachat-dialog-entries" class="menu"></div>'.html());var h=this.querySelector("#alphachat-dialog-entries.menu");_u.render(ve.createElement(Pd,{message:{button:e},seen:!0,menu:!0}),h),s.appendChild('<div id="alphachat-dialog-footer"><a href="https://www.alphachat.ai">Powered by <span class="alpha">Alpha</span><span class="blues">Chat™️</span></a></div>'.html())}},{key:"render",value:function(){var e="<span></span>";this.shouldShowRating()&&(e='<span id="alphachat-dialog-ratingForm"></span>');var t=this.button?"-menu":"";return'<section class="scale-in-center" id="alphachat-dialog'.concat(t,'">\n       ').concat(e,"\n      </section>").html()}}]),n}(b(HTMLElement));function Dd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}customElements.get("dialog-element")||customElements.define("dialog-element",Rd);var Id={true:"chat",false:"bot"},Ld=function(e){c(n,e);var t=Dd(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"connectedCallback",value:function(){this.appendChild(this.render()),this.querySelector("#switch").onchange=function(e){var t=e.target.checked;Alphachat.state.agent.type!==Id[t]&&Alphachat.SetAgent(Id[t]).catch((function(t){e.target.checked=!e.target.checked}))}}},{key:"render",value:function(){var e=Alphachat.config.agentSwitcher&&Alphachat.config.agentSwitcher.bot?Alphachat.config.agentSwitcher.bot:"AI Help",t=Alphachat.config.agentSwitcher&&Alphachat.config.agentSwitcher.human?Alphachat.config.agentSwitcher.human:"Live Chat";return'<section id="alphachat-agent-switcher">\n                <span>'.concat(e,'</span>\n                <input type="checkbox" id="switch" class="ui-switch-input">\n                <label class="ui-switch" for="switch"></label>\n                <span>').concat(t,"</span>\n              </section>").html()}}]),n}(b(HTMLElement));customElements.get("agentswitcher-plugin")||customElements.define("agentswitcher-plugin",Ld);var Fd=n((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Fd);var Hd=n((function(e){e.exports=function(e){if(Array.isArray(e))return Fd(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Hd);var Ud=n((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Ud);var Bd=n((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return Fd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fd(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Bd);var qd=n((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));t(qd);var Vd=t(n((function(e){e.exports=function(e){return Hd(e)||Ud(e)||Bd(e)||qd()},e.exports.__esModule=!0,e.exports.default=e.exports})));function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var zd=k.client("alphachat-v2 Application//webcomponents/widget.js"),$d=function(e){c(l,e);var t,n,s=Wd(l);function l(){var e;return i(this,l),(e=s.call(this)).attachShadow({mode:"open"}),e.style.display="none",e.openCloseTransitionSpeed=200,e.ScrollToBottom=e.ScrollToBottom.bind(p(e)),e.ShowMenu=e.ShowMenu.bind(p(e)),e.ApplyStyles.bind(p(e)),e}return o(l,[{key:"ApplyStyles",value:function(){var e=this;if(this.shadowRoot){var t=[],n="";Alphachat&&Alphachat.config&&(t=Alphachat.config.styles?Vd(Alphachat.config.styles):[],Alphachat.config.inlineStyle&&(n=Alphachat.config.inlineStyle),Alphachat.config.appendStyles&&Alphachat.config.appendStyles.length&&(t=t.concat(Alphachat.config.appendStyles)));var r=document.createElement("style");t?(zd.debug("{widget.ApplyStyles} Applying styles: ".concat(t.join(" "))),r.textContent=t.map((function(e){return'@import "'.concat(e,'";')})).join(" ")+(n||""),this.shadowRoot.appendChild(r),r.onload=function(){return e.style.display="grid"}):console.warn("Please add styles array to widget settings")}}},{key:"ClearChildren",value:function(){var e=this.shadowRoot.querySelector("#alpha-chat-form-container");e&&(e.innerHTML="")}},{key:"ShowGreeting",value:function(){var e=this.shadowRoot.querySelector("#alpha-chat-launcher-description");e&&(e.style.display="flex")}},{key:"AddPlugin",value:function(e){var t="<".concat(e,"-plugin></").concat(e,"-plugin>").html();this.shadowRoot.children[0].append(t)}},{key:"SetGreetingBackground",value:function(){this.shadowRoot.querySelector("#alpha-chat-launcher-button").style.backgroundImage='url("'.concat(Alphachat.config.avatar,'")')}},{key:"ScrollToBottom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.shadowRoot.querySelector("#alpha-chat-messages-container");if(!r&&n<5)setTimeout(this.ScrollToBottom,200,e,t,n+1);else{var a=r.scrollHeight-r.clientHeight,i=a;e&&(i=Math.min(a,e)),r.scrollTop=i}}},{key:"GetScrollTop",value:function(){var e=this.shadowRoot.querySelector("#alpha-chat-messages-container");if(e){var t=e.scrollTop;return this.settings&&this.settings.setLastScrollPosition(t),t}}},{key:"GetScrollBottom",value:function(){var e=this.shadowRoot.querySelector("#alpha-chat-messages-container");if(e){var t=e.scrollTop+e.clientHeight;return this.settings&&this.settings.setLastScrollPosition(t),t}}},{key:"ResetLastScrollPosition",value:function(){this.settings&&(this.settings.lastScrollPosition=void 0)}},{key:"lastScrollPosition",get:function(){if(this.settings)return this.settings.lastScrollPosition}},{key:"isScrolledToBottom",get:function(){var e=this.shadowRoot.querySelector("#alpha-chat-messages-container");if(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.clientHeight,a=void 0===r?0:r,i=e.scrollHeight;return n+a+10>=(void 0===i?0:i)}}},{key:"isCaptchaEnabled",get:function(){return Alphachat.config&&Alphachat.config.recaptcha&&Alphachat.config.recaptcha.enabled}},{key:"ShowDialog",value:function(){for(var e=this;this.shadowRoot.querySelector("dialog-element");)this.shadowRoot.querySelector("dialog-element").remove();return new Promise((function(t){var n=Alphachat.state.translations,r=n.yes,a=n.no,i=n.close_dialog_title,o='<dialog-element class="dialog-element" name="'.concat(i,'"></dialog-element>').html();o.questions=[{name:r,type:!0},{name:a,type:!1}],o.addEventListener("alphachat-dialog-submit",(function(e){o.remove(),t(e.detail)})),e.shadowRoot.querySelector("#alphachat").appendChild(o)}))}},{key:"ShowMenu",value:(n=r(a.mark((function e(){var t,n,i,o,s,c,l,u,h,p,f,d,g,v=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Alphachat.state.translations.menu||{},n=t.send_transcript_to_email,i=void 0===n?"Send transcript to email":n,o=t.start_new_chat,s=void 0===o?"Start new chat":o,c=t.back_to_chat,l=void 0===c?"Back to chat":c,u=t.download_transcript,h=void 0===u?"Download transcript":u,p='<dialog-element class="dialog-element"></dialog-element>'.html(),f=function(){var e=r(a.mark((function e(t){var n,r,i,o,s,c,l,u,h;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.querySelector("#alphachat-dialog-menu .enter-email input")){e.next=6;break}r=(new Date).toDateString().replace(/ /gi,"-"),Alphachat.api.get("".concat(Alphachat.config.agentServer,"/send_transcript?offset_hours=").concat((new Date).getTimezoneOffset()/60),"Chat Transcript ".concat(r,".html")),e.next=26;break;case 6:if(i=Alphachat.state.translations.menu,o=void 0===i?{}:i,s=p.querySelector("#send-email-status"),window.grecaptcha&&window.grecaptcha.getResponse&&!Alphachat.client.widget.captchaResponse&&(Alphachat.client.widget.captchaResponse=window.grecaptcha.getResponse()),!n.value||!n.value.match(/.+@.+\..+/)){e.next=21;break}if(!v.isCaptchaEnabled||Alphachat.client.widget.captchaResponse){e.next=12;break}return e.abrupt("return");case 12:return(c=Alphachat.client.widget.captchaResponse)&&delete Alphachat.client.widget.captchaResponse,o.send_transcript_to_email_sending&&(s.textContent=o.send_transcript_to_email_sending),e.next=17,Alphachat.api.post("".concat(Alphachat.config.agentServer,"/send_transcript"),{offset_hours:(new Date).getTimezoneOffset()/60,email:n.value,captcha_response:c});case 17:(l=e.sent)&&"ok"===l.status?(s.classList.remove("fail"),s.classList.add("success"),o.send_transcript_to_email_success&&(s.textContent=o.send_transcript_to_email_success),zd.debug("Sending transcript to email succeeded")):(s.classList.remove("success"),s.classList.add("fail"),o.send_transcript_to_email_fail&&(s.textContent=o.send_transcript_to_email_fail),zd.debug("Sending transcript to email failed")),e.next=26;break;case 21:u=n.parentNode.style.borderColor,h=void 0===u?"":u,o.invalid_email&&(s.textContent=o.invalid_email),n.parentNode.style.borderColor="red",s.classList.add("fail"),setTimeout((function(){n.parentNode.style.borderColor=h,s.textContent="",s.classList.remove("fail")}),5e3);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){p.remove()},g=function(){p.remove(),Alphachat.client.closeChat(),document.addEventListener("alphachat-enable",(function(e){setTimeout(Alphachat.client.openChat,500)}),{once:!0})},p.button=[{title:i,icon:"alphachat-menu-icon envelope",payload:f,disabled:"disabled"},{title:s,icon:"alphachat-menu-icon bubble",payload:g},{title:l,icon:"alphachat-menu-icon exit",payload:d}],Alphachat.config&&Alphachat.config.menu&&Alphachat.config.menu.email||(p.button[0]={title:h,icon:"alphachat-menu-icon download",payload:f}),this.shadowRoot.querySelector("#alphachat").appendChild(p);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"changeVisible",value:function(e){var t=this.shadowRoot.querySelector("#alpha-chat-messages-container"),n=this.shadowRoot.querySelector("#alpha-chat-container-head"),r=this.shadowRoot.querySelector("#alpha-chat-input-container"),a=this.shadowRoot.querySelector("#alpha-chat-footer"),i=this.shadowRoot.querySelector("#alpha-chat-input-text"),o=this.shadowRoot.querySelector("#alpha-chat-input-submit");"hidden"===e&&(r&&(r.style.transition="none"),r&&(r.style.visibility="hidden"),o&&(o.style.transition="none"),o&&(o.style.visibility="hidden"),i&&(i.style.transition="none"),i&&(i.style.visibility="hidden"),t&&(t.style.visibility="hidden"),n&&(n.style.visibility="hidden"),a&&(a.style.visibility="hidden")),"visible"===e&&(r&&(r.style.visibility="visible"),r&&(r.style.transition=".2s ease-in-out;"),o&&(o.style.visibility="visible"),o&&(o.style.transition=".2s ease-in-out;"),i&&(i.style.visibility="visible"),i&&(i.style.transition=".2s ease-in-out;"),t&&(t.style.visibility="visible"),n&&(n.style.visibility="visible"),a&&(a.style.visibility="visible"))}},{key:"Open",value:function(e){var t=this;e&&e.setOpen(!0),e&&e.setHideCloseLauncher(!0);var n=this.shadowRoot.querySelector("#alphachat");this.changeVisible("hidden"),n.style.opacity="0.5",n.classList.remove("alpha-chat-closed"),n.classList.add("alpha-chat-open"),n.classList.add("fade-in-top"),setTimeout((function(){n.classList.remove("fade-in-top"),n.removeAttribute("style"),n.style.opacity="1",t.changeVisible("visible")}),2*this.openCloseTransitionSpeed)}},{key:"Hide",value:function(e){e&&e.setOpen(!1);var t=this.shadowRoot.querySelector("#alphachat");t.style.opacity="0.5",t.classList.add("fade-out-top"),t.classList.remove("alpha-chat-open"),this.changeVisible("hidden"),setTimeout((function(){t.classList.remove("fade-out-top"),t.classList.add("alpha-chat-closed"),t.style.opacity="1",e&&e.setHideCloseLauncher(!1)}),2*this.openCloseTransitionSpeed)}},{key:"ShowForm",value:(t=r(a.mark((function e(t){var n,r,i,o=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Alphachat.client.getVisibleFormName(),t&&t!==n){e.next=3;break}return e.abrupt("return");case 3:if(zd.debug('{ShowForm} type="'.concat(t,'"')),n&&Alphachat.client.removeForms(),r=Alphachat.config.forms[t],i=!0,!r.js||!r.js.apicall){e.next=10;break}return e.next=10,Alphachat.client.JSCall(r.js);case 10:return e.abrupt("return",new Promise((function(e){var n=r&&r.values||[];if(!1===r.disable_input&&(i=!1),!r)return zd.warn('{ShowForm} form "'.concat(t,'" not found in configs.')),void e("error");var a=Alphachat.state.translations.forms;if(!a[t])return zd.warn('{ShowForm} form "'.concat(t,'" does not have translations in config.')),zd.debug(a),void e("error");if(Alphachat.user.SetForm(t,"ShowForm"),Alphachat.state.setForm(t),r.override&&r.override in Alphachat.config.forms&&(Alphachat.config.forms[r.override].enabled=!1),r.skip_if_data_exists&&n.map((function(e){return!e.required||!!(e.required&&e.key&&e.key in Alphachat.user&&Alphachat.user[e.key])})).every((function(e){return e}))){var s={};return n.forEach((function(e){e.key&&(s[e.key]=Alphachat.user[e.key])})),zd.debug('{ShowForm} resolving form "'.concat(t,'", because required inputs exist')),void e(s)}i&&kd.Fire("alphachat-disable");var c=o.shadowRoot.querySelector("#alpha-chat-form-container"),l='<form-element title="'.concat(a[t].title,'" submit="').concat(a[t].submit,'" name="').concat(t,'"></form-element>').html();l.inputs=r.values||[],l.scale=r.scale,Alphachat.client.removeForm=function(){Alphachat.client.removeForm&&delete Alphachat.client.removeForm,l.remove(),Alphachat.user&&Alphachat.user.SetForm(null,"Alphachat.client.widget.ShowForm"),Alphachat.state.setForm()},l.addEventListener("alphachat-form-submit",(function(n){Alphachat.client.removeForm?Alphachat.client.removeForm():Alphachat.client.removeForms(!1,!1),zd.debug('EVENT alphachat-form-submit: resolving form "'.concat(t,'" event.detail=').concat(JSON.stringify(n.detail))),e(n.detail),!i||t.includes("offline")&&Alphachat.currentAgent&&"agent"==Alphachat.currentAgent.type&&0==Alphachat.currentAgent.config.fallback||kd.Fire("alphachat-enable")})),l.addEventListener("alphachat-form-abort",(function(t){e("form-abort")})),c.appendChild(l);var u={};l.inputs.forEach((function(e){e.key&&e.key in Alphachat.user&&Alphachat.user[e.key]&&(u[e.key]=Alphachat.user[e.key])})),l.SetValues(u),setTimeout((function(){o.ScrollToBottom(void 0,"widget.ShowForm")}),500)})));case 11:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),l}(b(HTMLElement));customElements.get("alpha-chat")||customElements.define("alpha-chat",$d);var Gd=function(e){if("string"!=typeof e)return e;var t,n=[RegExp("<[a-z0-9_]+>","ig"),RegExp("\\$\\{[a-z0-9_]+\\}","ig")],r=e,a=window.Alphachat&&window.Alphachat.session?window.Alphachat.session:{},i=[];n.forEach((function(n){do{if(t=n.exec(e)){var r=t[0].replace("$","").replace("{","").replace("}","").replace("<","").replace(">","");r in a&&i.push({key:r,match:t[0]})}}while(t)}));var o=1;if(i.forEach((function(e){e.key in a&&Array.isArray(a[e.key])&&a[e.key].length>o&&(o=a[e.key].length)})),o>1){for(var s=new Array(o),c=0;c<o;++c)s[c]=(" "+r).slice(1);s=s.map((function(e,t){return i.forEach((function(n){var r=a[n.key].length>1&&t<a[n.key].length?a[n.key][t]:a[n.key];e=e.replace(n.match,r)})),e})),r=s.join("<p>")}else i.forEach((function(e){r=r.replace(e.match,a[e.key])}));return r},Jd=function(e){var t=new RegExp(e,"gi");return window.location.href.match(t)};function Kd(e,t){return new Promise((function(n){var r=setTimeout((function(){return n()}),e||0);t||Alphachat.timer.push(r)}))}function Qd(e,t){return Yd.apply(this,arguments)}function Yd(){return(Yd=r(a.mark((function e(t,n){var r,i,o,s=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:200,i=s.length>3&&void 0!==s[3]?s[3]:0,o=0,e.abrupt("return",new Promise((function(e,a){var s=setInterval((function(){o+=1,t[n]?(e(t[n]),clearInterval(s)):i&&o*r>i&&(clearInterval(s),a(t[n]))}),r)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xd(e){return e===parseInt(e,10)}var Zd={"add item":{route:"/item/add"},sync:{route:"/sync",method:"get"},"reload client":{route:"/reload-client",method:"get"},"message seen by recipient":{route:"/item/seen"}},eg=function(){var e=r(a.mark((function e(t,n){var r,i,o,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||(n=window.Alphachat),!t){e.next=16;break}if(!(n&&n.connection&&n.connection.isWebsocketOpen)){e.next=6;break}n.connection.send(t),e.next=16;break;case 6:if(r=Zd[t.action]||Zd["add item"],i=r.route,o=r.method,s=void 0===o?"post":o,!(i&&n&&n.config&&n.config.agentServer)){e.next=16;break}c="".concat(n.config.agentServer).concat(i),t.sender_role||(t.sender_role="enduser"),e.t0=s,e.next="post"===e.t0?13:"get"===e.t0?14:15;break;case 13:return e.abrupt("return",n.api.post(c,t));case 14:return e.abrupt("return",n.api.get(c));case 15:return e.abrupt("break",16);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function tg(e,t){return ng.apply(this,arguments)}function ng(){return(ng=r(a.mark((function e(t,n){var r,i,o,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n||(n=Alphachat.user),r=n.enduser_id,i=Alphachat.state.agent.messageId,t.message_id||("attachment"===t.type?i=Alphachat.createMessageId():i||t.silent||(i=Alphachat.createMessageId())),o=t.message_id,s=void 0===o?i:o,"add item"!==(c={action:t.action||"add item",enduser_id:r,sender_id:t.sender_id||r,sender_role:t.role||t.sender_role||"enduser",item_type:"payload"===t.type?"message":t.item_type||t.type,value:t.value||t.message,user_profile:n.profile(),message_id:s}).action||c.item_type||(c.item_type="message"),"intent"in t&&(c.intent=t.intent),"payload"in t&&(c.payload=t.payload),"translation"in t&&(c.translation=t.translation),"delta"in t&&(c.delta=t.delta),"attachment"==t.type||t.silent||"add item"!==c.action||Alphachat.createMessageId(!0),e.abrupt("return",eg(c,Alphachat));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rg(e,t){return ag.apply(this,arguments)}function ag(){return(ag=r(a.mark((function e(t,n){var r,i,o,s,c,l;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n=window.Alphachat.user),r=n.enduser_id,i=t.text,o=t.message_id,s=["button","quick","video","image","carousel","intent","id","script","js","bot"],c=Object.keys(t).filter((function(e){return s.includes(e)})).reduce((function(e,n){return e[n]=t[n],e}),{}),l={action:"add item",enduser_id:r,sender_id:"bot",sender_role:"bot",sender_name:Alphachat.currentAgent&&Alphachat.currentAgent.config.title||Alphachat.bot.config.title||"",item_type:"message",seen_by_recipient:!0,message_id:o,value:i,page_info:n.page_info,user_profile:n.profile(),payload:c},e.abrupt("return",eg(l,Alphachat));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ig(e,t){if(t||(t=window.Alphachat&&window.Alphachat.config||{}),t.agents){if(e in t.agents)return t.agents[e];if("bot"==e){if("alpha-bot"in t.agents)return t.agents["alpha-bot"]}else if("chat"==e&&"alpha-chat"in t.agents)return t.agents["alpha-chat"]}return{}}var og=function(e,t){if(!e||!t)return!1;if(!e.length)return!t.length;var n=[function(e){return"handover"===e.item_type},function(e){return"form"===e.item_type},function(e){return!("message"!==e.item_type||e.value||e.button&&e.button.length||e.quick&&e.quick.length||!e.js)},function(e){return!("message"!==e.item_type||!e.payload||"button"!==e.payload.trigger)}],r=e.map((function(e){return e.message_id}));return t.filter((function(e){return n.map((function(t){return t(e)})).every((function(e){return!1===e}))})).map((function(e){return e.message_id})).map((function(e){return r.includes(e)})).every((function(e){return e}))},sg=o((function e(){var t=this;i(this,e),this.isEnabled=!0;try{localStorage.getItem("dummy")}catch(e){this.isEnabled=!1}this.getItem=function(e){if(t.isEnabled)return window.localStorage.getItem(e)},this.setItem=function(e,n){if(t.isEnabled)return window.localStorage.setItem(e,n)},this.removeItem=function(e){if(t.isEnabled)return window.localStorage.removeItem(e)}}));function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ug=function(){function e(){i(this,e)}return o(e,null,[{key:"Fire",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};document.dispatchEvent(new CustomEvent(e,{detail:lg({},t)}))}},{key:"FireAsync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r="".concat(e,"-callback");document.dispatchEvent(new CustomEvent(e,{detail:lg(lg({},t),{},{callback:r})})),document.addEventListener(r,(function(e){return n(e)}),{once:!0})}))}}]),e}(),hg="alphachat-active-session",pg="alphachat-user-data",fg="alphachat-enduser-token",dg={"alphachat-active-session":{uuid:0,active_agent:1,proactive_served:2,rating_served:3,is_open:4,form:5,popup_sequence_in_progress:6},"alphachat-user-data":{old_uuid:0,name:1,email:2,phone:3,account:4}},gg=k.client("alpha-sdk Application/agents/base.js"),vg=function(){function e(t,n){i(this,e),this.Alphachat=t,this.config=n,this.state=t.state,this.sendBotMessageToAgentServer=rg,this.sendUserMessageToAgentServer=tg,this.sendUnavailable=this.sendUnavailable.bind(this),this.MarkMessageSeen=this.MarkMessageSeen.bind(this),this.refresh=this.refresh.bind(this)}var t,n,s;return o(e,[{key:"MarkMessageSeen",value:(s=r(a.mark((function e(t,n){var r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Alphachat.client.isOpen()){e.next=2;break}return e.abrupt("return");case 2:if(r=this.state.messages.findIndex((function(e){return e.message_id===t})),t&&-1!=r&&!this.state.messages[r].seen_by_recipient){e.next=5;break}return e.abrupt("return");case 5:gg.debug("{MarkMessageSeen} Marking message ".concat(t," (index ").concat(r,") as seen (caller=").concat(n,")")),this.state.updateMessage(r,{seen_by_recipient:!0}),i=this.state.messages[r],["bot","enduser"].includes(i.role)||(i.message_id?this.sendUserMessageToAgentServer({action:"message seen by recipient",message_id:i.message_id},this.Alphachat.user,this.Alphachat):gg.warn("{Base.MarkMessageSeen} missing message_id",i));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"RemoveMessage",value:function(e){this.state.filterMessages((function(t){return t.uuid!==e}))}},{key:"isSafeToProcessMessages",value:function(e){return Alphachat.user.enduser_id===e}},{key:"isRenderable",value:function(e){return e.message||e.image||e.video||e.carousel||e.button&&e.button.length||e.quick&&e.quick.length}},{key:"processBotMessages",value:(n=r(a.mark((function e(t){var n,r,i,o,s,c,l,u,h,p,f,d,g,v,m,y,b,_,w,k,E,S,A=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.messages,r=t.bot,i=t.sync,o=void 0===i||i,s=t.processJSCall,c=void 0===s||s,l=Alphachat.user.enduser_id,h=this.config.fakeTypingDelay||0,n.forEach((function(e,t){e.message_id||(e.message_id=Alphachat.createMessageId()),o&&(r&&(e.bot=r),e.delta=h*t,setTimeout(rg,t*h,e,A.Alphachat.user,A.Alphachat),e.feedback&&setTimeout(A.Alphachat.sendFeedback,t*h,0,e.message_id))})),p=0;case 5:if(!(p<n.length)){e.next=50;break}if(u=n[p],d=(f=u).avatar,g=f.sender,v=[],m=parseInt(u.delay)||0,!o){e.next=16;break}if(!m){e.next=14;break}return e.next=14,Kd(m);case 14:if(this.isSafeToProcessMessages(l)){e.next=16;break}return e.abrupt("return");case 16:if(u.wait_for_input&&u.js&&(u.js.wait_for_input=u.wait_for_input),!(u.js&&c&&u.js.pre)){e.next=22;break}return e.next=20,new Promise((function(e,t){u.js.resolve=e,Alphachat.client.JSCall(u)}));case 20:if(this.isSafeToProcessMessages(l)){e.next=22;break}return e.abrupt("return");case 22:if(u.text){if(Array.isArray(u.text)&&(u.text=u.text[Math.floor(Math.random()*u.text.length)]),(y=Gd(u.text).split("<p>")).length>1)for(b=0;b<y.length-1;b++)_={role:"bot",message:y[b],avatar:d,sender:g,timeout:o?h:0},v.push(_);u.message=y[y.length-1]}Object.assign(u,{timeout:o?h:0,role:"bot",received_by_recipient:!o}),v.push(u),w=0;case 26:if(!(w<v.length)){e.next=38;break}if(k=v[w],E=k.timeout,k.message_id||(k.message_id="".concat(u.message_id).concat(w)),this.Alphachat.AddMessage(k,!1),!o){e.next=35;break}return this.Alphachat.history.localStateModified(),e.next=35,Kd(E);case 35:w++,e.next=26;break;case 38:if(o&&u.id&&u.id.length>0&&"_handover"===u.id[1]&&this.Alphachat.SetAgent("chat").then((function(){return ug.Fire("on-alphachat-handover")})),!u.js||!c||u.js.pre){e.next=47;break}return S=parseInt(u.js.delay)||100,e.next=43,Kd(S);case 43:return e.next=45,new Promise((function(e,t){u.js.resolve=e,Alphachat.client.JSCall(u),u.wait_for_input||e()}));case 45:if(this.isSafeToProcessMessages(l)){e.next=47;break}return e.abrupt("return");case 47:p++,e.next=5;break;case 50:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"sendUnavailable",value:(t=r(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.Alphachat.client.isOpen()&&(t=this.Alphachat.state.messages&&this.Alphachat.state.messages.length?800:0,Alphachat.timer.push(setTimeout(this.Alphachat.AddMessage,t,{message:this.state.translations.messages.unavailable,message_id:"unavailable",sender_role:"system",sender_id:"system",seen_by_recipient:!0},!1)),ug.Fire("alphachat-disable"),Alphachat.timer.push(setTimeout(ug.Fire,t+1200,"alphachat-email-form",{formName:"offline"})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"refresh",value:function(e){gg.debug("{Base.refresh} agent=".concat(JSON.stringify(e)));var t=e||{},n=t.title,r=t.avatar,a=(t.caller,{title:n||this.config.title,avatar:r||this.config.avatar,type:this.type});this.Alphachat.state.updateAgent(a,"Base.refresh"),e&&e.avatar&&this.updateAvatarInMessages&&this.updateAvatarInMessages(e.avatar,e.title)}}]),e}();function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var _g,wg,kg,Eg,Sg=k.client("alpha-sdk Application/agents/bot/index.js"),Ag=function(e){c(u,e);var t,n,s,l=bg(u);function u(e,t){var n;return i(this,u),(n=l.call(this,e,t)).type="bot",n.initInProgress=!1,n}return o(u,[{key:"hasGreeted",value:function(){return this.Alphachat.state.messages.length&&this.Alphachat.state.messages[0].id&&2===this.Alphachat.state.messages[0].id.length&&this.Alphachat.state.messages[0].id.join(".")===this.config.beginWithAction}},{key:"Init",value:(s=r(a.mark((function e(){var t,n,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},Sg.debug("{AIAgent.Init} Alphachat.client.isOpen()=".concat(Alphachat.client.isOpen()," this.initInProgress=").concat(this.initInProgress," options=").concat(t)),!0!==this.initInProgress){e.next=5;break}return Sg.debug("{AIAgent.Init} initInProgress=true, bailing out"),e.abrupt("return");case 5:if(this.initInProgress=!0,n={type:this.type,ready:!0,error:null,title:this.config.title,avatar:this.config.avatar},Alphachat.client.isOpen()){e.next=10;break}return this.initInProgress=!1,e.abrupt("return");case 10:if(!this.hasGreeted()){e.next=15;break}return Sg.debug("{AIAgent.Init} bailing out, bot has already greeted"),this.state.updateAgent(n,"AIAgent.Init1"),this.initInProgress=!1,e.abrupt("return");case 15:return Sg.debug("{AIAgent.Init} this.state.messages.length=".concat(this.state.messages.length," options=").concat(JSON.stringify(t)," this.config=").concat(JSON.stringify(this.config))),this.state.updateAgent(n,"AIAgent.Init2"),e.next=19,this.Alphachat.user.SetActiveAgent(this.type);case 19:if(!this.state.chatHasFinished||this.Alphachat.config.restartWhenFinished){e.next=23;break}return Sg.debug("{AIAgent.Init} aborting because this.state.chatHasFinished=".concat(this.state.chatHasFinished)),this.initInProgress=!1,e.abrupt("return");case 23:return isNaN(parseInt(this.config.fakeTypingDelay))&&(this.config.fakeTypingDelay=0),e.next=26,Kd(100);case 26:if(Alphachat.state.messages.length||t.history&&t.history.length){e.next=38;break}return Sg.debug("{AIAgent.Init} running GetWelcome"),e.prev=28,e.next=31,this.GetWelcome({reactivate:t.reactivate});case 31:e.next=38;break;case 33:return e.prev=33,e.t0=e.catch(28),Sg.error("{AIAgent.Init} error: ",e.t0),this.initInProgress=!1,e.abrupt("return",{status:!1});case 38:return Sg.debug("{AIAgent.Init} finished"),this.initInProgress=!1,e.abrupt("return",{status:!0});case 41:case"end":return e.stop()}}),e,this,[[28,33]])}))),function(){return s.apply(this,arguments)})},{key:"GetWelcome",value:(n=r(a.mark((function e(){var t,n,r,i,o,s,c,l=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.force,r=void 0!==n&&n,i=t.reactivate,o=void 0!==i&&i,Sg.debug("{AIAgent.GetWelcome}"),!(!r&&this.state.messages.length>0&&this.state.messages.map((function(e){return e.role})).some((function(e){return"system"!==e})))){e.next=5;break}return Sg.debug("Skipping welcome since message history contains non-system messages."),e.abrupt("return");case 5:if(s={type:"payload",role:"system"},c=o&&this.config.reactivateWithAction?this.config.reactivateWithAction:this.config.beginWithAction||"system._getStarted",!0!==this.config.autogreeting){e.next=12;break}return e.next=10,this.SendMessage(yg(yg({},s),{},{payload:{router:c,role:"system"}}));case 10:e.next=15;break;case 12:if(!this.config.autogreeting){e.next=15;break}return e.next=15,this.SendMessage(yg(yg({},s),{},{payload:{router:this.config.autogreeting,role:"system"}}));case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"Close",value:function(){Sg.debug("{AIAgent.Close}"),this.state.updateAgent({ready:!1,type:null,loaded:!1,error:null},"AIAgent.Close")}},{key:"SendMessage",value:(t=r(a.mark((function e(t){var n,r,i,o,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sg.debug("{AIAgent.SendMessage} payload=".concat(JSON.stringify(t))),n=new Date,r=this.Alphachat.user,"enduser"===t.role&&!0!==this.state.info.firstMessageSent&&"button"!==t.trigger&&"quick"!==t.trigger&&(this.Alphachat.state.updateInfo({firstMessageSent:!0}),ug.Fire("on-alphachat-conversation-first-message")),t.message&&(i=t.role||"enduser",t.message_id||(t.message_id=t.uuid||Alphachat.createMessageId("enduser"==i)),this.Alphachat.AddMessage(yg(yg({},t),{},{role:i,sender_role:i}))),"quick"===t.trigger&&(o=this.state.messages.findIndex((function(e){return e.uuid===t.old_uuid})),this.state.updateMessage(o,{quick:[]})),e.next=8,this.Alphachat.api.post(this.config.hostname,Object.assign(t,{sender:r.enduser_id,api:"alphachat",user_profile:r.profile(),page_info:r.page_info}));case 8:if(s=e.sent,!t.message){e.next=14;break}return s&&s.length&&(c={},s.forEach((function(e){!c.intent&&e.intent&&(c.intent=e.intent),!c.translation&&e.translation&&(c.translation=e.translation)})),c.bot=this.config.hostname,(c.intent||c.translation)&&(t.payload||(t.payload={}),Object.assign(t.payload,c))),t.delta=n-new Date,e.next=14,this.sendUserMessageToAgentServer(t);case 14:if(this.Alphachat.client.widget.isScrolledToBottom?this.Alphachat.client.widget.GetScrollBottom():this.Alphachat.client.widget.ResetLastScrollPosition(),s){e.next=17;break}return e.abrupt("return");case 17:if(Object.keys(s).length){e.next=20;break}return Sg.debug("{AIAgent.SendMessage} ignoring empty response from bot:",s),e.abrupt("return");case 20:if("error"!==s.status){e.next=23;break}return Sg.debug("{AIAgent.SendMessage} response from bot yielded an error:",s),e.abrupt("return");case 23:return Sg.debug("{SendMessage} AI returned response",s),e.next=26,this.processBotMessages({messages:s,bot:this.config.hostname});case 26:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),u}(vg),xg=(hd(kg={},"active",(function(e,t){return e.state.updateAgent({ready:!0,error:!1,avatar:e.config.avatar,title:t.agent_name||e.config.title}),{status:!0,data:t}})),hd(kg,"impossible",(hd(_g={},"no active subscribers",(function(e,t){return e.sendUnavailable(),{status:!1,data:t,fallback:e.config.fallback}})),hd(_g,"queue is full",(function(e,t){return e.sendUnavailable(),{status:!1,data:t,fallback:e.config.fallback}})),hd(_g,"ticket is closed",(function(e,t){return{status:!0}})),_g)),hd(kg,"possible",(hd(wg={},"agents busy, ticket will be placed in queue",(function(e,t){return{status:!0,data:t}})),hd(wg,"free agents available",(function(e,t){return{status:!0,data:t}})),wg)),kg),Cg=(hd(Eg={},"ASSIGNED TO AGENT",(function(e,t){if(t.postback.data){var n={ready:!0,error:!1,avatar:t.postback.data.avatar||e.config.avatar,title:t.postback.data.agent||e.config.title};setTimeout((function(){e.state.updateAgent(n),Alphachat.currentAgent&&Alphachat.currentAgent&&Alphachat.currentAgent.updateAvatarInMessages&&Alphachat.currentAgent.updateAvatarInMessages(n.avatar,n.title)}),200)}})),hd(Eg,"SET_MESSAGE_FROM_AGENT",(function(e,t){e.state.updateAgent({typing:!1});var n=t.sender_name,r=t.sender_role,a=t.message_id,i=t.result,o=void 0===i?{}:i;e.Alphachat.AddMessage({message:o.value,message_id:a,sender_name:n,sender_role:r,seen_by_recipient:!1,role:"agent",avatar:e.state.agent.avatar,payload:o.payload})})),hd(Eg,"AGENT_IS_TYPING",(function(e,t){e.state.updateAgent({typing:!0}),Alphachat.timer.push(setTimeout((function(){return e.state.updateAgent({typing:!1})}),300)),document.dispatchEvent(new Event("agent-is-typing"))})),Eg),Og=function(){function e(){i(this,e)}return o(e,null,[{key:"MatchHandoverAttempt",value:function(e,t){return e.result&&e.reason?xg[e.result][e.reason](t,e):xg[e.result](t,e)}},{key:"MatchAgentMessage",value:function(e,t){return!!Cg[e.postback.action]&&Cg[e.postback.action](t,e)}}]),e}();function Tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tg(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Mg=k.client("alpha-sdk Application/agents/chat/index.js"),jg=function(e){c(h,e);var t,n,s,l,u=Pg(h);function h(e,t){var n;return i(this,h),(n=u.call(this,e,t)).type="chat",n.SendMessage=e.SendMessage.bind(e),n.initInProgress=!1,n.postbackMessageHandler=function(e){e.postback&&e.postback.action&&Og.MatchAgentMessage(e,p(n))},n}return o(h,[{key:"Init",value:(l=r(a.mark((function e(){var t,n,r,i,o,s,c,l,u,h,p,f,d,g=this,v=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=v.length>1&&void 0!==v[1]?v[1]:0,Mg.debug("{Agent.Init} Alphachat.client.isOpen()=".concat(Alphachat.client.isOpen()," this.initInProgress=").concat(this.initInProgress)),!(!Alphachat.client.isOpen()||this.state.agent.ready&&this.state.agent.title)){e.next=5;break}return e.abrupt("return");case 5:if(!this.initInProgress){e.next=7;break}return e.abrupt("return");case 7:if(r={type:this.type,ready:!1,error:null,title:t.agent_name||this.config.title,avatar:t.avatar||this.config.avatar},!this.state.chatHasFinished){e.next=11;break}return this.state.updateAgent(r,"Agent.Init1"),e.abrupt("return");case 11:if(this.initInProgress=!0,this.options=t,i=!1,o={},s=!1,c=!1,!t.agent_name&&!t.avatar){e.next=22;break}s=!0,c=!1,e.next=26;break;case 22:return e.next=24,this.Alphachat.HandoverTest();case 24:(o=e.sent)&&"active"===o.handover&&(o.agent_name||o.avatar?(s=!0,c=!1,o.agent_name&&(r.title=o.agent_name),o.avatar&&(r.avatar=o.avatar)):(s=!1,c=!0));case 26:if(Mg.debug("{Chat Agent.Init} begin: agent.ready=".concat(this.state.agent.ready," agent.title=").concat(this.state.agent.title," chatIsAssignedToAgent=").concat(s," chatIsQueued=").concat(c," initialState=").concat(JSON.stringify(r))),Mg.debug("{Chat Agent.Init} handoverTestResponse=".concat(JSON.stringify(o))),s||c){e.next=56;break}if("impossible"!==o.handover){e.next=34;break}return this.initInProgress=!1,this.config.fallback||this.state.updateAgent(r,"Agent.Init2"),o.reason.includes("closed")?Alphachat.chatHasFinished():this.sendUnavailable(),e.abrupt("return",Promise.reject(Ng(Ng({},o),{},{status:!1,fallback:this.config.fallback})));case 34:if(this.state.updateAgent(r,"Agent.Init3"),l="handover",u=this.state.translations.proactive_message,Mg.debug("{Chat Agent.Init} this.Alphachat.state.messages.length=".concat(this.Alphachat.state.messages.length)),!u||!this.options.proactive&&!this.config.proactive||this.Alphachat.state.messages.length){e.next=44;break}return this.proactiveDisablesWelcome(!0),this.Alphachat.user.SetPopupSequenceInProgress(!0),e.next=43,this.Alphachat.AddMessage({role:"system",sender_role:"system",sender_id:"system",message:u,message_id:"proactive",seen_by_recipient:!0});case 43:Mg.debug('{Chat Agent.Init} added proactive_message="'.concat(u,'"'));case 44:if(!(l in this.baseConfig.forms)||!this.baseConfig.forms[l].enabled){e.next=49;break}return e.next=47,ug.FireAsync("alphachat-handover",{FORM_TYPE:l});case 47:i=!0,Mg.debug("{Chat Agent.Init} form resolved this.options.proactive=".concat(this.options.proactive," userSubmittedForm=").concat(i),this.options);case 49:if(!this.options.proactive||i){e.next=56;break}return Alphachat.pendingHandover={},h=new Promise((function(e){Alphachat.pendingHandover.resolve=e})),p=new Promise((function(e){Alphachat.pendingHandover.resolveChatInit=e})),Alphachat.pendingHandover.chatInitialized=p,e.next=56,h;case 56:return this.Alphachat.client&&this.Alphachat.client.widget&&this.Alphachat.client.widget.ResetLastScrollPosition(),e.next=59,this.Alphachat.user.SetActiveAgent(this.type);case 59:return e.next=61,this.Alphachat.openWebsocket();case 61:return e.next=63,new Promise((function(e){g.Alphachat.connection.isWebsocketOpen&&e(),setTimeout(e,3e3)}));case 63:if(!this.Alphachat.connection.isWebsocketOpen){e.next=119;break}if(f=this.Alphachat.connection.waitFor("ASSIGNED TO AGENT"),this.Alphachat.connection.listen(this.postbackMessageHandler),!s){e.next=73;break}return e.next=69,this.Identify();case 69:return this.state.updateAgent(Ng(Ng({},r),{},{ready:!0}),"Agent.Init4"),Mg.debug("{Chat Agent.Init} chatIsAssignedToAgent: identification completed, updatedAgent"),this.initInProgress=!1,e.abrupt("return",Promise.resolve({status:!0}));case 73:if(c){e.next=77;break}return e.next=76,this.Alphachat.HandoverTest();case 76:o=e.sent;case 77:if(!o||"impossible"===o.handover){e.next=110;break}return e.next=80,this.Identify();case 80:if(Mg.debug("{Chat Agent.Init} identification completed"),this.state.updateAgent(Ng(Ng({},r),{},{ready:!0}),"Agent.Init5"),"active"!==o.handover){e.next=97;break}if(o.agent_name){e.next=91;break}return e.next=86,this.UpdateChatMetadata();case 86:return e.next=88,f;case 88:ug.Fire("on-alphachat-assigned-to-agent"),e.next=94;break;case 91:d={title:o.agent_name,ready:!0},o.avatar&&(d.avatar=o.avatar,this.updateAvatarInMessages(o.avatar,o.agent_name)),this.state.updateAgent(d,"Agent.Init6");case 94:return Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1,e.abrupt("return",Promise.resolve({status:!0}));case 97:return e.next=99,this.Handover(this.options.popup?"Proactive handover":"Handover");case 99:return e.next=101,this.UpdateChatMetadata();case 101:return e.next=103,f;case 103:return Alphachat.cancelTimeouts(),Alphachat.user.popup_sequence_in_progress&&Alphachat.user.SetPopupSequenceInProgress(),Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1,e.abrupt("return",Promise.resolve({status:!0}));case 110:return Mg.warn("{Chat Agent.Init} Failed handover test: handoverTestResponse >>>",o),Alphachat.user.popup_sequence_in_progress&&Alphachat.user.SetPopupSequenceInProgress(),Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1,this.sendUnavailable(),this.close(),e.abrupt("return",Promise.reject(Ng(Ng({},o),{},{status:!1,fallback:this.config.fallback})));case 117:e.next=133;break;case 119:if(!(n<10)){e.next=126;break}return Mg.warn("{Chat Agent.Init} failed attempt ".concat(n,", retrying again this.Alphachat.connection=").concat(this.Alphachat.connection," this.Alphachat.connection.isWebsocketOpen=").concat(this.Alphachat.connection.isWebsocketOpen)),e.next=123,Kd(1500);case 123:return Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1,e.abrupt("return",this.Init(t,n+1));case 126:return this.sendUnavailable(),this.close(),Mg.warn("{Chat Agent.Init} Failed connection: this.Alphachat.connection >>>",this.Alphachat.connection),Alphachat.user.popup_sequence_in_progress&&Alphachat.user.SetPopupSequenceInProgress(),Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1,e.abrupt("return",Promise.reject({status:!1,msg:"connection to chat failed",fallback:this.config.fallback}));case 133:Alphachat.user.popup_sequence_in_progress&&Alphachat.user.SetPopupSequenceInProgress(),Alphachat.pendingHandover&&Alphachat.pendingHandover.resolveChatInit(),this.initInProgress=!1;case 136:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"Close",value:function(){this.Alphachat.user.enduser_id;Mg.debug("{Agent.Close}"),this.Alphachat.connection&&this.Alphachat.connection.close(),this.state.updateAgent({ready:!1,type:null,error:this.state.translations.messages&&this.state.translations.messages.closed||"Chat agent offline"},"Agent.Close")}},{key:"proactiveDisablesWelcome",value:function(e){return Mg.debug("{Agent.proactiveDisablesWelcome}"),this.baseConfig.start&&this.baseConfig.start.popup&&!1===this.baseConfig.start.popup.autogreeting&&!0===e&&this.state.updateAgent({proactiveDisablesWelcome:!0},"proactiveDisablesWelcome"),this.state.agent.proactiveDisablesWelcome}},{key:"userTypes",value:function(e){var t=this;if(Alphachat.connection&&(Mg.debug("{Agent.userTypes}"),!this.typeTimeout)){var n=this.Alphachat.user.enduser_id,r=this.state.agent.messageId;r||(r=Alphachat.createMessageId(!0));var a=Object.assign(e,{enduser_id:n,sender_id:n,message_id:r,sender_role:e.role||"enduser",value:e.message,action:e.action||"add item",item_type:e.type||"message",is_composing:!0});Alphachat.connection.send(a),this.typeTimeout=!0,setTimeout((function(){return t.typeTimeout=!1}),200)}}},{key:"UpdateChatMetadata",value:(s=r(a.mark((function e(){var t,n,r,i,o,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mg.debug("{Agent.UpdateChatMetadata}"),t=this.Alphachat.user,n=t.enduser_id,r=t.name,i=t.email,o=t.phone,s=t.account,(r||i&&"null"!==r)&&(c={enduser_id:n,ticket_id:n,sender_id:n,sender_role:"enduser",action:"update enduser profile",postback:{action:"UPDATE_METADATA",id:n},is_composing:!1,enduser_metadata:{name:r,email:i,phone:o,account:s}},Alphachat.connection.sendAsync(c),this.Alphachat.user.SetCookies());case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"SendProactiveMessagesToServer",value:function(){Mg.debug("{Agent.SendProactiveMessagesToServer}");var e=this.Alphachat.user,t=e.enduser_id;e.name;this.state.messages.forEach((function(e){if("proactive"==e.message_id&&e.value){var n={action:"add item",item_type:"greeting",sender_role:"system",value:e.value,sender_name:"system",enduser_id:t,sender_id:"system",message_id:e.uuid,delta:new Date(e.isotime)-new Date,avatar:e.avatar};Alphachat.connection.send(n)}}))}},{key:"Handover",value:(n=r(a.mark((function e(){var t,n,r,i,o,s,c,l,u=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"Handover",Mg.debug("{Agent.Handover} message=".concat(t)),n=this.Alphachat.user,r=n.enduser_id,i=n.page_info,o=n.name,s=this.proactiveDisablesWelcome()||!this.config.autogreeting?null:this.state.translations.messages.welcome,c=this.state.translations.messages.busy,l={action:"add item",item_type:"handover",sender_role:"enduser",value:t,page_info:i,sender_name:o,enduser_id:r,sender_id:r,user_profile:this.Alphachat.user.profile(),postback:{action:"HANDOVER_FINISHED",id:r},system_messages:{busy:c,welcome:s}},this.SendProactiveMessagesToServer(),e.next=9,Alphachat.connection.sendAsync(l);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"Identify",value:(t=r(a.mark((function e(){var t,n,r,i,o,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mg.debug("{Agent.Identify}"),t=this.Alphachat.user,n=t.enduser_id,r=t.page_info,i=t.old_enduser_id,o=t.browser,this.config.customAttributes&&this.Alphachat.user.AddCustomAttributes(this.config.customAttributes),s={action:"provide identification",enduser_id:n,sender_id:n,browser:o,page_info:r,user_profile:this.Alphachat.user.profile(),bot_url:ig("bot",this.baseConfig).hostname,postback:{action:"IDENTIFICATION_OK",id:n},sender_role:"enduser"},i&&(s.history={enduser_id:i}),e.next=7,Alphachat.connection.sendAsync(s);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateAvatarInMessages",value:function(e,t){if(e&&t)for(var n=0;n<this.Alphachat.state.messages.length;n++){var r=this.Alphachat.state.messages[n];"agent"===r.sender_role&&r.sender_name===t&&r.avatar!==e&&this.Alphachat.state.updateMessage(n,{avatar:e})}}}]),h}(vg),Rg=Object.freeze({__proto__:null,BOT:Ag,CHAT:jg});function Dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dg(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lg=k.client("alpha-sdk modules/api.js"),Fg=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t},Hg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.settings={method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}},this.post=this.post.bind(this),this.get=this.get.bind(this),this.actionSelector=t}var t,n,s,c,l;return o(e,[{key:"fetchHelper",value:(l=r(a.mark((function e(t,n,r){var i,o,s,c,l;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lg.debug("{API.fetchHelper} url=".concat(t,", settings:"),n),!t){e.next=20;break}return e.next=4,this.addEnduserTokenHeader(t,n);case 4:return e.next=6,fetch(t,n).then((function(e){if(e.ok)return e.text();i={status:e.status}})).catch((function(e){Lg.warn(e),i={status:418}}));case 6:if(!(o=e.sent)){e.next=18;break}if(!r){e.next=17;break}return s=window.URL.createObjectURL(new Blob([o]),{type:"text/html"}),(c=document.createElement("a")).href=s,c.download=r,Alphachat.client.widget.shadowRoot.appendChild(c),c.click(),c.remove(),e.abrupt("return");case 17:i=Fg(o);case 18:return i&&i.postback&&i.postback.action&&(l=i.postback.action)in this.actionSelector&&this.actionSelector[l](i.postback.data),e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return l.apply(this,arguments)})},{key:"get",value:(c=r(a.mark((function e(t,n){var r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({},this.settings),e.abrupt("return",this.fetchHelper(t,r,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"ip",value:(s=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(t=Alphachat&&Alphachat.config&&Alphachat.config.ipService),n=Object.assign({},this.settings),e.abrupt("return",this.fetchHelper(t,n));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"post",value:(n=r(a.mark((function e(t,n){var r,i,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},(i=Ig(Ig({},this.settings),r)).method="POST",i.body=JSON.stringify(n),e.abrupt("return",this.fetchHelper(t,i));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"addEnduserTokenHeader",value:(t=r(a.mark((function e(t,n){var r,i,o,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Alphachat&&Alphachat.rawConfig||this.config||{},i=r.agentServer){e.next=4;break}return Lg.warn("[addEnduserTokenHeader] agentServer url not found!"),e.abrupt("return");case 4:if(!t.match(i)){e.next=11;break}if(Alphachat&&Alphachat.icomm&&Alphachat.icomm.enduser_token){e.next=9;break}return Lg.debug("Wait until Alphachat.icomm.enduser_token is available..."),e.next=9,Qd(Alphachat,"icomm").then((function(e){return Qd(e,"enduser_token")}));case 9:o=Alphachat&&Alphachat.icomm||{},(s=o.enduser_token)?n.headers=Ig(Ig({},n.headers),{},hd({},"Enduser-Token",s)):Lg.warn("enduser_token not found when fetching url!!");case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Ug=function(e,t){var n=new Promise((function(t,n){setTimeout((function(){n("Timed out in "+e+"ms.")}),e)}));return Promise.race([t,n])};function Bg(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function qg(){return navigator.userAgent.match(/mobile/i)?"Mobile":navigator.userAgent.match(/iPad|Android|Touch/i)?"Tablet":"Desktop"}function Vg(e,t){return Wg.apply(this,arguments)}function Wg(){return(Wg=r(a.mark((function e(t,n){var r,i,o,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new Promise((function(e){r=e})),o=setInterval((function(){t()&&(r(),clearInterval(o))}),200),!n){e.next=5;break}return s=new Promise((function(e){setTimeout((function(){return e()}),n)})),e.abrupt("return",Promise.race([i,s]));case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zg(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gg=k.client("alpha-sdk Application/constants/userItem.js"),Jg=function(){function e(t){var n=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(this,e),this.nativeAttributes=["name","email","phone","account"],this.sessionAttributes=["active_agent","proactive_served","rating_served","is_open","form","popup_sequence_in_progress"];var s=Bg(),c=window.navigator,l=c.platform,u=c.language;this.Alphachat=t,this.api=t.api,this.icomm=t.icomm,this.enduser_id=null,this.old_enduser_id=null,this.sender_id=null,this.os=l,this.language=u,this.device=qg(),this.browser="".concat(s.name,"/").concat(s.version),this.nativeAttributes.forEach((function(e){return n[e]=null})),this.proactive_served=!1,this.is_open=!1,this.role="enduser",this.form=null,this.popup_sequence_in_progress=!1,this.custom_attributes={},this.active_agent=null,this.rating_served=null,this.page_info={title:document.title,url:window.location.href,language:null},this.location={},o&&this.initProps(),this.SetCookies=this.SetCookies.bind(this,t.state),this.ReloadPageinfo=this.ReloadPageinfo.bind(this),this.updateProp=function(){var e=r(a.mark((function e(t,r){var i,o,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.nativeAttributes.includes(t),o=n.sessionAttributes.includes(t),!t||!i&&!o||void 0===r){e.next=8;break}return(s={})[t]=r,Object.assign(n,s),n.Alphachat.cookies.setCookieElement(o?hg:pg,s),e.abrupt("return",n.icomm.setState(s,n.getCookieState()));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.SetProactiveServed=r(a.mark((function e(){var t,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===(t=r.length>0&&void 0!==r[0]&&r[0])||!1===t){e.next=4;break}return Gg.error("{User.SetProactiveServed} Can't set this.proactive_served to {".concat(t,"}")),e.abrupt("return");case 4:return e.abrupt("return",n.updateProp("proactive_served",t));case 5:case"end":return e.stop()}}),e)}))),this.SetIsOpen=function(){var e=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===t||!1===t){e.next=3;break}return Gg.error("{User.SetIsOpen} Can't set this.is_open to {".concat(t,"}")),e.abrupt("return");case 3:return e.abrupt("return",n.updateProp("is_open",t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.SetForm=r(a.mark((function e(){var t,r,i=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:"",Gg.debug("Alphachat.user.SetForm value=".concat(t,", caller=").concat(r)),e.abrupt("return",n.updateProp("form",t));case 4:case"end":return e.stop()}}),e)}))),this.SetPopupSequenceInProgress=r(a.mark((function e(){var t,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.abrupt("return",n.updateProp("popup_sequence_in_progress",t));case 2:case"end":return e.stop()}}),e)}))),this.SetRatingServed=r(a.mark((function e(){var t,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.abrupt("return",n.updateProp("rating_served",t));case 2:case"end":return e.stop()}}),e)}))),this.SetActiveAgent=r(a.mark((function e(){var t,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.abrupt("return",n.updateProp("active_agent",t));case 2:case"end":return e.stop()}}),e)}))),this.RefreshAttributes=r(a.mark((function e(){var r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg.debug("Refreshing attributes"),e.next=3,n.getPersistentState();case 3:return r=e.sent,Gg.debug(r),r&&n.sessionAttributes.forEach((function(e){e in r&&(n[e]=r[e])})),e.next=8,n.getPersistentState(0);case 8:(i=e.sent)&&n.nativeAttributes.forEach((function(e){e in i&&(n[e]=i[e],i[e]&&(t.session["user_".concat(e)]=i[e]))})),Gg.debug("[RefreshAttributes] sessionState=".concat(JSON.stringify(r)," userState=").concat(JSON.stringify(i)));case 11:case"end":return e.stop()}}),e)})))}var t,n,s,c,l;return o(e,[{key:"initFromConfig",value:function(e){var t=e.start;this.Alphachat.cookies.initCookieExpiration(e),t&&t.language&&(this.page_info.language=t.language)}},{key:"profile",value:function(){var e=this,t=["page_info","location","os","language","device","browser","custom_attributes"].concat(Vd(this.nativeAttributes)),n={};return t.forEach((function(t){void 0!==e[t]&&null!==e[t]&&(n[t]=e[t])})),n}},{key:"AddCustomAttributes",value:function(e){Gg.debug("{User.AddCustomAttributes}");var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=window[e[n]];r||(r=this.Alphachat.localStorage.getItem(e[n])),r&&(t[e[n]]=r)}this.custom_attributes=t}},{key:"getLocation",value:(l=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg.debug("{User.getLocation}"),e.next=3,this.api.ip(t.ipService);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:this.location=e.t0;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"ReloadPageinfo",value:function(e){Gg.debug("{User.ReloadPageinfo}"),e||Gg.warn("{User.ReloadPageinfo} Language must be provided!"),this.page_info={title:document.title,url:window.location.href,language:e},this.language=e}},{key:"getCookieState",value:function(){var e=this,t={};this.nativeAttributes.forEach((function(n){t[n]=e.Alphachat.cookies.getCookieElement(pg,n)})),this.sessionAttributes.forEach((function(n){t[n]=e.Alphachat.cookies.getCookieElement(hg,n)}));return["proactive_served","is_open","popup_sequence_in_progress"].forEach((function(e){t[e]?t[e]="true"==t[e]:t[e]=!1})),t.enduser_token=this.Alphachat.cookies.getCookie(fg),t}},{key:"getPersistentState",value:(c=r(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getCookieState(),e.next=3,this.icomm.getState(t);case 3:return(r=e.sent).localStorageDisabled&&(this.localStorageDisabled=!0,Object.assign(r,n),!this.Alphachat.cookies.getCookie(fg)&&this.icomm.enduser_token?this.Alphachat.cookies.setCookie(fg,this.icomm.enduser_token):this.icomm.enduser_token=this.Alphachat.cookies.getCookie(fg)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"initProps",value:(s=r(a.mark((function e(){var t,n=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg.debug("{User.initProps}"),e.next=3,this.ReloadUser();case 3:return Gg.debug("{User.initProps} Marker 2"),e.next=6,this.getPersistentState();case 6:if(t=e.sent,Gg.debug("{User.initProps} Marker 3"),!(t&&"proactive_served"in t&&"is_open"in t)){e.next=14;break}this.active_agent=t.active_agent||this.active_agent,[].concat(Vd(this.sessionAttributes),Vd(this.nativeAttributes)).forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),e.next=17;break;case 14:return this.Alphachat.cookies.setCookieElement(hg,{uuid:this.enduser_id,proactive_served:this.proactive_served,is_open:this.is_open}),e.next=17,this.icomm.setState({proactive_served:this.proactive_served,is_open:this.is_open});case 17:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"ReloadUser",value:(n=r(a.mark((function e(){var t,n,r,i,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],Gg.debug("Marker 1: ReloadUser"),e.next=4,Vg((function(){return Alphachat&&Alphachat.icomm}),2e3);case 4:return Alphachat&&Alphachat.icomm&&(this.icomm=Alphachat.icomm),Gg.debug("Marker 2: ReloadUser"),e.next=8,this.icomm.resetToken();case 8:return Gg.debug("Marker 3: ReloadUser"),e.next=11,this.RefreshAttributes();case 11:Gg.debug("Marker 4: ReloadUser"),n=this.icomm,r=n.enduser_id,i=n.previous_enduser_id,n.enduser_token,Gg.debug('{User.ReloadUser} enduser_id="'.concat(r,'" previous_enduser_id="').concat(i,'"')),r?(this.enduser_id=r,this.sender_id=r,this.old_enduser_id=i,t&&this.SetCookies()):(Gg.error("[ReloadUser] Unable to initiate session: missing enduser_id"),ug.Fire(ALPHACHAT_DISABLE));case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"SetCookies",value:(t=r(a.mark((function e(t){var n,r,i=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gg.debug("{User.SetCookies}"),Alphachat.currentAgent&&(this.active_agent=Alphachat.currentAgent.type),n={active_agent:this.active_agent,proactive_served:this.proactive_served},this.Alphachat.cookies.setCookieElement(hg,$g({uuid:this.enduser_id},n)),r={},this.nativeAttributes.forEach((function(e){i[e]&&(r[e]=i[e])})),this.Alphachat.cookies.setCookieElement(pg,$g({old_uuid:this.old_enduser_id},r)),e.next=9,this.icomm.setState($g($g({},r),n));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Kg(e){return e&&"object"===u(e)&&!Array.isArray(e)&&null!==e}function Qg(e,t){return Kg(e)&&Kg(t)&&Object.keys(t).forEach((function(n){Kg(t[n])?(e[n]||Object.assign(e,hd({},n,{})),Qg(e[n],t[n])):Object.assign(e,hd({},n,t[n]))})),e}function Yg(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var Xg=function(){return Yg()+Yg()+"-"+Yg()+"-"+Yg()+"-"+Yg()+"-"+Yg()+Yg()+Yg()},Zg=k.client("alpha-sdk modules/socketAsync.js"),ev=function(){return Math.random().toString(36).slice(2).padStart(10,"0")},tv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.url=t,this.ready=!1,this.config=n,this.listeners=[],this.promises=[],this.messageCache=[],this.server={},this.waitFor=this.waitFor.bind(this),this.resolveMessages=this.resolveMessages.bind(this),this.sendAsync=this.sendAsync.bind(this),this.attempt_to_reconnect=!0,this.reconnectTimeout=2e3,this.failedPings=0,this.fetchHistoryOnOpen=!0,this.connectionOpeningPromise=null,this.onCloseHandler=this.onCloseHandler.bind(this),this.getOnOpenHandler=this.getOnOpenHandler.bind(this),this.actionSelector=Object.assign({},r),this.actionSelector.PROVIDE_IDENTIFICATION=this.provideIdentification.bind(this)}var t,n;return o(e,[{key:"listen",value:function(e){void 0===this.server.readyState&&Zg.warn("{AlphachatWebSocket.listen} Websocket is not created yet"),this.listeners.indexOf(e)<0&&this.listeners.push(e)}},{key:"connectionFailed",value:function(e){clearInterval(e),this.ready&&!this.isWebsocketDown&&(Zg.warn("{AlphachatWebSocket.connectionFailed} Connection failed, will initiate reconnect sequence"),this.ready=!1,this.connectionOpeningPromise=null,this.server.close(),this.open())}},{key:"heartbeat",value:function(){var e=this,t=this.user.enduser_id,n=(this.config.websocket||{}).ping,r=void 0===n?{}:n,a=r.interval,i=void 0===a?2e3:a,o=r.failCount,s=void 0===o?3:o;this.failedPings=0;var c=setInterval((function(){var n=ev();e.isWebsocketOpen&&Ug(i,e.sendAsync({enduser_id:t,sender_id:t,action:"ping",sender_role:"enduser",postback:{action:"PING ".concat(n)}})).then((function(t){e.failedPings=0})).catch((function(t){e.failedPings+=1,e.failedPings>=s&&e.connectionFailed(c)}))}),i)}},{key:"cachedSend",value:function(e){var t=this,n=ev(),r=new Date;(e=Object.assign({},e)).postback={action:"msg".concat(n)},e.isoDate&&(e.delta=e.isoDate.getTime()-r.getTime());var a=Object.assign({},e);delete a.isoDate;Ug(2e3,this.sendAsync(a)).catch((function(a){Zg.warn("{AlphachatWebSocket.cachedSend} ".concat((new Date).toISOString()," Failed to deliver message id=").concat(n,". Adding to cache.")),void 0===e.isoDate&&(e.isoDate=r),t.messageCache.push(e)}))}},{key:"emptyCache",value:(n=r(a.mark((function e(){var t,n=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.messageCache.length,!this.ready||!t){e.next=8;break}return Zg.debug("{AlphachatWebSocket.emptyCache} ".concat((new Date).toISOString()," sending cached messages"),this.messageCache),this.messageCache.sort((function(e,t){return e.isoDate.getTime()-t.isoDate.getTime()})),this.messageCache.forEach((function(e){return setTimeout((function(){return n.cachedSend(e)}),1)})),this.messageCache=[],e.abrupt("return",new Promise((function(e,n){setTimeout(e,1*(t+2))})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"send",value:function(e){Zg.debug("{AlphachatWebSocket.send} was called"),this.emptyCache();var t=(Alphachat&&Alphachat.user||{}).enduser_id;t&&(e.enduser_id||(e.enduser_id=t),e.sender_id||(e.sender_id=t),e.sender_role||(e.sender_role="enduser")),"message"!==e.type||e.is_composing?this.ready&&this.server.send(JSON.stringify(e)):(this.cachedSend(e),this.ready||this.open())}},{key:"sendAsync",value:function(e){var t=this;return e.postback?new Promise((function(n){t.isWebsocketOpen?t.server.send(JSON.stringify(e)):t.isWebsocketOpening&&setTimeout(t.server.send,1e3,JSON.stringify(e)),t.promises.push({type:"wait_for_postback",action:e.postback.action,promise:n,marker:ev()})})):(Zg.warn("{AlphachatWebSocket.sendAsync} Please provide postback for async calls"),new Promise((function(e){return e()})))}},{key:"waitFor",value:function(e,t){var n=this,r=ev(),a=[];return a.push(new Promise((function(t){n.promises.push({type:"wait_for_postback",action:e,promise:t,marker:r})}))),t&&a.push(new Promise((function(e){setTimeout((function(){e(t),n.promises=n.promises.filter((function(e){return e.marker!==r}))}),t)}))),Promise.race(a)}},{key:"provideIdentification",value:function(){Zg.debug("{socketAsync.provideIdentification}");var e=this.user.name;this.send({sender_role:"enduser",enduser_token:Alphachat.icomm.enduser_token,name:e,action:"provide identification"})}},{key:"resolveMessages",value:function(e){var t=this,n=JSON.parse(e.data);if(this.listeners.forEach((function(e){return e(n)})),this.promises.forEach((function(e){n.postback&&n.postback.action===e.action&&"wait_for_postback"===e.type&&(e.promise(n),t.promises=t.promises.filter((function(t){return t.marker!==e.marker})))})),n.postback&&n.postback.action){if("reload client"===n.postback.action&&!this.identificationCompleted)return;this.actionSelector[n.postback.action]&&this.actionSelector[n.postback.action](n.postback.data)}}},{key:"onCloseHandler",value:function(){var e=this;Zg.debug("{socketAsync.onCloseHandler}"),this.ready=!1,this.fetchHistoryOnOpen=!0,this.connectionOpeningPromise=null,this.attempt_to_reconnect?(Zg.warning("[WebSocket.onclose] Websocket closing. Trying to reconnect..."),Alphachat.timer.push(setTimeout((function(){e.open().then((function(){Zg.debug("finished attempt to reconnect: this.ready=".concat(e.ready))}))}),this.reconnectTimeout))):Zg.debug("[WebSocket.onclose] Websocket closed. Will not reconnect.")}},{key:"isWebsocketOpen",get:function(){return this.server.readyState&&this.server.readyState===this.server.OPEN}},{key:"isWebsocketOpening",get:function(){return this.server.readyState&&this.server.readyState===this.server.CONNECTING}},{key:"isWebsocketDown",get:function(){return void 0===this.server.readyState||this.server.readyState&&this.server.readyState!==this.server.OPEN}},{key:"close",value:function(){Zg.debug("{socketAsync.close}"),this.listeners=[],this.isWebsocketOpen&&(this.attempt_to_reconnect=!1,this.server.close())}},{key:"getOnOpenHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return r(a.mark((function n(){var r;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.identificationCompleted=!1,Zg.debug("{socketAsync.onOpen}"),r=e.waitFor("IDENTIFICATION_OK",3e3),e.config.websocket&&e.config.websocket.ping&&!1===e.config.websocket.ping.enabled||e.heartbeat(),e.ready=!0,e.attempt_to_reconnect=!0,e.connectionOpeningPromise=null,n.next=9,r;case 9:return e.identificationCompleted=!0,Zg.debug('{Alphachat.currentAgent.connection.server.onopen} "IDENTIFICATION_OK" received ('.concat((new Date).toISOString(),")")),n.next=13,e.emptyCache();case 13:t(),Zg.debug('{Alphachat.currentAgent.connection.server.onopen} "connection.open" resolved ('.concat((new Date).toISOString(),")")),e.fetchHistoryOnOpen&&Alphachat.refreshClient({enableJS:!1,agentInitInProgress:!0,caller:"AlphachatWebSocket.getOnOpenHandler"});case 16:case"end":return n.stop()}}),n)})))}},{key:"open",value:(t=r(a.mark((function e(){var t=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zg.debug("{Alphachat.currentAgent.connection.open} this.ready=".concat(this.ready," this.isWebsocketOpen=").concat(this.isWebsocketOpen)),!this.ready||!this.isWebsocketOpen){e.next=3;break}return e.abrupt("return");case 3:if(Zg.debug("{Alphachat.currentAgent.connection.open} this.connectionOpeningPromise=".concat(this.connectionOpeningPromise)),!this.connectionOpeningPromise){e.next=6;break}return e.abrupt("return",this.connectionOpeningPromise);case 6:return this.connectionOpeningPromise=new Promise((function(e,n){[void 0,t.server.CLOSING,t.server.CLOSED].includes(t.server.readyState)?(Zg.debug("{Alphachat.currentAgent.connection.open} Create new websocket (".concat((new Date).toISOString(),"). this.server.readyState=").concat(t.server.readyState)),t.server=new WebSocket(t.url),t.server.onclose=t.onCloseHandler,t.server.onerror=function(e){t.connectionOpeningPromise=null,n(e)},t.server.onmessage=function(e){return t.resolveMessages(e)},t.server.onopen=t.getOnOpenHandler(e)):!t.ready&&t.isWebsocketOpen&&t.getOnOpenHandler(e)()})),e.abrupt("return",this.connectionOpeningPromise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),nv=k.client("alpha-sdk Application/utils/cookies.js"),rv=function(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)},av=function(){function e(){i(this,e)}return o(e,[{key:"init",value:function(e){var t=this;nv.debug("{CookieExpire}.init"),this.expire_data={default_expire:0},[["userCookieExpireMinutes",pg],["userCookieExpireSeconds",pg],["sessionCookieExpireMinutes",hg],["sessionCookieExpireSeconds",hg],["sessionCookieExpireMinutes",fg],["sessionCookieExpireSeconds",fg]].forEach((function(n){if(void 0!==e[n[0]]){var r=parseInt(e[n[0]]);Number.isInteger(r)&&(n[0].endsWith("Minutes")?t.expire_data[n[1]]=60*r:t.expire_data[n[1]]=r)}})),nv.debug("{CookieExpire.expire_data}: ".concat(JSON.stringify(this.expire_data)))}},{key:"expire",value:function(e){if(this.expire_data){if(e in this.expire_data)return this.expire_data[e];nv.warn('{CookieExpire.expire} "'.concat(e,"\" not found. Setting expiry to 'session'."))}else nv.debug("{CookieExpire.expire} must be initialized before using. Setting expiry to 'session'.");return 0}}]),e}(),iv=function(){function e(){var t=this;i(this,e),this.cookieStore={},this.cookieExpireSeconds=new av,this.initCookieExpiration=function(e){t.cookieExpireSeconds.init(e)},this.getCookieElement=function(e,n){if(!t.isEnabled)return t.getCookie(e)&&t.getCookie(e)[n]||null;var r=t.getCookie(e);if(r&&n in dg[e]){var a=r.split(",")[dg[e][n]];if("null"!==a)return a}},this.getCookie=function(e){return e?t.isEnabled?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*".concat(encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*([^;]*).*$)|^.*$")),"$1"))||null:t.cookieStore[e]:null},this.setCookie=function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=arguments.length>4?arguments[4]:void 0;if(!t.isEnabled)return t.cookieStore[e]=n,!0;if(i||window.location.port||(i=rv(window.location.host)),!i&&window.location.port&&(i=window.location.hostname),void 0===r&&(r=t.cookieExpireSeconds.expire(e)),0===r)r="";else{var o=new Date;o.setTime(o.getTime()+1e3*r),r=o}if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(r)switch(r.constructor){case Number:s=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age=".concat(r);break;case String:s="; expires=".concat(r);break;case Date:s="; expires=".concat(r.toUTCString())}return document.cookie="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n)).concat(s,"; domain=".concat(i),"; path=".concat(a),"; secure; samesite=strict"),!0},this.hasCookie=function(e){return t.isEnabled?!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)".concat(encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie):e in t.cookieStore},this.cookieKeys=function(){if(!t.isEnabled)return Object.keys(t.cookieStore);for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=e.length,r=0;r<n;r++)e[r]=decodeURIComponent(e[r]);return e},this.removeCookie=function(e,n,r){return t.isEnabled?!!t.hasCookie(e)&&(document.cookie="".concat(encodeURIComponent(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT").concat(r?"; domain=".concat(r):"").concat(n?"; path=".concat(n):""),!0):e in t.cookieStore&&(delete t.cookieStore[e],!0)},this.setCookieElement=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.isEnabled)return t.cookieStore[e]||(t.cookieStore[e]={}),void Object.assign(t.cookieStore[e],n);if(e in dg){if(Object.keys(dg[e]).length){var r=t.getCookie(e);r||(r="");var a=r.split(",");return a.length!=Object.keys(dg[e]).length&&(a=Object.keys(dg[e]).map((function(e,t){return a.length>t?a[t]:"null"}))),Object.keys(n).forEach((function(t){t in dg[e]?a[dg[e][t]]="".concat(n[t]):nv.warn('{setCookieElement} Element "'.concat(t,'" not found in cookieMapper["').concat(e,'"]. cookieMapper >>'),dg)})),t.setCookie(e,a.join(","))}nv.error("{setCookieElement} Can't set cookie \"".concat(e,'" if cookieMapper[cookieName] is empty. cookieMapper >>'),dg)}else nv.error('{setCookieElement} Cookie "'.concat(e,'" must be mapped in cookieMapper before you can set it. cookieMapper >>'),dg)};try{this.testCookie(),nv.debug("Cookies are supported.")}catch(e){this.isEnabled=!1,nv.debug("Cookies are not supported, falling back to simple storage!")}}return o(e,[{key:"testCookie",value:function(){this.isEnabled=!0,this.setCookie("alphachat-test","0",1);var e=this.getCookie("alphachat-test");this.setCookie("alphachat-test","1",1);var t=this.getCookie("alphachat-test");if(!e||!t||e==t)throw"Cookies are not supported!"}}]),e}(),ov=k.client("alpha-sdk Application/utils/history.js"),sv=function(){function e(t){i(this,e),this.Alphachat=t,this.lastLocalStateModification=0,this.historyPromise=null,this.serverDelayMs=1500,this.cacheTimeoutMs=3e3,this.cache=null}var t,n;return o(e,[{key:"localStateModified",value:function(){this.lastLocalStateModification=+new Date}},{key:"isLaggingBehind",value:function(e){var t=this.Alphachat.state.messages.map((function(e){return e.message_id}));return t.length>e.length&&e.some((function(e){return t.includes(e.message_id)}))}},{key:"fetchFromServer",value:(n=r(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Alphachat.config||this.Alphachat.api.config,e.prev=1,e.abrupt("return",this.Alphachat.api.post("".concat(t.agentServer,"/history"),{sender_role:"enduser"}));case 5:e.prev=5,e.t0=e.catch(1),ov.warning(e.t0);case 8:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(){return n.apply(this,arguments)})},{key:"get",value:(t=r(a.mark((function e(t){var n,r,i,o,s=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=+new Date,!(this.cache&&this.cache.timestamp+this.cacheTimeoutMs>r)){e.next=3;break}return e.abrupt("return",this.cache.result);case 3:if(!this.historyPromise){e.next=7;break}return e.abrupt("return",this.historyPromise);case 7:this.historyPromise=new Promise((function(e){n=function(t){e(t),s.historyPromise=null}}));case 8:return o={history:this.Alphachat.state.messages,local:!0},e.prev=9,e.next=12,this.fetchFromServer(t);case 12:i=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),n(o),e.abrupt("return",o);case 19:return this.lastLocalStateModification+this.serverDelayMs>r||!i||!i.history||this.isLaggingBehind(i.history)?i=o:this.cache={result:i,timestamp:r},n(i),e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this,[[9,15]])}))),function(e){return t.apply(this,arguments)})}]),e}();function cv(e,t){var n=null,i=null;return function(){var o=r(a.mark((function r(){var o,s,c,l=arguments;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=+new Date,!(i&&i.timestamp+t>s)){r.next=3;break}return r.abrupt("return",i.result);case 3:if(!n){r.next=5;break}return r.abrupt("return",n);case 5:return n=new Promise((function(e){o=function(t){e(t),n=null}})),r.prev=6,r.next=9,e.apply(void 0,l);case 9:c=r.sent,r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(6),o(),r.abrupt("return");case 16:return t&&c&&(i={timestamp:s,result:c}),o(c),r.abrupt("return",c);case 19:case"end":return r.stop()}}),r,null,[[6,12]])})));return function(){return o.apply(this,arguments)}}()}function lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lv(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hv=k.client("alpha-sdk Application/alpha.js"),pv=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.Logger=k,this.state=this.createState(n),this.config=null,this.localStorage=new sg,this.cookies=new iv,this.session={},this.history=new sv(this),this.untilPropIsDefined=function(e,n,r){return Qd(t,e,n,r)},this.client_id=Xg(),this.currentAgent=null,this.configsApplied=[],this.rawConfig=null,this.isTabActive=!0,this.timer=[],this.setSessionCookieElement=function(e){e&&1===Object.keys(e).length?t.cookies.setCookieElement(hg,e):hv.debug("{Alpha.setSessionCookieElement} argument must be an object with one key")},this.getSessionCookieElement=function(e){return t.cookies.getCookieElement(hg,e)},this.initClient(),this.SetAgent=this.SetAgent.bind(this),this.AddMessage=this.AddMessage.bind(this),this.Init=this.Init.bind(this),this.chatHasFinished=this.chatHasFinished.bind(this),this.resetUser=cv(this.resetUser.bind(this),3e3),this.actionSelector=r,this.actionSelector["refresh client"]=this.refreshClient.bind(this),this.actionSelector["reload client"]=this.reloadClient.bind(this),this.actionSelector["ASSIGNED TO AGENT"]=function(){return ug.Fire("on-alphachat-assigned-to-agent")},this.actionSelector.AGENT_CLOSED_CHAT=function(){t.currentAgent&&"chat"===Alphachat.currentAgent.type&&t.currentAgent.Close(),t.state.setChatHasFinished(!0)},this.actionSelector["ticket is closed"]=this.actionSelector.AGENT_CLOSED_CHAT,this.actionSelector["open client"]=this.client.openChat,this.actionSelector["minimize client"]=this.client.minimizeChat,this.api=new Hg(this.actionSelector),this.user=new Jg(this,!1)}var t,n,s,c,l,u,h,p,f,d,g,v,m,y,b,_,w;return o(e,[{key:"initClient",value:function(){var e={openChat:function(e){hv.debug("{Alphachat.client.openChat}"),document.dispatchEvent(new CustomEvent("on-alphachat-open",{detail:e}))},closeChat:function(e){hv.debug("{Alphachat.client.closeChat}"),document.dispatchEvent(new CustomEvent("on-alphachat-close",{detail:e}))},minimizeChat:function(e){hv.debug("{Alphachat.client.minimizeChat}"),document.dispatchEvent(new CustomEvent("on-alphachat-minimize",{detail:e}))}};e.clearCachedConfig=this.clearCachedConfig.bind(this),this.client=e}},{key:"cancelTimeouts",value:(w=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hv.debug("{Alphachat.cancelTimeouts}"),this.timer.forEach((function(e){clearTimeout(e)})),this.timer=[],e.next=5,Kd(100);case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"openWebsocket",value:(_=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection||!this.connection.isWebsocketOpen){e.next=3;break}return hv.debug("{openWebsocket} socket is already open this.connection.isWebsocketOpen=".concat(this.connection.isWebsocketOpen)),e.abrupt("return");case 3:return this.config.agentServerWS||(this.config.agentServer||hv.error("Fatal: missing this.config.agentServer"),this.config.agentServerWS=this.config.agentServer.replace(/^[htps]+/i,"wss")+"/ws"),hv.debug("{openWebsocket} ".concat(this.config.agentServerWS,", this.config="),this.config),this.connection||(this.connection=new tv(this.config.agentServerWS,this.config,this.actionSelector)),this.connection.user=this.user,this.connection.translations=this.state.translations,e.abrupt("return",this.connection.open());case 9:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"GetLanguage",value:function(e){var t=e.start&&e.start.language;if(hv.debug("{GetLanguage} language=".concat(JSON.stringify(t))),Kg(t)){var n=this.cookies.getCookie(t.cookie);return t[n]||n||window.language||t.fallback}return e.site_configs&&e.site_configs.length&&e.site_configs.forEach((function(e){Jd(e.match)&&e.start&&e.start.language&&(t=e.start.language)})),t}},{key:"ApplySiteConfigs",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=e&&e.dynamic&&e.dynamic.language||this.GetLanguage(this.rawConfig);if(hv.debug("[ApplySiteConfigs] language=".concat(r,", applyAsIs=").concat(n," config="),e),n)this.config=e;else{if(this.config={},this.ApplyConfig(JSON.parse(JSON.stringify(e))),this.config.site_configs){var a=this.config.site_configs.filter((function(e){return Jd(e.match)}));a=a.concat(this.config.site_configs.filter((function(e){return r&&r===e.matchLanguage}))),hv.debug("[ApplySiteConfigs] configs = ".concat(JSON.stringify(a)));var i=a.map((function(e){return e.match}));this.configsApplied=i,a.forEach((function(e){hv.debug('[ApplySiteConfigs] Applying site config "'.concat(e.match,'"')),t.ApplyConfig(e)}))}this.config.start&&(!this.config.start.language&&r?this.config.start.language=r:Kg(this.config.start.language)&&this.config.start.language.fallback&&(this.config.start.language=this.config.start.language.fallback))}this.config.start&&"string"==typeof this.config.start.language&&(this.user.ReloadPageinfo(this.config.start.language),this.config.start.language in this.config.translations&&this.state.updateTranslations(this.config.translations[this.config.start.language])),Alphachat&&(Alphachat.user&&Alphachat.user.is_open||Alphachat.client&&Alphachat.client.isOpen())&&(hv.debug("[ApplySiteConfigs] this.config.start.language=".concat(this.config.start.language,", reloading agents")),this.CreateAgents(),this.SetAgent(this.config.start.agent))}}},{key:"clearCachedConfig",value:function(){this.localStorage.setItem(this.configUrl||"alphachat-conf","")}},{key:"StartWithConfig",value:(b=r(a.mark((function e(t){var n,r,i,o,s,c=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],r=this.localStorage.getItem(this.configUrl||"alphachat-conf"),!n&&r)try{r=JSON.parse(r)}catch(e){}else r=null;return hv.debug("{Alpha.StartWithConfig} ignoreStoredConfig=".concat(n," config="),t),t||hv.error("No config recieved"),t&&(t.agentServer&&t.agentServer.endsWith("/")&&(t.agentServer=t.agentServer.slice(0,-1)),t.agents&&t.agents.bot&&t.agents.bot.hostname&&!t.agents.bot.hostname.endsWith("/")&&(t.agents.bot.hostname=t.agents.bot.hostname+"/")),null===this.rawConfig&&(this.rawConfig=Object.freeze(JSON.parse(JSON.stringify(t)))),this.user.initFromConfig(t),hv.debug("Marker 1: StartWithConfig"),e.next=11,this.user.initProps();case 11:return hv.debug("Marker 2: StartWithConfig"),e.next=14,this.getHistoryHelper(t);case 14:i=e.sent,o=i.history,s=void 0===o?[]:o,hv.debug("Marker 3: StartWithConfig3 => history",s),this.user.active_agent&&r&&(this.user.is_open||s.length||r.dynamic&&!t.dynamic)?(hv.debug("{Alpha.StartWithConfig} applying storedConfig=",r),this.ApplySiteConfigs(r,!0)):(hv.debug("{Alpha.StartWithConfig} applying config=",t),this.ApplySiteConfigs(t),this.localStorage.setItem(Alphachat.configUrl||"alphachat-conf",JSON.stringify(this.config)));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"LoadConfig",value:(y=r(a.mark((function e(t){var n,r,i=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},hv.debug("{Alpha.LoadConfig}"),t){e.next=7;break}hv.error("{Alpha.LoadConfig} No config url recieved"),this.config={},e.next=13;break;case 7:return e.next=9,this.api.get(t);case 9:return r=e.sent,this.configVersion=t,e.next=13,this.StartWithConfig(r,n);case 13:return e.abrupt("return",this.config);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"isAgentLoaded",value:function(e){return!("bot"!==e||!this[e]||this[e].config!==this.config.agents[e])||!("chat"!==e||!this[e]||!this[e].connection)&&this[e].connection.isWebsocketOpen}},{key:"CreateAgents",value:function(){var e=this;hv.debug("{Alpha.CreateAgents}");["chat","bot"].forEach((function(t){var n=ig(t);n&&!e.isAgentLoaded(t)&&(hv.debug('{Alpha.CreateAgents} creating agent "'.concat(t,'"')),e[t]=new(Rg[t.toUpperCase()])(e,n),e[t].baseConfig=e.config)}))}},{key:"Init",value:(m=r(a.mark((function e(){var t,n,r,i,o,s,c,l,u,h,p,f,d,g,v,m,y,b,_,w,k,E=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.length>0&&void 0!==E[0]?E[0]:{},n=t.popup,r=void 0===n?{}:n,i=t.reactivate,o=void 0!==i&&i,s=t.agentInfo,c=t.caller,!Alphachat.user.popup_sequence_in_progress){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.user.initProps();case 5:return hv.debug('{Alpha.Init} this.user.active_agent="'.concat(this.user.active_agent,'" this.user.is_open="').concat(this.user.is_open,'" this.config.start.agent="').concat(this.config.start.agent,'" agentInfo=').concat(JSON.stringify(s)," popup=").concat(JSON.stringify(r),", caller=").concat(c)),this.CreateAgents(),e.next=9,this.getHistoryHelper();case 9:return l=e.sent,u=l.history,h=void 0===u?[]:u,e.next=14,this.syncMessagesWithHistory({history:h});case 14:if(this.currentAgent&&this.currentAgent.refresh(uv(uv({},s),{},{caller:"Alpha.Init"})),!s||!s.title||this.currentAgent&&(!this.currentAgent||"chat"===this.currentAgent.type)){e.next=17;break}return e.abrupt("return",this.SetAgent("chat"));case 17:if(p=this.user.active_agent&&h.length?this.user.active_agent:this.config.start.agent,f=ig(p),d=f.proactive,g=void 0!==d&&d,hv.debug("{Alpha.Init} history.length=".concat(h.length," agent=").concat(p," caller=").concat(c)),!r||!r.enabled||h.length||this.user.proactive_served||this.state.messages.length){e.next=61;break}if(this.user.SetPopupSequenceInProgress(!0),p=r.agent||p,g=ig(p).proactive||!1,"proactive"in r&&(g=r.proactive),hv.debug("{Alpha.Init} Initialized popup: agent=".concat(p),ig(p)),!r.timeout){e.next=29;break}return e.next=29,Kd(r.timeout);case 29:return e.next=31,this.getHistoryHelper();case 31:if(v=e.sent,m=v.history,!(y=void 0===m?[]:m).length&&!this.state.messages.length){e.next=38;break}return hv.debug("{Alpha.Init} Aborting popup: history.length=".concat(y.length," this.state.messages.length=").concat(this.state.messages.length)),this.user.SetPopupSequenceInProgress(),e.abrupt("return");case 38:if("chat"!==p){e.next=47;break}return e.next=41,Alphachat.HandoverTest();case 41:if(b=e.sent,_=r.max_ticket||50,!("possible"!==b.result||b["position in queue"]>_)){e.next=47;break}return hv.debug("{Alpha.Init} Aborting popup: handover_status=".concat(b.result," position_in_queue=").concat(b["position in queue"],", max_position_in_queue=").concat(_)),this.user.SetPopupSequenceInProgress(),e.abrupt("return");case 47:if(!(r.timeout>=0)){e.next=58;break}if(hv.debug("{Alpha.Init} Proceeding popup with agent=".concat(p," proactive=").concat(g)),this.client.openChat({popup:!0,agent:p}),w={proactive:g,popup:!0,history:y},k=this.SetAgent(p,w),g||"chat"!==p){e.next=55;break}return e.next=55,k;case 55:r.disableSuppression||this.user.SetProactiveServed(!0),e.next=59;break;case 58:r.timeout<0?hv.debug("{Alpha.Init} Suppressing popup due to negative timeout"):this.user.SetPopupSequenceInProgress();case 59:return hv.debug("{Alpha.Init} popup sequence finished!"),e.abrupt("return");case 61:return hv.debug('{Alpha.Init} agent: "'.concat(p,'" proactive: ').concat(g),ig(p)),e.next=64,this.SetAgent(p,{proactive:g&&!h.length,history:h,reactivate:o});case 64:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"LoadAgent",value:(v=r(a.mark((function e(t,n){var r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this[t]&&this[t].config===this.config.agents[t],hv.debug('{Alpha.LoadAgent} load agent "'.concat(t,'" isAgentConfigUpToDate=').concat(r)),this.currentAgent&&this.currentAgent.type!==t&&this.currentAgent.Close(),Alphachat.client.removeForms(),ug.Fire("alphachat-enable"),this[t]&&r||this.CreateAgents(),!this[t]){e.next=10;break}return this.currentAgent=this[t],this.user.SetActiveAgent(t),e.abrupt("return",this.currentAgent.Init(n));case 10:throw"[LoadAgent] Aborted load - this[agent] is undefined";case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"SetAgent",value:(g=r(a.mark((function e(t){var n,i=this,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=o.length>1&&void 0!==o[1]?o[1]:{}).history,!this.currentAgent||this.currentAgent!==this[t]||!this.state.messages.length){e.next=5;break}return this.state.messages.length&&this.state.info.hasUserInteracted&&this.client.widget.ScrollToBottom(),e.abrupt("return");case 5:return hv.debug('{Alpha.SetAgent} set agent "'.concat(t,'"')),e.abrupt("return",new Promise(function(){var e=r(a.mark((function e(o){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.config.customAttributes&&i.user.AddCustomAttributes(i.config.customAttributes),i.LoadAgent(t,n).then((function(e){hv.debug('{Alpha.SetAgent} Alpha.LoadAgent finished loading agent "'.concat(t,'"')),o(e),ug.Fire("alphachat-agent-load-success",{agent:t})})).catch(function(){var e=r(a.mark((function e(r){var o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hv.warn("{Alpha.SetAgent} agent handling failed",r),ug.Fire("alphachat-agent-load-fail",{status:r.status,msg:r.msg}),i.state.info.startupScriptOpenedChat?"chat"===t&&ug.Fire("on-alphachat-startup-conversation-with-agent-unavailable"):n.proactive||"chat"===t&&ug.Fire("on-alphachat-conversation-with-agent-unavailable"),r.fallback&&!0===(o=r.fallback)&&((o=Object.keys(i.config.agents).filter((function(e){return e!==t}))).length&&(o=o[0]),i.config.agents[o]&&i.config.agents[o].enabled||(o=!1),r.fallback=o),!r.fallback){e.next=9;break}return e.next=7,i.SetAgent(r.fallback,n);case 7:e.next=12;break;case 9:i.currentAgent=i[i.config.start.agent],i.user.SetCookies(),ug.Fire("alphachat-disable");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"ApplyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qg(this.config,e)}},{key:"ResetState",value:function(e){hv.debug("{Alpha.ResetState} triggered by ".concat(e)),this.currentAgent&&this.currentAgent.Close(),this.currentAgent=null,this.chat&&this.chat.connection&&this.chat.connection.isWebsocketOpen&&this.chat.connection.close(),this.user.SetActiveAgent(),this.state.resetMessages(),this.state.resetInfo(),this.user.SetPopupSequenceInProgress(),this.state.setChatHasFinished(!1),this.bot&&(this.bot.initInProgress=!1),ug.Fire("alphachat-enable")}},{key:"AddMessage",value:(d=r(a.mark((function e(t){var n,r,i,o,s,c,l,u=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(u.length>1&&void 0!==u[1])||u[1],t&&(t.role||t.sender_role)){e.next=3;break}return e.abrupt("return",!1);case 3:if(!t.message_id){e.next=8;break}if(!this.state.messages.map((function(e){return e.message_id})).some((function(e){return e==t.message_id}))){e.next=6;break}return e.abrupt("return",!1);case 6:e.next=9;break;case 8:t.message_id=this.createMessageId();case 9:return r=t.seen_by_recipient,i=void 0!==r&&r,o=t.received_by_recipient,s=void 0===o||o,Object.assign(t,{seen_by_recipient:i,received_by_recipient:s,role:t.role||t.sender_role||"system",isotime:(new Date).toISOString(),avatar:t.avatar||this.state.agent.avatar,value:t.message||t.value}),hv.debug("{Alpha.AddMessage} message: ".concat(JSON.stringify(t))),c=this.state.addMessage(t),"bot"===t.role&&!1===t.received_by_recipient&&(l=void 0===t.timeout?this.currentAgent&&this.currentAgent.config&&this.currentAgent.config.fakeTypingDelay||0:t.timeout,setTimeout(this.state.updateMessage,l,c,{received_by_recipient:!0})),!t.seen_by_recipient&&t.message_id&&this.currentAgent&&this.client.isOpen()&&this.isTabActive&&(hv.debug("{Alpha.AddMessage} Going to mark message_id=".concat(t.message_id," as seen")),setTimeout(this.currentAgent.MarkMessageSeen,500,t.message_id,"AddMessage"),n=!0),n&&this.client&&setTimeout(this.client.refreshUnseenMessages,1e3),e.abrupt("return",t.message_id);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"createMessageId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xg();return e&&this.state.updateAgent({messageId:t}),t}},{key:"SendRatingForm",value:(f=r(a.mark((function e(){var t,n,r,i,o,s=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.rating,r=void 0===n?null:n,i=t.review,o={item_type:"form",sender_role:"enduser",payload:{rating:r,review:void 0===i?"":i}},e.abrupt("return",tg(o,this.user));case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"SendMessage",value:(p=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Alphachat.pendingHandover&&Alphachat.pendingHandover.resolve&&Alphachat.pendingHandover.resolve(),t.sender_role||(t.sender_role="enduser"),e.next=4,tg(t,this.user,this);case 4:if(n=e.sent,this.history.localStateModified(),t.silent||"add item"!=n.action||this.AddMessage(uv(uv({},n),{},{message:t.message})),!Alphachat.pendingHandover){e.next=11;break}return e.next=10,Alphachat.pendingHandover.chatInitialized;case 10:delete Alphachat.pendingHandover;case 11:"system"===n.sender_role&&(n.user_profile=this.user.profile()),delete n.action;case 13:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"HandoverTest",value:(h=r(a.mark((function e(t){var n,r,i,o,s,c,l;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=this.config||{}),n=this.icomm||{},r=n.enduser_id,i=void 0===r?this.client_id:r,o=n.page_info,s=void 0===o?{}:o,hv.debug("{Alpha.HandoverTest} enduser_id=".concat(i,", this.icomm.enduser_id=").concat(this.icomm&&this.icomm.enduser_id)),c={action:"query handover",enduser_id:i,sender_role:"enduser",sender_id:i,url:s.url||window.location.href},t.agentServer){e.next=7;break}return hv.warn("No agent server configured!"),e.abrupt("return",{status:!1});case 7:return this.api.config||(this.api.config=t),hv.debug("Posting to ".concat(t.agentServer,"/handover")),e.next=11,this.api.post("".concat(t.agentServer,"/handover"),c);case 11:if(!(l=e.sent)){e.next=14;break}return e.abrupt("return",uv(uv({},l.result),{},{result:l.result.handover}));case 14:return hv.warn("Chat handover test response invalid"),e.abrupt("return",{status:!1});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"resetUser",value:(u=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.get("".concat(this.config.agentServer,"/reload-client")));case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"startNewSession",value:(l=r(a.mark((function e(){var t,n,r,i,o,s,c,l=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.reloadAgents,r=void 0===n||n,i=t.resetUser,o=void 0===i||i,s=t.caller,c=void 0===s?"":s,hv.debug("{startNewSession} reloadAgents=".concat(r," caller=").concat(c)),e.next=4,Qd(this,"config");case 4:if(hv.debug("{startNewSession}"),!this.config.agentServer){e.next=13;break}if(!o){e.next=9;break}return e.next=9,this.resetUser();case 9:if(this.ResetState("startNewSession"),!r){e.next=13;break}return e.next=13,this.Init({reactivate:!0});case 13:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"hasUnseenMessagesFromAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.messages;return!(!e||!e.length)&&e.some((function(e){return"agent"===e.role&&!e.seen_by_recipient}))}},{key:"reloadClient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hv.debug("{reloadClient} was executed",e),setTimeout(ug.Fire,100,"alphachat-force-reload",{agent:this.config.start.agent})}},{key:"closeClient",value:function(){ug.Fire("on-alphachat-close",{force:!0})}},{key:"isFormSynced",value:function(){var e=this.client.getVisibleFormName();return!this.user.form&&!e||this.user.form===e}},{key:"syncForm",value:function(){if(!this.isFormSynced()&&this.user.form){var e=this.state.messages.length&&this.state.messages[this.state.messages.length-1],t=e&&e.id&&e.id.length>0&&"_handover"===e.id[1];if(this.currentAgent&&"bot"===this.currentAgent.type&&"bot"===this.user.active_agent&&t&&"handover"===this.user.form)this.SetAgent("chat").then((function(){return ug.Fire("on-alphachat-handover")}));else{if("offline"===this.user.form)return void this.timer.push(setTimeout(ug.Fire,300,ALPHACHAT_EMAIL_FORM,{formName:"offline"}));this.currentAgent&&this.currentAgent.refresh({caller:"syncForm"}),this.middleware.triggerForm({form_name:this.user.form})}}}},{key:"syncMessagesWithHistory",value:(c=r(a.mark((function e(){var t,n,r,i,o,s,c,l,u,h,p,f,d=this,g=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:{},n=t.history,r=void 0===n?[]:n,i=t.enableJS,o=void 0===i||i,r.length||this.state.messages.length||!this.currentAgent){e.next=6;break}return this.state.updateAgent({ready:!1}),e.next=5,this.currentAgent.Init({history:r});case 5:return e.abrupt("return");case 6:if(!og(this.state.messages,r)){e.next=10;break}return hv.debug("{syncMessagesWithHistory} state and history are in sync, bailing out"),this.client&&this.client.refreshUnseenMessages(),e.abrupt("return");case 10:this.state.resetMessages(),this.client&&this.client.widget&&this.client.widget.ResetLastScrollPosition(),!this.user.form&&this.client.removeForm&&this.client.removeForm(),s=r.filter((function(e){return["greeting","message","handover","attachment"].includes(e.item_type)})),c=0;case 15:if(!(c<s.length)){e.next=39;break}if("handover"!==(l=s[c]).item_type){e.next=22;break}if(this.currentAgent&&"chat"===this.currentAgent.type){e.next=21;break}return e.next=21,this.SetAgent("chat",{history:r});case 21:return e.abrupt("continue",36);case 22:if(l.avatar||(u=this.bot&&this.bot.config.avatar||this.config.agents.bot&&this.config.agents.bot.avatar,h=this.state.agent.avatar||this.chat&&this.chat.config.avatar||this.config.agents.chat&&this.config.agents.chat.avatar,l.avatar="bot"===l.sender_role||"system"===l.sender_role?u:h),(p=Object.assign(l,{role:l.sender_role,message:l.value,text:l.value,avatar:l.avatar})).payload&&Object.assign(p,p.payload),"bot"!==p.role){e.next=34;break}if(this.bot){e.next=29;break}return e.next=29,new Promise((function(e){d.bot&&e()}));case 29:return f=p.js&&"triggerForm"===p.js.apicall&&p.js.form_name==this.user.form,e.next=32,this.bot.processBotMessages({messages:[p],sync:!1,processJSCall:o&&f});case 32:e.next=35;break;case 34:this.AddMessage(p,!1);case 35:s.length;case 36:c++,e.next=15;break;case 39:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"refreshClient",value:(s=r(a.mark((function e(){var t,n,r,i,o,s,c,l,u,h,p,f,d,g,v,m=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:{},n=t.enableJS,r=void 0===n||n,i=t.agentInitInProgress,o=void 0!==i&&i,s=t.caller,c=void 0===s?"":s,l=t.important,u=void 0!==l&&l,!this.refreshInProgress||u){e.next=4;break}return hv.debug('{refreshClient} Alphachat.refreshInProgress=true caller="'.concat(c,'"')),e.abrupt("return");case 4:if(!this.currentAgent||"chat"!==this.currentAgent.type||1!==this.state.messages.length||"unavailable"!==this.state.messages[0].message_id){e.next=7;break}return this.client.disableInput(),e.abrupt("return");case 7:if(hv.debug("{refreshClient} enableJS=".concat(r," agentInitInProgress=").concat(o,' caller="').concat(c,'"')),this.config){e.next=11;break}return this.refreshInProgress=!1,e.abrupt("return");case 11:if(!u||!this.refreshInProgressPromise){e.next=16;break}return e.next=14,this.refreshInProgressPromise;case 14:if(!this.refreshInProgress){e.next=16;break}return e.abrupt("return");case 16:return this.refreshInProgress=!0,this.refreshInProgressPromise=new Promise((function(e){h=e})),e.next=20,this.user.ReloadUser();case 20:if(!this.user.popup_sequence_in_progress){e.next=24;break}return this.refreshInProgress=!1,h(),e.abrupt("return");case 24:return Kd(5e3).then((function(){Alphachat.refreshInProgress=!1})),this.state.chatHasFinished=!1,(p=this.user.active_agent)||this.ResetState("refreshClient"),this.user.form||(Alphachat.client.removeForms(),setTimeout(ug.Fire,100,"alphachat-enable")),e.next=31,this.getHistoryHelper();case 31:if(f=e.sent,d=f.history,g=f.postback,this.state.chatHasFinished=g&&g.action&&"ticket is closed"===g.action||!1,v=p&&this[p],!p||this.currentAgent&&this.currentAgent.type===p&&this.state.agent.type===p){e.next=42;break}if(this[p]||this.CreateAgents(),!(v=this[p])||!v.type||v.type===this.state.agent.type&&this.currentAgent){e.next=42;break}return e.next=42,Promise.race([this.SetAgent(v.type,{history:d}),Kd(3e3)]);case 42:if(!this.currentAgent||!this.state.agent||this.state.agent.ready){e.next=46;break}return hv.debug("Initializing currentAgent..."),e.next=46,this.currentAgent.Init();case 46:hv.debug("{refreshClient} this.user.active_agent=".concat(this.user.active_agent," ")),d&&this.syncMessagesWithHistory({history:d,enableJS:r}),this.isFormSynced()||this.syncForm(),this.client&&this.client.refreshUnseenMessages(),this.state.chatHasFinished&&this.chatHasFinished(),this.state&&this.state.messages.length&&"bot"===this.state.messages[this.state.messages.length-1].role&&this.state.lastScrollPosition?this.client.widget.ScrollToBottom(this.state.lastScrollPosition,"refreshClient"):this.client.widget.ScrollToBottom(),this.refreshInProgress=!1,h();case 54:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getHistoryHelper",value:(n=r(a.mark((function e(){var t,n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hv.debug("{Alpha.getHistoryHelper}"),e.next=3,this.history.get();case 3:return(t=e.sent).local||(Alphachat.state.updateInfo({hasUserInteracted:t.history.some((function(e){return"enduser"===e.sender_role}))}),Alphachat.state.updateInfo({firstClickRegistered:t.history.some((function(e){return"enduser"===e.sender_role&&e.payload&&"button"===e.payload.trigger}))}),n=t.history.some((function(e){return"enduser"===e.sender_role&&(!e.payload||"button"!==e.payload.trigger)})),Alphachat.state.updateInfo({firstMessageRegistered:n,firstMessageSent:n})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hv.debug("{Alpha.createState}");var t={type:null,ready:!1,error:null,title:null,avatar:null},n={firstClickRegistered:!1,firstMessageRegistered:!1,firstMessageSent:!1,hasUserInteracted:!1},r={agent:uv({},t),messages:[],form:null,info:uv({},n),translations:{},chatHasFinished:!1,updateAgent:function(e,t){hv.debug("{Alphachat.state.updateAgent} value=".concat(JSON.stringify(e)," caller=").concat(t)),this.agent=Object.assign(this.agent,e)},resetAgent:function(){this.agent=uv({},t)},updateInfo:function(e){this.info=Object.assign(this.info,e),(e.firstMessageSent||e.firstMessageRegistered||e.firstClickRegistered)&&(this.info.hasUserInteracted=!0)},resetInfo:function(){this.info=uv({},n)},updateTranslations:function(e){this.translations=Qg(this.translations,e),hv.debug("{updateTranslations} updated translations to",this.translations)},setForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.form=e},addMessage:function(e){return this.messages.push(e),this.messages.length-1},updateMessage:function(e,t){var n=this;t&&this.messages&&Xd(e)&&e<this.messages.length&&Object.keys(t).forEach((function(r){n.messages[e][r]=t[r]}))},resetMessages:function(){this.messages=[]},filterMessages:function(e){this.messages=this.messages.filter(e)},setChatHasFinished:function(e){this.chatHasFinished=e,e&&Alphachat.chatHasFinished()}},a=e.action,i={updateAgent:a,resetAgent:a,updateInfo:a,resetInfo:a,setForm:a,updateTranslations:a,addMessage:a,updateMessage:a,resetMessages:a,filterMessages:a,setChatHasFinished:a};return e.observable&&(r=e.observable(r,i)),Object.keys(i).forEach((function(e){r[e]=r[e].bind(r)})),r}},{key:"chatHasFinished",value:(t=r(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:0,Alphachat.state.chatHasFinished&&Alphachat.client.isOpen()){e.next=3;break}return e.abrupt("return");case 3:return hv.debug("{Alpha.chatHasFinished} attempt=".concat(t)),e.next=6,Qd(this,"config");case 6:if(!this.config){e.next=11;break}if(!(this.config.start&&this.config.start.alwaysOpen||this.config.restartWhenFinished)){e.next=11;break}return e.next=10,this.startNewSession({resetUser:!0,caller:"chatHasFinished"});case 10:return e.abrupt("return");case 11:return e.next=13,Qd(this,"client");case 13:return this.client.disableInput(),this.client.widget&&this.client.widget.ResetLastScrollPosition(),e.next=17,Qd(this,"state");case 17:return e.next=19,Qd(this.state,"translations");case 19:this.client.widget&&this.state.translations.messages&&!this.refreshInProgress&&(this.user.SetForm(null,"chatHasFinished"),this.client.widget.ClearChildren(),this.AddMessage({sender_role:"system",message:this.state.translations.messages.closed,message_id:"chatisclosed",seen_by_recipient:!0}),this.client.widget.ScrollToBottom(void 0,"chatHasFinished"));case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"messageWasSeenByEnduser",value:function(e){hv.debug("{messageWasSeenByEnduser} message_id=".concat(e)),e&&this.api.post("".concat(this.config.agentServer,"/item/seen"),{message_id:e})}},{key:"sendFeedback",value:function(e,t){if(this.config&&this.config.agentServer&&this.api){var n="".concat(this.config.agentServer,"/item/add"),r={sender_id:"bot",sender_role:"bot",item_type:"message",message_id:t,payload:{feedback:e}};return Alphachat.api.post(n,r)}}}]),e}(),fv=function(e){var t=document.getElementById("alphachat-container"),n=t&&window.getComputedStyle(t),r=n&&"visible"===n.visibility;return ve.createElement("div",{className:"alphachat-message-video-video-player"},ve.createElement("video",{preload:"auto",autoPlay:r,controls:!0,controlsList:"nodownload"},ve.createElement("source",{src:e.message.video})))};function dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var gv=function(e){c(n,e);var t=dv(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).copyUrl=r.copyUrl.bind(p(r)),r.inputRef={},r}return o(n,[{key:"copyUrl",value:function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}},{key:"downloadFile",value:function(e){window.open(e,"_blank").focus()}},{key:"render",value:function(){var e=this,t=this.props.message,n=t.role,r=t.payload&&t.payload.file&&t.payload.file.length&&t.payload.file.map((function(t,r){var a=t.name.length>30?t.name.slice(0,27)+"...":t.name;return ve.createElement("div",{key:r,id:"alphachat-file-container",style:{justifyContent:"end"}},ve.createElement("span",{onClick:function(){return e.downloadFile(t.url)},ref:t.url,id:"alphachat-file-container-filename"+"".concat(n&&"-"+n)},"".concat(Alphachat.state.translations&&Alphachat.state.translations.attachment||"Attachment",": "),ve.createElement("i",null,a)),ve.createElement("input",{key:"attachment-input"+r,id:"alphachat-file-container-url-input",readOnly:!0,ref:function(n){return e.inputRef[t.name]=n},value:t.url}))}));return ve.createElement("div",{className:"alphachat-chat-message-text"},r)}}]),n}(me),vv=function(){function e(t){i(this,e),this.xDown=null,this.yDown=null,this.element="string"==typeof t?document.querySelector(t):t.current,t.current.addEventListener("touchstart",this.initValues.bind(this),!1)}return o(e,[{key:"initValues",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"handleTouchMove",value:function(e){var t=e.touches[0].clientX,n=e.touches[0].clientY;this.xDiff=this.xDown-t,this.yDiff=this.yDown-n,Math.abs(this.xDiff)>Math.abs(this.yDiff)&&(this.xDiff>0?this.onLeft():this.onRight()),this.xDown=null,this.yDown=null}},{key:"run",value:function(){this.element.addEventListener("touchmove",this.handleTouchMove,!1)}},{key:"cancel",value:function(){this.element.removeEventListener("touchmove",this.handleTouchMove,!1),this.element.removeEventListener("touchstart",this.initValues,!1)}}]),e}();function mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var yv=function(e){c(n,e);var t=mv(n);function n(){var e;return i(this,n),(e=t.call(this)).state={scrollWidth:0,currentPage:0},e.pages=0,e.pageWidth=270,e.container=ve.createRef(),e}return o(n,[{key:"componentDidMount",value:function(){this.swiper=new vv(this.container),this.swiper.onLeft=this.scrollRight,this.swiper.onRight=this.scrollLeft,this.swiper.run()}},{key:"componentWillUnmount",value:function(){this.swiper.cancel()}},{key:"scrollLeft",value:function(){var e=this.state.currentPage-1;-1!==e?this.setState({currentPage:e,scrollWidth:e*-this.pageWidth}):this.state.currentPage=0}},{key:"scrollRight",value:function(){var e=this.state.currentPage+1;e!==this.pages?this.setState({currentPage:e,scrollWidth:e*-this.pageWidth}):this.setState({currentPage:0,scrollWidth:0})}},{key:"createIndicator",value:function(e){for(var t=[],n=0;n<e;n++){var r=ve.createElement("circle",{cx:10+15*n,cy:"10",r:"4",fill:this.state.currentPage===n?"grey":"rgba(46, 44, 44, 0.342)"});t.push(r)}return ve.createElement("svg",{height:"20",width:"".concat(15*e,"px"),id:"carousel-pages-indicator"},t)}},{key:"fireButton",value:function(e){if(url){var t=e.url,n=window.open(t,"_blank");n&&n.focus()}kd.Fire("on-alphachat-conversation-click-button"),e.payload&&Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({type:"message",role:"enduser",trigger:"carousel_button",message:e.payload})}},{key:"goUrl",value:function(e){if(e){var t=window.open(e,"_blank");t&&t.focus()}}},{key:"render",value:function(){var e=this,t=this.props.message.carousel,n=this.state.currentPage;return this.pages=t.length,ve.createElement("section",{ref:this.container,id:"carousel-container",style:{"--carousel-lenght":t.length,"--carousel-width":"".concat(this.pageWidth,"px")}},ve.createElement("div",{onClick:this.scrollLeft.bind(this),style:{display:0===this.state.currentPage?"none":"flex"},className:"carousel-arrow-selection left"}),ve.createElement("div",{onClick:this.scrollRight.bind(this),style:{display:n===this.pages-1?"none":"flex"},className:"carousel-arrow-selection right"}),ve.createElement("div",{id:"carousel-content",style:{transform:"translateX(".concat(this.state.scrollWidth,"px)")}},t.map((function(t,r){return ve.createElement("section",{key:r,style:{cursor:t.link?"pointer":"",opacity:r!==n?"0.2":"1",margin:"0px"},className:"carousel-content-item",onClick:function(){t.link&&e.goUrl(t.link)}},ve.createElement("span",{className:"carousel-item-image-wrapper"},ve.createElement("img",{className:"carousel-item-image",src:t.image_url,alt:"image"})))}))))}}]),n}(ve.Component);function bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}k.client("alphachat-v2 Application/utility/asyncRender.js");var _v=function(e){c(n,e);var t=bv(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={resolvedError:!1,resolvedSuccess:!1,data:"",error:""},r.renderChildren=r.renderChildren.bind(p(r)),r}return o(n,[{key:"componentDidMount",value:function(){var e=this;this.props.promise?this.props.promise().then((function(t){return e.setState({resolvedSuccess:!0,data:t})})).catch((function(t){return e.setState({resolvedError:!0,error:t})})):this.setState({resolvedSuccess:!0})}},{key:"componentDidUpdate",value:function(){var e;Alphachat.currentAgent&&"bot"===Alphachat.currentAgent.type&&(e=this.props&&this.props.settings&&this.props.settings.lastScrollPosition),Alphachat.client.widget.ScrollToBottom(e,"AsyncComponent.componentDidUpdate")}},{key:"renderChildren",value:function(){var e=this,t=this.props.children.filter((function(e){return e}));return ve.Children.map(t,(function(t){return ve.cloneElement(t,{data:e.state.data})}))}},{key:"render",value:function(){if(this.state.resolvedError)return ve.createElement("span",null);if(this.state.resolvedSuccess){var e=this.props,t=e.seen,n=e.role,r=e.id;return ve.createElement("div",{ref:this.container,className:this.props.className,"data-id":r,"data-seen":t,"data-role":n},this.renderChildren())}return ve.createElement("span",null)}}]),n}(ve.PureComponent);function wv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var kv,Ev=function(e){c(n,e);var t=wv(n);function n(e){var r;i(this,n),r=t.call(this,e);var a=e.feedback;return r.state={thumbsUp:1===a,thumbsDown:-1===a},r}return o(n,[{key:"getFeedbackAsInt",value:function(e){var t=e.thumbsUp,n=e.thumbsDown;return!0===t&&!1===n?1:!1===t&&!0===n?-1:0}},{key:"thumbsUp",value:function(){var e=this.state.thumbsUp,t=this.props.messageId,n={thumbsDown:!1,thumbsUp:!e};this.setState(n),t&&Alphachat.sendFeedback(this.getFeedbackAsInt(n),t)}},{key:"thumbsDown",value:function(){var e=this.state.thumbsDown,t=this.props.messageId,n={thumbsUp:!1,thumbsDown:!e};this.setState(n),t&&Alphachat.sendFeedback(this.getFeedbackAsInt(n),t)}},{key:"render",value:function(){var e=this.state,t=e.thumbsUp,n=e.thumbsDown,r=this.props.message.role,a=this.props.seen||"bot"!==r?"alpha-chat-lnr-thumbs":"alpha-chat-lnr-thumbs-preloading";return ve.createElement("span",{id:a},ve.createElement("span",{onClick:this.thumbsDown.bind(this),id:n?"alpha-chat-lnr-thumbs-down-true":"alpha-chat-lnr-thumbs-down"}),ve.createElement("span",{onClick:this.thumbsUp.bind(this),id:t?"alpha-chat-lnr-thumbs-up-true":"alpha-chat-lnr-thumbs-up"}))}}]),n}(me);function Sv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Av=ud(kv=function(e){c(n,e);var t=Sv(n);function n(e){return i(this,n),t.call(this,e)}return o(n,[{key:"render",value:function(){var e=this,t=this.props.settings.agentTyping,n=void 0!==t&&t;this.props.messages.length||this.props.form||(n=!0);var r=Alphachat.currentAgent&&Alphachat.currentAgent.config.avatar||Alphachat.config.avatar;return ve.createElement("section",{id:"alpha-chat-messages-container"},this.props.messages.filter((function(e){return["text","value","carousel","image","video","button"].map((function(t){return!(!(t in e)||!e[t])&&!("button"===t&&!e.button.length)})).some((function(e){return e}))})).map((function(t){var n=t.uuid,r=(t.seen_by_recipient,t.received_by_recipient),a=t.video,i=t.carousel,o=t.payload,s=t.loading,c=t.isotime,l=t.isodate,u=t.message_id,h=(t.is_last,t.id),p=h&&h[0]&&h[1]&&[h[0],h[1]],f=o&&o.feedback,d=t.role||t.sender_role,g=p&&t.feedback&&!s;return ve.createElement(_v,{className:"alpha-chat-message-item",id:n,seen:r,role:d,isotime:l||c,key:n,settings:e.props.settings},d&&"enduser"!==d&&!i&&ve.createElement("img",{className:"alpha-chat-message-item-avatar",src:t.avatar,onError:function(e){return e.target.style.display="none"}}),a?ve.createElement(fv,{message:t}):i?ve.createElement(yv,{message:t}):o&&o.file?ve.createElement(gv,{message:t}):ve.createElement(Pd,{settings:e.props.settings,message:t,seen:r}),g&&ve.createElement(Ev,{key:"thumbs"+u,messageId:u,actionId:p,feedback:f,message:t,seen:r}))})),n&&ve.createElement("div",{className:"alpha-chat-message-item","data-id":"agent-is-typing","data-seen":!1,"data-role":"agent",key:"agent-is-typing"},r?ve.createElement("img",{className:"alpha-chat-message-item-avatar",src:r,onError:function(e){return e.target.style.display="none"}}):ve.createElement("span",{className:"alpha-chat-message-item-avatar"}),ve.createElement(md,null)),ve.createElement("section",{id:"alpha-chat-form-container"}))}}]),n}(me))||kv,xv=[{name:{en:"People",et:"Inimesed",ru:"Люди",lv:"Cilvēki",lt:"Žmonės"},emojis:["😄","😃","😀","😊","😉","😍","😘","😚","😗","😙","😜","😝","😛","😳","😁","😔","😌","😒","😞","😣","😢","😂","😭","😪","😥","😰","😅","😓","😩","😫","😨","😱","😠","😡","😤","😖","😆","😋","😷","😎","😴","😵","😲","😟","😦","😧","👿","😮","😬","😐","😕","😯","😏","😑","👲","👳","👮","👷","💂","👶","👦","👧","👨","👩","👴","👵","👱","👼","👸","😺","😸","😻","😽","😼","🙀","😿","😹","😾","👹","👺","🙈","🙉","🙊","💀","👽","💩","🔥","✨","🌟","💫","💥","💢","💦","💧","💤","💨","👂","👀","👃","👅","👄","👍","👎","👌","👊","✊","👋","✋","👐","👆","👇","👉","👈","🙌","🙏","👏","💪","🚶","🏃","💃","👫","👪","💏","💑","👯","🙆","🙅","💁","🙋","💆","💇","💅","👰","🙎","🙍","🙇","🎩","👑","👒","👟","👞","👡","👠","👢","👕","👔","👚","👗","🎽","👖","👘","👙","💼","👜","👝","👛","👓","🎀","🌂","💄","💛","💙","💜","💚","💔","💗","💓","💕","💖","💞","💘","💌","💋","💍","💎","👤","💬","👣"]},{name:{en:"Nature",et:"Loodus",ru:"Природа",lv:"Daba",lt:"Gamta"},emojis:["🐶","🐺","🐱","🐭","🐹","🐰","🐸","🐯","🐨","🐻","🐷","🐽","🐮","🐗","🐵","🐒","🐴","🐑","🐘","🐼","🐧","🐦","🐤","🐥","🐣","🐔","🐍","🐢","🐛","🐝","🐜","🐞","🐌","🐙","🐚","🐠","🐟","🐬","🐳","🐎","🐲","🐡","🐫","🐩","🐾","💐","🌸","🌷","🍀","🌹","🌻","🌺","🍁","🍃","🍂","🌿","🌾","🍄","🌵","🌴","🌰","🌱","🌼","🌑","🌓","🌔","🌕","🌛","🌙","🌏","🌋","🌌","🌠","⛅","⛄","🌀","🌁","🌈","🌊"]},{name:{en:"Objects",et:"Objektid",ru:"Вещи",lv:"Objekti",lt:"Objektai"},emojis:["🎍","💝","🎎","🎒","🎓","🎏","🎆","🎇","🎐","🎑","🎃","👻","🎅","🎄","🎁","🎋","🎉","🎊","🎈","🎌","🔮","🎥","📷","📹","📼","💿","📀","💽","💾","💻","📱","📞","📟","📠","📡","📺","📻","🔊","🔔","📢","📣","⏳","⌛","⏰","⌚","🔓","🔒","🔏","🔐","🔑","🔎","💡","🔦","🔌","🔋","🔍","🛀","🚽","🔧","🔩","🔨","🚪","🚬","💣","🔫","🔪","💊","💉","💰","💴","💵","💳","💸","📲","📧","📥","📤","📩","📨","📫","📪","📮","📦","📝","📄","📃","📑","📊","📈","📉","📜","📋","📅","📆","📇","📁","📂","📌","📎","📏","📐","📕","📗","📘","📙","📓","📔","📒","📚","📖","🔖","📛","📰","🎨","🎬","🎤","🎧","🎼","🎵","🎶","🎹","🎻","🎺","🎷","🎸","👾","🎮","🃏","🎴","🀄","🎲","🎯","🏈","🏀","⚽","⚾","🎾","🎱","🎳","⛳","🏁","🏆","🎿","🏂","🏊","🏄","🎣","🍵","🍶","🍺","🍻","🍸","🍹","🍷","🍴","🍕","🍔","🍟","🍗","🍖","🍝","🍛","🍤","🍱","🍣","🍥","🍙","🍘","🍚","🍜","🍲","🍢","🍡","🍳","🍞","🍩","🍮","🍦","🍨","🍧","🎂","🍰","🍪","🍫","🍬","🍭","🍯","🍎","🍏","🍊","🍒","🍇","🍉","🍓","🍑","🍈","🍌","🍍","🍠","🍆","🍅","🌽"]},{name:{en:"Places",et:"Kohad",ru:"Мест",lv:"Vietas",lt:"Vietos"},emojis:["🏠","🏡","🏫","🏢","🏣","🏥","🏦","🏪","🏩","🏨","💒","⛪","🏬","🌇","🌆","🏯","🏰","⛺","🏭","🗼","🗾","🗻","🌄","🌅","🌃","🗽","🌉","🎠","🎡","⛲","🎢","🚢","⛵","🚤","🚀","💺","🚉","🚄","🚅","🚇","🚃","🚌","🚙","🚗","🚕","🚚","🚨","🚓","🚒","🚑","🚲","💈","🚏","🎫","🚥","🚧","🔰","⛽","🏮","🎰","🗿","🎪","🎭","📍","🚩"]},{name:{en:"Symbols",et:"Sümbolid",ru:"Символы",lv:"Simboli",lt:"Simboliai"},emojis:["🔟","🔢","🔣","🔠","🔡","🔤","🔼","🔽","⏪","⏩","⏫","⏬","🆗","🆕","🆙","🆒","🆓","🆖","📶","🎦","🈁","🈯","🈳","🈵","🈴","🈲","🉐","🈹","🈺","🈶","🈚","🚻","🚹","🚺","🚼","🚾","🚭","🈸","🉑","🆑","🆘","🆔","🚫","🔞","⛔","❎","✅","💟","🆚","📳","📴","🆎","💠","⛎","🔯","🏧","💹","💲","💱","❌","❗","❓","❕","❔","⭕","🔝","🔚","🔙","🔛","🔜","🔃","🕛","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","➕","➖","➗","💮","💯","🔘","🔗","➰","🔱","🔺","🔲","🔳","🔴","🔵","🔻","⬜","⬛","🔶","🔷","🔸","🔹"]}];function Cv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Ov=function(e){c(n,e);var t=Cv(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){var e=this,t=Alphachat.config.start.language;return ve.createElement("section",{id:"alphachat-emoji-picker",className:this.props.open?"emoji-selector-open":"emoji-selector-closed"},ve.createElement("div",{id:"alphachat-emoji-picker-list"},xv.map((function(n,r){return ve.createElement("section",{key:r,className:"alphachat-emoji-picker-list-category"},ve.createElement("span",{className:"alphachat-emoji-picker-list-category-title"},n.name[t]||n.name.en),ve.createElement("div",{className:"alphachat-emoji-picker-list-category-emojis"},n.emojis.map((function(t,n){return ve.createElement("span",{onClick:e.props.onPick.bind(e,t),className:"alphachat-emoji-picker-list-category-emojis-item",key:n},t)}))))}))))}}]),n}(me);function Tv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Nv=function(e){c(n,e);var t=Tv(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){return ve.createElement("div",{className:"loader"},"Loading...")}}]),n}(ve.PureComponent);function Pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Mv,jv=function(e){c(n,e);var t=Pv(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).inputRef={},r.copyUrl=r.copyUrl.bind(p(r)),r}return o(n,[{key:"click",value:function(e,t){this.props.deleteFile(e,t)}},{key:"copyUrl",value:function(e){this.inputRef[e].select(),document.execCommand("copy")}},{key:"render",value:function(){var e=this,t=this.props.files,n=t.length>0&&t.map((function(t,n){return ve.createElement("div",{key:n,id:"alphachat-file-container"},ve.createElement("span",{id:"alphachat-file-container-filename"},t.name),t.loading?ve.createElement(ve.Fragment,null,ve.createElement(Nv,{id:"alphachat-file-container-loader"})):ve.createElement(ve.Fragment,null,ve.createElement("span",{onClick:function(){return e.click(t,n)},id:"alphachat-file-container-remove"}),ve.createElement("span",{onClick:function(){return e.copyUrl(n)},id:"alphachat-file-container-copyLink"}),ve.createElement("input",{key:"alphachat-file-container-input"+n,id:"alphachat-file-container-url-input",readOnly:!0,ref:function(t){return e.inputRef[n]=t},value:t.url})))}));return ve.createElement("div",{id:"alphachat-files-container"},t.length>0&&n)}}]),n}(me);function Rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rv(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Lv=k.client("alphachat-v2 Application/components/input/index.js");var Fv=ud(Mv=function(e){c(s,e);var t,n=Iv(s);function s(){var e;return i(this,s),(e=n.call(this)).state={focused:!1,emojiOpen:!1,loading:!1,files:[]},e.input=ve.createRef(),e.send=e.send.bind(p(e)),e.openUpload=e.openUpload.bind(p(e)),e.deleteFile=e.deleteFile.bind(p(e)),e}return o(s,[{key:"keyDown",value:function(e){if(e&&13==e.keyCode&&!e.shiftKey)return e.preventDefault(),this.send(),!1}},{key:"userWriting",value:function(e){Alphachat.state.agent.messageId&&Alphachat.state.messages.map((function(e){return e.message_id})).includes(Alphachat.state.agent.messageId)&&Alphachat.createMessageId(!0),"chat"===Alphachat.state.agent.type&&Alphachat.currentAgent&&Alphachat.currentAgent.userTypes&&Alphachat.currentAgent.userTypes({message:e.target.value,type:"message"})}},{key:"reportMessageSend",value:function(e){var t=Alphachat.user.enduser_id,n=Alphachat.user.page_info.url,r={enduser_id:t,sender_id:t,sender_role:"enduser",event:"messageSend",data:{enduser_id:t,ip_address:Alphachat.user.location.ip,url:n,value:e}};xd.report(r)}},{key:"send",value:function(){if(this.props.active){var e=function(e){return e&&(new DOMParser).parseFromString(e,"text/html").body.textContent||""}(this.input.current.value);e?(Alphachat.currentAgent&&"bot"===Alphachat.currentAgent.type&&Alphachat.client.widget.isScrolledToBottom?Alphachat.client.widget.GetScrollBottom():Alphachat.client.widget.ResetLastScrollPosition(),Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({message:e,type:"message",role:"enduser",sender_role:"enduser"}),this.input.current.value="",kd.Fire("on-alphachat-conversation-send-message"),this.state.file&&this.state.file.status?this.reportMessageSend("file"):this.reportMessageSend("text")):this.input.current.value=""}}},{key:"sendAttachment",value:(t=r(a.mark((function e(t,n){var r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.files,this.props.active){e.next=3;break}return e.abrupt("return");case 3:if(r.length>0&&(r.map((function(e,t){e.status&&r.splice(t,1)})),this.setState({files:r})),!Alphachat.currentAgent){e.next=8;break}return e.next=8,Alphachat.currentAgent.SendMessage({payload:{file:[{name:t,url:n}]},message:n,type:"attachment",role:"enduser"});case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"addEmoji",value:function(e){this.setState({emojiOpen:!1}),this.input.current.setRangeText?this.input.current.setRangeText(e):(this.input.current.focus(),document.execCommand("insertText",!1,e))}},{key:"openEmoji",value:function(){this.setState({emojiOpen:!this.state.emojiOpen})}},{key:"openUpload",value:function(e){e.stopPropagation(),e.target.childNodes.length>0&&e.target.childNodes[0].click()}},{key:"deleteFile",value:function(e,t){var n=this.state.files;n.splice(t,1),this.setState(Dv(Dv({},this.state),{},{files:n}))}},{key:"uploadFile",value:function(e){var t=this,n=this.state.files,i=e.target.files[0],o=Alphachat.user.enduser_id;this.setState({loading:!0}),n.length>0?this.setState({files:[].concat(Vd(n),[{loading:!0,status:!0,name:e.target.files[0].name,url:""}])}):this.setState({files:[{loading:!0,status:!0,name:e.target.files[0].name,url:""}]}),function(e,t,n){var r=new URL(t+"/upload"),a={filename:e.name,filetype:e.type,session:n};return r.search=new URLSearchParams(a),fetch(r,{method:"get",mode:"cors"}).then((function(e){if(e.ok)return e.json();throw new Error(e.responseText)})).then((function(t){return fetch(t.url,{method:"put",headers:{"Content-Type":e.type,"x-amz-acl":"public-read"},body:e})})).then((function(e){if(e.ok)return e;throw new Error(e.responseText)})).then((function(e){if(e.url)return e.url.split("?")[0]}))}(i,Alphachat.config.host,o).then(function(){var e=r(a.mark((function e(n){var r,i,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,i=n.split("/"),o=i[i.length-1],t.setState({loading:!1}),e.next=6,t.sendAttachment(o,r);case 6:Alphachat.client.widget.ScrollToBottom();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({loading:!1}),Lv.warn("{uploadFile} file upload failed",e)}))}},{key:"onFocus",value:function(){this.setState({focused:!0,emojiOpen:!1})}},{key:"onBlur",value:function(){this.setState({focused:!1,emojiOpen:!1})}},{key:"render",value:function(){var e=this.state,t=e.files,n=e.loading,r=e.focused,a=e.emojiOpen,i=this.props,o=i.active,s=i.placeholder;return ve.createElement("div",{id:"alpha-chat-input-container",className:r?"chat-input-active":""},!o&&ve.createElement("div",{id:"alphachat-input-inactive"}),n&&n,ve.createElement(jv,{files:t,deleteFile:this.deleteFile}),ve.createElement("textarea",{tabIndex:"0",onKeyDown:this.keyDown.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),id:"alpha-chat-input-text",ref:this.input,disabled:!o,placeholder:s,onInput:this.userWriting.bind(this)}),Alphachat.config.files&&ve.createElement("div",{id:"alpha-chat-input-file",onClick:this.openUpload},ve.createElement("input",{type:"file",id:"alphachat-file",onChange:this.uploadFile.bind(this)})),Alphachat.config.emoji&&ve.createElement("div",{onClick:this.openEmoji.bind(this),id:"alpha-chat-input-emoji"},ve.createElement(Ov,{open:a,onPick:this.addEmoji.bind(this)})),ve.createElement("div",{id:"alpha-chat-input-submit",onClick:this.send}))}}]),s}(me))||Mv;function Hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Uv,Bv=function(e){c(n,e);var t=Hv(n);function n(e){return i(this,n),t.call(this,e)}return o(n,[{key:"render",value:function(){return ve.createElement("div",{id:"alpha-chat-footer"},ve.createElement("div",{id:"alpha-chat-footer-text",dangerouslySetInnerHTML:{__html:this.props.message}}))}}]),n}(me);function qv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var Vv=function(e){(e&&(e.preventDefault(),e.stopPropagation()),Alphachat.client&&Alphachat.client.erase)?Alphachat.client.erase():document.querySelector("alpha-chat")&&document.querySelector("alpha-chat").remove()},Wv=ud(Uv=function(e){c(n,e);var t=qv(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).detail={detail:{trigger:"user"}},r}return o(n,[{key:"componentDidMount",value:function(){"webview"===Alphachat.config.layout&&(this.openChat(),this.props.settings.setHeaderHide(!0)),Alphachat.client&&(Alphachat.client.removeChatContainer=Vv)}},{key:"closeChat",value:function(){document.dispatchEvent(new CustomEvent("on-alphachat-close",this.detail))}},{key:"openChat",value:function(){document.dispatchEvent(new CustomEvent("on-alphachat-open",this.detail))}},{key:"miniMizeChat",value:function(){document.dispatchEvent(new CustomEvent("on-alphachat-minimize",this.detail))}},{key:"render",value:function(){var e=this.props.settings,t=e.input,n=e.hideInput,r=e.unSeenMessages,a=(e.open,e.headerHide),i=e.hideCloseLauncher,o=this.props.state.agent,s=o.avatar,c=o.title;return ve.createElement("section",{style:a?{"--chat-height":"110%"}:{},id:"alphachat",className:"alpha-chat-closed"},ve.createElement("div",{id:"alpha-chat-container",style:n?{gridTemplateRows:"var(--grid-header) calc(var(--chat-height) - var(--grid-header) - 15px)"}:{}},a?ve.createElement("section",{style:a?{height:"0px"}:{},id:"alpha-chat-container-head"}):ve.createElement("section",{id:"alpha-chat-container-head"},ve.createElement("img",{id:"alpha-chat-header-logo",src:s}),ve.createElement("span",{id:"alpha-chat-header-title"},c),Alphachat.config.menu&&Alphachat.config.menu.enabled?ve.createElement("span",{onClick:Alphachat.client.widget.ShowMenu,id:"alpha-chat-header-options"}):null,Alphachat.config.start.alwaysOpen?null:ve.createElement("span",{onClick:this.miniMizeChat.bind(this),id:"alpha-chat-header-minimize"}),Alphachat.config.start.alwaysOpen?null:ve.createElement("span",{onClick:this.closeChat.bind(this),id:"alpha-chat-header-close"})),ve.createElement(Av,{settings:this.props.settings,messages:Alphachat.state.messages,form:Alphachat.state.form}),!n&&ve.createElement(Fv,{placeholder:Alphachat.state.translations.input_placeholder,active:t}),Alphachat.config.footer&&ve.createElement(Bv,{message:Alphachat.config.footer})),ve.createElement("div",{onClick:this.openChat.bind(this),id:"alpha-chat-launcher"},ve.createElement("span",{id:"alpha-chat-launcher-description"},this.props.state.translations.greeting),ve.createElement("span",{id:"alpha-chat-launcher-button"}),r>0&&ve.createElement("div",{id:"alpha-chat-unseen-counter"},r),Alphachat.config.closeLauncher&&!i&&ve.createElement("div",{title:"Close",onClick:Vv,id:"alpha-chat-launcher-remove"})))}}]),n}(me))||Uv,zv=k.client("alphachat-v2 Application/utils/index.js");function $v(e,t,n){return n||zv.warn('{addScriptToHead} Please add script name when loading "'.concat(e,'", to avoid loading scripts twice')),new Promise((function(r){if(document.querySelector("#".concat(n)))r();else{var a=document.getElementsByTagName("head")[0],i=document.createElement("script");i.onload=function(){r()},i.id=n,i.src=e,i.type="text/javascript",i.setAttribute("data-config",t),a.appendChild(i)}}))}var Gv=function(e,t){zv.debug("Adding script: ".concat(e," (id=").concat(t,")")),t||zv.warn('{addScriptToAlphachat} Please add script name when loading "'.concat(e,'", to avoid loading scripts twice'));var n=document.querySelector("#alphachat-root");if(n.querySelector("#".concat(t))||!n)return new Promise;var r=document.createElement("script");r.id=t,r.src=e,r.type="text/javascript";var a=new Promise((function(e){r.onload=function(){e()}}));return n.append(r),a};function Jv(e){return new Promise((function(t){var n=document.getElementsByTagName("head")[0],r=document.createElement("link");r.onload=function(){t()},r.href=e,r.type="text/css",r.rel="stylesheet",n.appendChild(r)}))}function Kv(e){return new Promise((function(t){return setTimeout((function(){return t()}),e||0)}))}var Qv=function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))};function Yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yv(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zv=k.client("alphachat-v2 Application/utils/handleApicallResult.js"),em=function(e,t){if(Zv.debug("[handleApicallResult] apicall_result=".concat(JSON.stringify(t))),e.state||(e.state={}),!t)return Zv.debug('{handleApicallResult} apicall_result of "'.concat(e.apicall,'" is undefined')),void(e.resolve&&e.resolve());if(e.poll_attempts){"poll_counter"in e.state?++e.state.poll_counter:e.state.poll_counter=1,Zv.debug("[handleApicallResult] Poll no. ".concat(e.state.poll_counter,", result:"),t);var n="";try{n=new RegExp(e.poll_break_value)}catch(t){Zv.warn("Invalid regex in instruction.poll_break_value: ".concat(e.poll_break_value))}if(!t.result.match(n)&&e.state.poll_counter<e.poll_attempts)return Alphachat.timer.push(setTimeout((function(){Alphachat.client.JSCall({js:e})}),e.poll_interval?1e3*e.poll_interval:3e3)),void(e.resolve&&e.resolve())}t.session&&(Alphachat.session||(Alphachat.session={}),Alphachat.session=Xv(Xv({},Alphachat.session),t.session)),Zv.debug('{handleApicallResult} "'.concat(e.apicall,'" instruction: ').concat(JSON.stringify(e))),Zv.debug('{handleApicallResult} "'.concat(e.apicall,'" result:'),t),e.resolve&&e.resolve(),t.result&&!e.silent&&Alphachat.currentAgent&&"bot"===Alphachat.currentAgent.type&&e.wait_for_input?Alphachat.currentAgent&&Alphachat.currentAgent.SendMessage({type:"payload",payload:{message:t.result},trigger:"apicall"}):Zv.warn('{handleApicallResult} Ignoring apicall result: "'.concat(t.result,'" based on instruction ').concat(JSON.stringify(e)))},tm=k.client("alphachat-v2 Application/utility/middleware.js"),nm={},rm=function(e){return{result:"apierror",reason:e}},am=["Alphachat","middleware"];nm.queryHandover=function(){var e=Alphachat.user,t=e.page_info,n=e.enduser_id,r={action:"query handover",sender_role:"enduser",url:t.url,enduser_id:n,sender_id:n,isotime:(new Date).toISOString()};return Alphachat.api.post("".concat(Alphachat.config.agentServer,"/handover"),r).then((function(e){tm.debug("{queryHandover} queryHandover result: ",e);var t=e.result.reason,n="ticket is closed"==t?"possible":e.result.handover;return t&&(n+=" ".concat(t)),"position in queue"in e.result&&e.result["position in queue"]&&(Alphachat.session.position_in_queue=e.result["position in queue"]),{result:n,reason:e.result.reason}})).catch((function(e){return console.error(e),rm("".concat(am.join("."),".queryHandover: exception while fetching from agent server"))}))},nm.queryUri=function(){return tm.debug("{queryUri} JS apicall"),{result:window.location.href}},nm.triggerForm=function(e){if(e.form_name!==Alphachat.client.getVisibleFormName())return tm.debug("{triggerForm} JS apicall"),e.form_name in Alphachat.config.forms?(kd.Fire("alphachat-disable"),Alphachat.client.widget.ShowForm(e.form_name).then((function(e){var t="resolved";return"form-abort"===e?t="aborted":e&&(Object.assign(Alphachat.user,e),delete e.name,delete e.email,Object.assign(Alphachat.user.custom_attributes,e)),kd.Fire("alphachat-enable"),{result:t}}))):rm("".concat(am.join("."),".triggerForm: form not found"))},nm.triggerUri=function(e){var t=e.uri,n=e.inplace;if(t){var r=t.startsWith("http")?t:"https://".concat(t);if(!0===n)window.location.href=r;else{var a=window.open(r);a&&a.focus&&a.focus()}}};var im={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:7},om=function(e){var t=Object.assign({},e.begin),n=Object.assign({},e.end);return t.day&&(t.day=t.day.toLowerCase()),n.day&&(n.day=n.day.toLowerCase()),Object.keys(im).forEach((function(e){t.day.includes&&t.day.includes(e)&&(t.day=im[e]),n.day.includes&&n.day.includes(e)&&(n.day=im[e])})),void 0===t.hour&&(t.hour=0),void 0===n.hour&&(n.hour=23),void 0===t.minute&&(t.minute=0),void 0===n.minute&&(n.minute=59),{begin:t,end:n}};nm.matchPeriod=function(e){var t={result:"no match"},n=e.period;if(!(n&&(n.length||n.begin&&n.end)))return t;var r=new Date;return void 0===n.length&&(n=[n]),(n=n.map(om)).some((function(e){return function(e,t){var n=e.begin,r=e.end;return t.getDay()>=n.day&&t.getDay()<=r.day&&(t.getHours()==n.hour?n.hour==r.hour?t.getMinutes()>=n.minute&&t.getMinutes()<=r.minute:t.getMinutes()>=n.minute:t.getHours()==r.hour?t.getMinutes()<=r.minute:t.getHours()>n.hour&&t.getHours()<r.hour)}(e,r)}))?{result:"period matched"}:t};var sm,cm=function(){var e=window;return am.forEach((function(t){e[t]||(e[t]={}),e=e[t]})),Object.keys(e).length||Object.assign(e,nm),e},lm=k.client("alphachat-v2 Application/internal/index.js"),um=function(e,t,n){if(e){if(!(t&&t.values&&t.values.length&&n))return e;var r={};return Object.keys(e).forEach((function(a){var i=a;t.values.forEach((function(e){e.key==a&&e.name&&n[e.name]&&(i=n[e.name])})),r[i]=e[a]})),r}},hm=function(){var e=r(a.mark((function e(t){var n,r,i,o,s,c=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"offline",r=Alphachat.config.forms[n],i=Alphachat.state.translations&&Alphachat.state.translations.forms,t&&r){e.next=6;break}return lm.warn("{SendEmailForm} Unknown form or missing form data."),e.abrupt("return");case 6:if(r.enabled){e.next=8;break}return e.abrupt("return");case 8:return t=um(t,r,i),Alphachat.user&&Alphachat.user.location&&Alphachat.user.location.ip&&(t.IP=Alphachat.user.location.ip),o=new Date,s={title:r.subject,form_name:r.name||n,widget_id:Alphachat.configUrl.split("/").filter((function(e){return e})).pop(),formData:t,send_date:o.toISOString()},t.captcha_response&&(s.captcha_response=t.captcha_response,delete t.captcha_response),e.next=15,Alphachat.api.post(r.api_url,s);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pm=function(e,t){if(e.apicall in cm()&&"function"==typeof cm()[e.apicall]){var n;try{n=cm()[e.apicall](e,t)}catch(t){return lm.error(t),em(e,{result:"apierror",reason:'Exception in "'.concat(e.apicall,'"')}),!0}if(n){if(n.then)return n.then((function(t){em(e,t)}));em(e,n)}return!0}return!1},fm=function(){var e=r(a.mark((function e(t){var n,r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t&&t.js)&&n.apicall){e.next=4;break}return n&&n.resolve&&n.resolve(),e.abrupt("return");case 4:if(lm.debug('{JSCall} "'.concat(n.apicall,'" js_object=').concat(JSON.stringify(n))),"triggerForm"!==n.apicall){e.next=13;break}if(!n.form_name){e.next=13;break}if(r=n.form_name,!Alphachat.config.forms[r]){e.next=13;break}if(!Alphachat.config.forms[r].api_url){e.next=13;break}return Qv("alphachat-email-form",{formName:r}),n.resolve&&n.resolve(),e.abrupt("return");case 13:if(!(i=pm(n,t)).then){e.next=17;break}return e.next=17,i;case 17:if(!1!==i){e.next=31;break}if(!Alphachat.config.jsMiddleware){e.next=30;break}return e.next=21,$v(Alphachat.config.jsMiddleware,void 0,"alphachat-mw");case 21:if(!(i=pm(n)).then){e.next=25;break}return e.next=25,i;case 25:if(!1!==i){e.next=28;break}return em(n,{result:"apierror",reason:'apicall "'.concat(n.apicall,'" not found')}),e.abrupt("return");case 28:e.next=31;break;case 30:em(n,{result:"apierror",reason:'apicall "'.concat(n.apicall,'" not found')});case 31:n.resolve&&n.resolve();case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dm=["name","email","phone","account"];history.pushState=(sm=history.pushState,function(){var e=sm.apply(this,arguments);return document.dispatchEvent(new Event("pushState")),document.dispatchEvent(new Event("updatelocation")),e}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return document.dispatchEvent(new Event("replaceState")),document.dispatchEvent(new Event("updatelocation")),t}}(history.replaceState);var gm=function(){document.dispatchEvent(new Event("updatelocation"))};window.addEventListener("popstate",gm),window.addEventListener("alphachatWidgetErase",(function(){return window.removeEventListener("popstate",gm)}));var vm=k.client("alphachat-v2 Application/utility/iframeCommunicator.js"),mm=function(){function e(t,n,r,a){var o=this;i(this,e),this.iframe=t,a&&(this.enduser_token=a),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.resetToken=this.resetToken.bind(this),this.getState=this.getState.bind(this),this.setState=this.setState.bind(this),this.promiseResolver={},this.config=n,this.receiveMessage=function(e){if(t.src.includes(e.origin)&&e.data){var n=e.data,r=n.postback;r&&r in o.promiseResolver&&(n.error?o.promiseResolver[r].reject(n.error):("reset token"===o.promiseResolver[r].action&&n.result&&Object.keys(n.result).length&&Object.assign(o,n.result),o.promiseResolver[r].resolve(n.result)))}},window.addEventListener("message",this.receiveMessage,!1)}var t,n,s,c,l;return o(e,[{key:"initState",value:(l=r(a.mark((function e(t,n){var r,i,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:1e3,vm.debug("[alphachat-v2 iframeCommunicator] initState"),!t){e.next=5;break}return e.next=5,t;case 5:return e.next=7,Promise.race([this.resetToken(),Kv(r)]);case 7:return(i=e.sent)&&Object.keys(i).length&&Object.assign(this,i),n&&n(),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"send",value:function(e){var t=this;e&&this.iframe&&(this.iframe.contentWindow?this.iframe.contentWindow.postMessage(e,this.iframe.src):new Promise((function(e){t.iframe.contentWindow&&e()})).then((function(){t.iframe.contentWindow.postMessage(e,t.iframe.src)})))}},{key:"sendAsync",value:(c=r(a.mark((function e(t){var n,r,i=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Math.random().toString(36).slice(2).padStart(10,"0"),r=new Promise((function(e,r){i.promiseResolver[n]={resolve:e,reject:r,action:t.action}})),t.postback=n,this.send(t),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"resetToken",value:(s=r(a.mark((function e(){var t,n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Alphachat.user.getCookieState(),n=t.enduser_token,e.abrupt("return",this.sendAsync({action:"reset token",payload:{enduser_token:n}}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getState",value:(n=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=this.config.sessionCookieExpireMinutes||180),e.abrupt("return",this.sendAsync({action:"get state",payload:{expiration:t}}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setState",value:(t=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.abrupt("return",this.sendAsync({action:"set state",payload:{state:t}}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function ym(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bm(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _m=k.client("alphachat-v2 Application/main.js");String.prototype.html=function(){return(new DOMParser).parseFromString(this,"text/html").body.firstChild},xp({isolateGlobalState:!0});var wm=wh({open:!1,input:!0,hideCloseLauncher:!1,hideInput:!1,headerHide:!1,unSeenMessages:0,agentTyping:!1,lastScrollPosition:0,setOpen:function(e){this.open=e,Alphachat.user&&Alphachat.user.is_open!=e&&Alphachat.user.SetIsOpen(e)},setInput:function(e){this.input=e},setLastScrollPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastScrollPosition=e},setHideInput:function(e){this.hideInput=e},setHideCloseLauncher:function(e){this.hideCloseLauncher=e},setHeaderHide:function(e){this.headerHide=e},setUnSeenMessages:function(e){this.unSeenMessages=e},setAgentTyping:function(e){this.agentTyping=e}},{setOpen:_p,setHeaderHide:_p,setHideCloseLauncher:_p,setInput:_p,setLastScrollPosition:_p,setUnSeenMessages:_p,setAgentTyping:_p}),km=!1,Em=!1;window.Alphachat=new pv({observable:wh,action:_p},{}),Alphachat.client.isOpen=function(){return!Em&&wm.open},Alphachat.version="20240202.1",Alphachat.client.removeForms=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(e||Alphachat.client.getVisibleFormName())&&(_m.debug("{Alphachat.client.removeForms}"),Alphachat.user&&Alphachat.user.SetForm(null,"removeForms"),Alphachat.state.setForm(),Alphachat.client.widget&&Alphachat.client.widget.ClearChildren(),t&&Alphachat.client.enableInput())},Alphachat.client.refresh=Alphachat.refreshClient.bind(Alphachat),Alphachat.client.reload=Alphachat.reloadClient.bind(Alphachat),Alphachat.client.enableInput=function(){return Qv("alphachat-enable")},Alphachat.client.disableInput=function(){return Qv("alphachat-disable")},Alphachat.client.typingAnimation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e&&(wm.setAgentTyping(!0),setTimeout((function(){return wm.setAgentTyping(!1)}),e))},Alphachat.client.isMobileDevice=document.documentElement.clientWidth<=640,Alphachat.client.getVisibleFormName=function(){var e=Alphachat.client.widget&&Alphachat.client.widget.shadowRoot.querySelector("form-element");return e&&e.getAttribute("name")},Alphachat.client.hide=function(){var e=Alphachat.client.widget.shadowRoot.querySelector("#alphachat");if(e){var t=[];e.classList.contains("alpha-chat-closed")?t.push("alpha-chat-closed"):e.classList.add("alpha-chat-closed"),e.classList.contains("alpha-chat-open")&&t.push("alpha-chat-open"),e.classList.remove("alpha-chat-open"),e.classList.add("alpha-chat-hidden"),Alphachat.client.widget.lastClassList=t}},Alphachat.client.unhide=function(){if(Alphachat.client.widget.lastClassList&&Alphachat.client.widget.lastClassList.length){var e=Alphachat.client.widget.shadowRoot.querySelector("#alphachat");e&&(e.classList.remove("alpha-chat-hidden"),e.classList.remove("alpha-chat-closed"),Alphachat.client.widget.lastClassList.forEach((function(t){return e.classList.add(t)})))}},Alphachat.client.erase=function(){var e=document.querySelector("alpha-chat");e&&e.remove(),Alphachat.client.clearCachedConfig(),setTimeout((function(){delete window.Alphachat,delete window.alphachatIsLoading;var e=document.getElementById("Alphachat-widget");e&&e.remove();var t=document.getElementById("alphachat-container");t&&t.remove(),document.dispatchEvent(new Event("alphachatWidgetErase")),window.dispatchEvent(new Event("alphachatWidgetErase"))}),500)},Alphachat.client.isInputEnabled=function(){return!0===wm.input},Alphachat.client.enableInput=function(){wm.setInput(!0)},Alphachat.client.disableInput=function(){wm.setInput(!1)},Alphachat.client.isVisible=function(){var e;return void 0!==document.hidden?e="hidden":void 0!==document.msHidden?e="msHidden":void 0!==document.webkitHidden&&(e="webkitHidden"),!document[e]&&Alphachat.client.isOpen()&&document.querySelector("#alphachat-container")},Alphachat.client.refreshUnseenMessages=r(a.mark((function e(){var t,n,r,i=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n=!1,e.prev=2,e.next=5,Alphachat.untilPropIsDefined("currentAgent",200,3e3);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return");case 10:t||(t=Alphachat.state.messages||[]),r=t.filter((function(e){return!1===e.seen_by_recipient&&"proactive"!==e.type&&"enduser"!==e.sender_role})),Alphachat.client.isVisible()&&(n=!0),_m.debug("{Alphachat.client.refreshUnseenMessages} unSeenMessages.length=".concat(r.length," unSeenMessages=").concat(JSON.stringify(r)," markAllAsSeen=").concat(n)),n&&r.length&&(r.forEach((function(e,t){setTimeout(Alphachat.currentAgent.MarkMessageSeen,150*t,e.message_id,"refreshUnseenMessages")})),r=[]),r.length>0?(wm.setUnSeenMessages(r.length),document.title=document.title.replace(/^[\(\)0-9 ]*(.*)/,"(".concat(r.length,") $1"))):(wm.unSeenMessages&&wm.setUnSeenMessages(0),document.title=document.title.replace(/^\([0-9]+\) (.*)/,"$1"));case 16:case"end":return e.stop()}}),e,null,[[2,7]])}))),Alphachat.client.lastScrollPosition=function(){return wm.lastScrollPosition},cm();var Sm=function(){var e=r(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Alphachat.StartWithConfig(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Am=function(e){var t=document.createElement("iframe");t.id="alphachat-enduser",t.frameBorder="0",t.loading="eager",t.importance="low",t.scrolling="no";var n="";return Alphachat.configUrl&&(n=Alphachat.configUrl.replace(/.*\/([a-zA-Z0-9\-_]+)\/?$/,"$1"))&&(n="?id=".concat(n)),t.src="".concat(e.agentServer,"/enduser.html").concat(n),t};function xm(e){return Cm.apply(this,arguments)}function Cm(){return(Cm=r(a.mark((function e(t){var n,r,i,o,s,c,l,u;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="alphachat-container",(r=document.querySelector("#".concat(n))||document.createElement("div")).id?r.innerHTML="":r.id=n,i=Am(t),o=new Promise((function(e,t){i.onload=function(){e(r)}})),_m.debug("Iframe created."),s=new mm(i,t,o,Alphachat.user.getCookieState().enduser_token),Alphachat.icomm=s,r.appendChild(i),c=document.createElement("style"),l=t.widgetUrl.replace(/[a-z0-1\-\.]+$/,"container.css"),c.textContent='@import "'.concat(l,'";'),r.appendChild(c),null===r.parentElement&&document.body.appendChild(r),_m.debug("Iframe was attached to document body"),e.next=17,o;case 17:return _m.debug("The script in the iframe was loaded"),e.next=20,s.initState();case 20:if(u=e.sent,_m.debug("Iframe was initialized: ".concat(JSON.stringify(u))),u){e.next=25;break}return e.next=25,s.initState();case 25:if(void 0!==s.enduser_token){e.next=28;break}return _m.error("Failed to fetch enduser token!"),e.abrupt("return");case 28:_m.debug("enduser_token was fetched ".concat(s.enduser_token));case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Om(e){return new Promise((function(t,n){setTimeout((function(){var n=Alphachat.config,r=void 0===n?{}:n,a=r.recaptcha,i="";a&&a.enabled&&a.sitekey&&(i='<div slot="alphachat-captcha" id="alphachat-captcha-container" class="g-recaptcha" data-sitekey="'.concat(a.sitekey,'" data-callback="alphachatCaptchaCallback" data-size="compact"></div>'));var o="<alpha-chat id='alphachat-root'>".concat(i,"</alpha-chat>").html();if(o.settings=wm,window.alphachatCaptchaCallback=function(e){Alphachat.client.widget.captchaResponse=e;var t=Alphachat.client.widget.shadowRoot.querySelector(".menu .button-index-0.disabled");t&&t.classList.remove("disabled");var n=Alphachat.client.widget.shadowRoot.querySelector("#captcha slot");n&&n.remove()},Alphachat.client.widget=o,e?e.appendChild(o):document.body.appendChild(o),_u.render(ve.createElement(Wv,{settings:wm,state:Alphachat.state}),o.shadowRoot),o.ApplyStyles(),r.plugins){var s,c=ym(r.plugins);try{for(c.s();!(s=c.n()).done;){var l=s.value;o.AddPlugin(l)}}catch(e){c.e(e)}finally{c.f()}}t()}),0)}))}Alphachat.StartWidget=function(){var e=r(a.mark((function e(t){var n,r,i,o,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_m.debug("{Alphachat.StartWidget} config=",t),t&&!0!==t.disabled){e.next=3;break}return e.abrupt("return");case 3:return Alphachat.api.config=t,_m.debug("Marker 1: StartWidget"),e.next=7,xm(t);case 7:return n=e.sent,_m.debug("Marker 2: StartWidget"),r=t.start.abortInitWhenHandoverIsImpossible,e.next=12,Alphachat.HandoverTest(t);case 12:if(!((i=e.sent)&&i.handover&&"impossible"==i.handover&&r)){e.next=16;break}return _m.debug("Aborting init because handover is ".concat(i.handover," and abortInitWhenHandoverIsImpossible=").concat(r)),e.abrupt("return");case 16:return _m.debug("Marker 4: StartWidget"),e.next=19,Alphachat.getHistoryHelper(t);case 19:return o=e.sent,s=o.history,c=void 0===s?[]:s,_m.debug("Marker 5: StartWidget"),e.next=25,Sm(t,!c.length);case 25:return _m.debug("Marker 6: StartWidget"),e.next=28,Om(n);case 28:_m.debug("Marker 7: StartWidget"),Tm(i,c),Qv("on-alphachat-load");case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Tm=function(){var e=r(a.mark((function e(t,n){var i,o,s,c,l,u;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Alphachat.config.start,o=i.greeting,s=i.popup,c=i.script,_m.debug("{startup} popup=".concat(JSON.stringify(s)," chatState=").concat(JSON.stringify(t)," history=").concat(JSON.stringify(n))),Alphachat.config.demo&&Alphachat.config.demo.background&&document.getElementsByTagName("body")[0].setAttribute("style",'background: url("'.concat(Alphachat.config.demo.background,'"); background-size: auto;')),Alphachat.config.headStyle&&Jv(Alphachat.config.headStyle),Alphachat.config.recaptcha&&Alphachat.config.recaptcha.enabled&&Alphachat.config.recaptcha.sitekey&&Gv("".concat(Alphachat.config.recaptcha.url||"https://www.google.com/recaptcha/api.js"),"alphachat-recaptcha"),kp(r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_m.debug("{mobx.autorun}"),wm.open&&!l&&(km=!0,wm.setUnSeenMessages(0),l=!0,Alphachat.client.widget.Open(wm)),!wm.open&&l&&(l=!1,Alphachat.client.widget.Hide(wm)),l||Alphachat.client.refreshUnseenMessages(),Alphachat.client.widget.ScrollToBottom(void 0,"mobx.autorun");case 5:case"end":return e.stop()}}),e)})))),Alphachat.config.avatar&&Alphachat.client.widget.SetGreetingBackground(Alphachat.config.avatar),o&&o.enabled&&Kv(o.timeout).then((function(){return Alphachat.client.widget.ShowGreeting()})),_m.debug("Marker 8: startup"),c&&c.url&&(c.delay?Kv(c.delay).then((function(){return Gv(c.url,c.name||"alphachat-startup")})):Gv(c.url,c.name||"alphachat-startup")),_m.debug("Marker 9: startup"),u=Alphachat.client.isMobileDevice,"active"===t.result||!l&&Alphachat.user.is_open&&!Alphachat.user.popup_sequence_in_progress?(_m.debug('{startup} chatState.result="'.concat(t.result,'" Alphachat.user.is_open=').concat(Alphachat.user.is_open," history="),n),Alphachat.Init({caller:"startup",agentInfo:{title:t.agent_name,avatar:t.avatar}}),(Alphachat.user.is_open||Alphachat.hasUnseenMessagesFromAgent(n))&&(wm.setOpen(!0),Qv("on-alphachat-open",{silent:!0}),u&&!Alphachat.config.start.alwaysOpen&&setTimeout(Qv,2e3,"on-alphachat-minimize",{silent:!0}))):km||!s||!s.enabled||l||Alphachat.user.proactive_served||u&&!s.mobile||(_m.debug("{startup} calling Alphachat.Init to launch popup sequence"),Alphachat.Init({popup:s,caller:"startup"}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Alphachat.client.JSCall=fm,kd.OnEvent("alphachat-disable",(function(){_m.debug("{OnEvent(ALPHACHAT_DISABLE)}"),wm.setInput(!1)})),kd.OnEvent("alphachat-enable",(function(){_m.debug("{OnEvent(ALPHACHAT_ENABLE)}"),wm.setInput(!0)})),kd.OnEvent("alphachat-open",(function(){_m.debug("{OnEvent(ALPHACHAT_OPEN)}"),wm.setOpen(!0)})),kd.OnEvent("alphachat-handover",(function(e){var t,n,r;_m.debug("{OnEvent(ALPHACHAT_HANDOVER_FORM)}"),e.detail||_m.warn("No form settings provided"),t=e.detail,n=t.FORM_TYPE,r=t.callback,n||lm.warn("{Handover} Please provide FORM_TYPE for handover"),n in Alphachat.config.forms&&Alphachat.config.forms[n].enabled?Alphachat.client.widget.ShowForm(n).then((function(e){lm.debug("{Handover} widget.ShowForm resolved"),e&&Object.keys(e).forEach((function(t){dm.includes(t)?Alphachat.user[t]=e[t]:Alphachat.user.custom_attributes[t]=e[t]})),r&&kd.Fire(r)})):r&&kd.Fire(r)})),kd.OnEvent("alphachat-email-form",(function(e){_m.debug("{OnEvent(ALPHACHAT_EMAIL_FORM)}");var t=e.detail?e.detail.formName:"offline";Alphachat.config.forms[t]&&Alphachat.config.forms[t].enabled&&Alphachat.client.widget.ShowForm(t).then(function(){var e=r(a.mark((function e(n){var r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"form-abort"==n){e.next=7;break}return e.next=3,hm(n,t);case 3:r=e.sent,i=!0,(void 0===r||r&&r.status&&"ok"!==r.status&&200!==r.status)&&(i=!1),Qv("on-alphachat-email-form-submit",{formName:t,success:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),kd.OnEvent("on-alphachat-agent-close",(function(e){_m.debug("{OnEvent(".concat("on-alphachat-agent-close",")}")),"#alphachat-test"===location.hash&&console.log("EVENT TEST ".concat("on-alphachat-agent-close")),wm.setInput(!1),Alphachat.client.widget.ClearChildren()}));var Nm=function(){var e=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_m.debug("{reloadConfiguration}"),t&&(Alphachat.rawConfig=Object.freeze(Object.assign(JSON.parse(JSON.stringify(Alphachat.rawConfig)),{dynamic:t}))),!(n=JSON.parse(JSON.stringify(Alphachat.rawConfig)))){e.next=6;break}return e.next=6,Sm(n,!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pm=function(){var e=r(a.mark((function e(){var t,n,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=!(r.length>1&&void 0!==r[1])||r[1],e.next=4,Alphachat.cancelTimeouts();case 4:return _m.debug("{reloadHelper} event.detail=".concat(t&&t.detail&&JSON.stringify(t.detail)||"none"," reloadAgents=").concat(n)),e.next=7,Nm(t&&t.detail);case 7:return Alphachat.client.removeForms(!0),e.next=10,Alphachat.startNewSession({reloadAgents:n,caller:"reloadHelper"});case 10:return km=!1,e.next=13,Promise.race([new Promise((function(e){Alphachat&&Alphachat.config&&Alphachat.config.agentServer&&e()})),Kv(3e3)]);case 13:wm.setInput(!0),wm.setUnSeenMessages(0),document.title="".concat(Alphachat.user.page_info.title);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mm=function(){var e=r(a.mark((function e(){var t,n,r=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},n=!(r.length>1&&void 0!==r[1])||r[1],_m.debug('{OnEvent("alphachat-reload")} isOpen='.concat(Alphachat&&Alphachat.client&&Alphachat.client.isOpen()," reloadAgents=").concat(n," event=").concat(JSON.stringify(t))),!Alphachat||!Alphachat.client||Alphachat.client.isOpen()){e.next=6;break}return e.next=6,Pm(t,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();kd.OnEvent("alphachat-reload",Mm),kd.OnEvent("alphachat-force-reload",function(){var e=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_m.debug('{OnEvent("alphachat-force-reload")}'),new Promise((function(e){n=e,Alphachat.resolveReloadFinishedPromise=e})),Alphachat.client.isVisible()||Alphachat.config.start.language===Alphachat.GetLanguage(Alphachat.rawConfig)){e.next=5;break}return e.next=5,Alphachat.resetUser();case 5:return e.next=7,Pm(t);case 7:delete Alphachat.resolveReloadFinishedPromise,n();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kd.OnEvent("updatelocation",r(a.mark((function e(){var t,n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(location.hash.includes("#alphachat")){e.next=10;break}return _m.debug('{OnEvent("updatelocation")}'),e.next=4,Alphachat.cancelTimeouts();case 4:return e.next=6,Alphachat.getHistoryHelper();case 6:t=e.sent,n=t.history,(void 0===n?[]:n).length?km=!0:Mm();case 10:case"end":return e.stop()}}),e)})))),kd.OnEvent("on-alphachat-open",function(){var e=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_m.debug('{OnEvent("on-alphachat-open")} globalState.open='.concat(wm.open," event.detail=").concat(t.detail&&JSON.stringify(t.detail))),!wm.open){e.next=3;break}return e.abrupt("return");case 3:if(!Alphachat.resolveReloadFinishedPromise){e.next=6;break}return e.next=6,Alphachat.resolveReloadFinishedPromise;case 6:if(!t.detail||"user"!=t.detail.trigger&&t.detail.silent){e.next=35;break}if(!Alphachat.state.info.startupScriptOpenedChat){e.next=17;break}e.t0=Alphachat.state.agent.type,e.next="chat"===e.t0?11:"bot"===e.t0?13:15;break;case 11:return Qv("on-alphachat-startup-conversation-with-agent-start"),e.abrupt("break",15);case 13:return Qv("on-alphachat-startup-conversation-with-bot-start"),e.abrupt("break",15);case 15:e.next=35;break;case 17:if(!t.detail||!t.detail.popup){e.next=28;break}xd.proactiveOffer(),e.t1=t.detail.agent,e.next="chat"===e.t1?22:"bot"===e.t1?24:26;break;case 22:return Qv("on-alphachat-proactive-conversation-with-agent-start"),e.abrupt("break",26);case 24:return Qv("on-alphachat-proactive-conversation-with-bot-start"),e.abrupt("break",26);case 26:e.next=35;break;case 28:e.t2=Alphachat.state.agent.type,e.next="chat"===e.t2?31:"bot"===e.t2?33:35;break;case 31:return Qv("on-alphachat-conversation-with-agent-start"),e.abrupt("break",35);case 33:return Qv("on-alphachat-conversation-with-bot-start"),e.abrupt("break",35);case 35:if(!Em){e.next=39;break}return e.next=38,Kv(1500);case 38:Em=!1;case 39:if(0!=wm.open){e.next=48;break}if(!t.detail||"user"!=t.detail.trigger){e.next=44;break}return e.next=43,Alphachat.user.ReloadUser(!0);case 43:Alphachat.user.popup_sequence_in_progress&&(_m.debug('{OnEvent("on-alphachat-open")} Resetting state because user opened widget while popup sequence was in progress'),Alphachat.ResetState("on-alphachat-open"));case 44:return Alphachat.client.widget.Open(wm),e.next=47,Alphachat.refreshClient({caller:"EVENT on-alphachat-open",important:!0});case 47:(Alphachat.config&&Alphachat.user&&Alphachat.user.location&&!Alphachat.user.location.ip||!Alphachat.user.location)&&Alphachat.user.getLocation(Alphachat.config);case 48:if(Alphachat.currentAgent){e.next=53;break}return e.next=51,Alphachat.Init({caller:"EVENT on-alphachat-open"});case 51:e.next=54;break;case 53:Alphachat.state.agent.avatar&&Alphachat.state.agent.title||Alphachat.currentAgent.refresh({caller:"on-alphachat-open"});case 54:setTimeout((function(){(Alphachat.state.chatHasFinished||Alphachat.state.info.hasUserInteracted)&&Alphachat.client.widget.ScrollToBottom()}),100);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kd.OnEvent("alphachat-agent-load-success",function(){var e=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_m.debug('{OnEvent("'.concat("alphachat-agent-load-success",'")} event.detail.agent=').concat(t.detail.agent)),wm.setHideInput(Alphachat&&Alphachat.currentAgent&&Alphachat.currentAgent.config&&Alphachat.currentAgent.config.hideInput);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var jm=function(){var e=r(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},Em=!0,wm.setOpen(!1),t&&t.force){e.next=8;break}return e.next=6,Alphachat.SendMessage({action:"add item",item_type:"close chat",value:"Customer closed chat"});case 6:Qv("on-alphachat-user-close"),document.title="".concat(Alphachat.user.page_info.title);case 8:return e.next=10,Mm({detail:t},!1);case 10:Em=!1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();kd.OnEvent("on-alphachat-close",(function(e){_m.debug('{OnEvent("on-alphachat-close")} detail:',e.detail),1==wm.open&&(Alphachat.config.closeWithoutConfirm||e.detail&&e.detail.force?jm(e.detail):Alphachat.client.widget.ShowDialog().then((function(e){!0===e.type&&jm()})))})),kd.OnEvent("on-alphachat-minimize",(function(e){_m.debug('{OnEvent("on-alphachat-minimize")}'),1==wm.open&&Alphachat.client.widget.Hide(wm)})),kd.OnEvent("agent-is-typing",(function(){_m.debug('{OnEvent("agent-is-typing")}'),wm.agentTyping?clearTimeout(Alphachat.timer_id):wm.setAgentTyping(!0),Alphachat.timer_id=setTimeout((function(){wm.setAgentTyping(!1)}),900)}));var Rm=function(){var e=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_m.debug("{event.hashchange} Alphachat.currentAgent=",Alphachat.currentAgent),!location.hash.includes("alphachat-open")){e.next=5;break}return Alphachat.currentAgent||(Alphachat.user.SetPopupSequenceInProgress(),_m.debug("{event.hashchange} will run Alphachat.Init()"),Alphachat.Init({caller:"EVENT hashchange"})),Alphachat.client.widget.Open(wm),e.abrupt("return");case 5:location.hash.includes("alphachat-close")&&Alphachat.client.widget.Hide(wm);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.addEventListener("hashchange",Rm),window.addEventListener("alphachatWidgetErase",(function(){return window.removeEventListener("hashchange",Rm)})),kd.OnEvent("on-alphachat-conversation-with-bot-start",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-with-bot-start")})),kd.OnEvent("on-alphachat-conversation-with-agent-start",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-with-agent-start")})),kd.OnEvent("on-alphachat-conversation-with-agent-unavailable",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-with-agent-unavailable")})),kd.OnEvent("on-alphachat-proactive-conversation-with-agent-start",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-proactive-conversation-with-agent-start")})),kd.OnEvent("on-alphachat-proactive-conversation-with-bot-start",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-proactive-conversation-with-bot-start")})),kd.OnEvent("on-alphachat-startup-conversation-with-agent-start",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-startup-conversation-with-agent-start")})),kd.OnEvent("on-alphachat-startup-conversation-with-agent-unavailable",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-startup-conversation-with-agent-unavailable")})),kd.OnEvent("on-alphachat-email-form-submit",function(){var e=r(a.mark((function e(t){var n,r,i,o,s,c,l;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.detail?t.detail.formName:"offline",r=t.detail&&t.detail.success,!(n&&Alphachat.state.translations.forms[n]&&Alphachat.state.translations.forms[n].thanks)){e.next=11;break}return i=Alphachat.state.translations.forms[n],o=i.thanks,s=i.error,c=void 0===s?"Form submission failed.":s,r&&(c=o),e.next=8,Alphachat.AddMessage({message:c,role:"system"});case 8:l=e.sent,Alphachat.SendMessage({action:"add item",item_type:"message",sender_role:"system",sender_id:"system",value:c,message_id:l}),setTimeout(Alphachat.client.widget.ScrollToBottom,500);case 11:"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-email-form-submit");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kd.OnEvent("on-alphachat-conversation-send-message",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-send-message"),Alphachat.state.info.firstMessageRegistered||(Alphachat.state.updateInfo({firstMessageRegistered:!0}),Qv("on-alphachat-conversation-first-send-message"))})),kd.OnEvent("on-alphachat-conversation-first-send-message",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-first-send-message")})),kd.OnEvent("on-alphachat-conversation-click-button",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-click-button"),Alphachat.state.info.firstClickRegistered||(Alphachat.state.updateInfo({firstClickRegistered:!0}),Qv("on-alphachat-conversation-first-click-button"))})),kd.OnEvent("on-alphachat-conversation-first-click-button",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-conversation-first-click-button")})),kd.OnEvent("on-alphachat-agent-closed",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-agent-closed")})),kd.OnEvent("on-alphachat-handover",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-handover")})),kd.OnEvent("on-alphachat-assigned-to-agent",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-assigned-to-agent")})),kd.OnEvent("on-alphachat-user-close",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-user-close")})),kd.OnEvent("on-alphachat-load",(function(){"#alphachat-test"===location.hash&&console.log("EVENT TEST on-alphachat-load"),Alphachat.config.start.alwaysOpen&&Qv("on-alphachat-open",{silent:!0})}));var Dm=function(){var e=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Alphachat||Alphachat.isTabActive){e.next=6;break}return _m.debug("window focus triggered Alphachat refresh"),Alphachat.isTabActive=!0,e.next=5,Alphachat.refreshClient({caller:"EVENT focus"});case 5:Alphachat&&Alphachat.user&&!Alphachat.user.popup_sequence_in_progress&&Alphachat.client&&Alphachat.client.widget&&(!wm.open&&Alphachat.user.is_open?Alphachat.client.widget.Open(wm):!wm.open||Alphachat.user.is_open||Alphachat.config.start.alwaysOpen||Alphachat.client.widget.Hide(wm));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();window.addEventListener("focus",Dm),window.addEventListener("alphachatWidgetErase",(function(){return window.removeEventListener("focus",Dm)}));var Im=function(e){Alphachat&&(Alphachat.isTabActive=!1,Alphachat.client&&Alphachat.client.widget&&Alphachat.client.widget.GetScrollTop())};window.addEventListener("blur",Im),window.addEventListener("alphachatWidgetErase",(function(){return window.removeEventListener("blur",Im)}))}();
